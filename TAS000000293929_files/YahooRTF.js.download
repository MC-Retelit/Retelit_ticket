if(typeof YAHOO=="undefined"||!YAHOO){var YAHOO={}}YAHOO.namespace=function(){var a=arguments,b=null,d,e,c;for(d=0;d<a.length;d=d+1){c=(""+a[d]).split(".");b=YAHOO;for(e=(c[0]=="YAHOO")?1:0;e<c.length;e=e+1){b[c[e]]=b[c[e]]||{};b=b[c[e]]}}return b};YAHOO.log=function(b,a,c){var d=YAHOO.widget.Logger;if(d&&d.log){return d.log(b,a,c)}else{return false}};YAHOO.register=function(d,i,a){var e=YAHOO.env.modules,c,f,g,h,b;if(!e[d]){e[d]={versions:[],builds:[]}}c=e[d];f=a.version;g=a.build;h=YAHOO.env.listeners;c.name=d;c.version=f;c.build=g;c.versions.push(f);c.builds.push(g);c.mainClass=i;for(b=0;b<h.length;b=b+1){h[b](c)}if(i){i.VERSION=f;i.BUILD=g}else{YAHOO.log("mainClass is undefined for module "+d,"warn")}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(a){return YAHOO.env.modules[a]||null};YAHOO.env.ua=function(){var b={ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0,caja:0},c=navigator.userAgent,a;if((/KHTML/).test(c)){b.webkit=1}a=c.match(/AppleWebKit\/([^\s]*)/);if(a&&a[1]){b.webkit=parseFloat(a[1]);if(/ Mobile\//.test(c)){b.mobile="Apple"}else{a=c.match(/NokiaN[^\/]*/);if(a){b.mobile=a[0]}}a=c.match(/AdobeAIR\/([^\s]*)/);if(a){b.air=a[0]}}if(!b.webkit){a=c.match(/Opera[\s\/]([^\s]*)/);if(a&&a[1]){b.opera=parseFloat(a[1]);a=c.match(/Opera Mini[^;]*/);if(a){b.mobile=a[0]}}else{a=c.match(/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/);if(a&&(a[1]||a[2])){b.ie=parseFloat(a[1]||a[2])}else{a=c.match(/Gecko\/([^\s]*)/);if(a){b.gecko=1;a=c.match(/rv:([^\s\)]*)/);if(a&&a[1]){b.gecko=parseFloat(a[1])}}}}}a=c.match(/Caja\/([^\s]*)/);if(a&&a[1]){b.caja=parseFloat(a[1])}return b}();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var d=YAHOO_config.listener,a=YAHOO.env.listeners,b=true,c;if(d){for(c=0;c<a.length;c=c+1){if(a[c]==d){b=false;break}}if(b){a.push(d)}}}})();YAHOO.lang=YAHOO.lang||{};(function(){var f=YAHOO.lang,b="[object Array]",e="[object Function]",a=Object.prototype,c=["toString","valueOf"],d={isArray:function(g){return a.toString.apply(g)===b},isBoolean:function(g){return typeof g==="boolean"},isFunction:function(g){return a.toString.apply(g)===e},isNull:function(g){return g===null},isNumber:function(g){return typeof g==="number"&&isFinite(g)},isObject:function(g){return(g&&(typeof g==="object"||f.isFunction(g)))||false},isString:function(g){return typeof g==="string"},isUndefined:function(g){return typeof g==="undefined"},_IEEnumFix:(YAHOO.env.ua.ie)?function(i,j){var k,g,h;for(k=0;k<c.length;k=k+1){g=c[k];h=j[g];if(f.isFunction(h)&&h!=a[g]){i[g]=h}}}:function(){},extend:function(h,g,i){if(!g||!h){throw new Error("extend failed, please check that all dependencies are included.")}var j=function(){},k;j.prototype=g.prototype;h.prototype=new j();h.prototype.constructor=h;h.superclass=g.prototype;if(g.prototype.constructor==a.constructor){g.prototype.constructor=g}if(i){for(k in i){if(f.hasOwnProperty(i,k)){h.prototype[k]=i[k]}}f._IEEnumFix(h.prototype,i)}},augmentObject:function(h,i){if(!i||!h){throw new Error("Absorb failed, verify dependencies.")}var l=arguments,j,g,k=l[2];if(k&&k!==true){for(j=2;j<l.length;j=j+1){h[l[j]]=i[l[j]]}}else{for(g in i){if(k||!(g in h)){h[g]=i[g]}}f._IEEnumFix(h,i)}},augmentProto:function(g,h){if(!h||!g){throw new Error("Augment failed, verify dependencies.")}var j=[g.prototype,h.prototype],i;for(i=2;i<arguments.length;i=i+1){j.push(arguments[i])}f.augmentObject.apply(this,j)},dump:function(o,j){var m,k,h=[],g="{...}",n="f(){...}",i=", ",l=" => ";if(!f.isObject(o)){return o+""}else{if(o instanceof Date||("nodeType" in o&&"tagName" in o)){return o}else{if(f.isFunction(o)){return n}}}j=(f.isNumber(j))?j:3;if(f.isArray(o)){h.push("[");for(m=0,k=o.length;m<k;m=m+1){if(f.isObject(o[m])){h.push((j>0)?f.dump(o[m],j-1):g)}else{h.push(o[m])}h.push(i)}if(h.length>1){h.pop()}h.push("]")}else{h.push("{");for(m in o){if(f.hasOwnProperty(o,m)){h.push(m+l);if(f.isObject(o[m])){h.push((j>0)?f.dump(o[m],j-1):g)}else{h.push(o[m])}h.push(i)}}if(h.length>1){h.pop()}h.push("}")}return h.join("")},substitute:function(g,u,n){var q,r,s,k,j,h,l=[],t,p="dump",m=" ",v="{",i="}",o;for(;;){q=g.lastIndexOf(v);if(q<0){break}r=g.indexOf(i,q);if(q+1>=r){break}t=g.substring(q+1,r);k=t;h=null;s=k.indexOf(m);if(s>-1){h=k.substring(s+1);k=k.substring(0,s)}j=u[k];if(n){j=n(k,j,h)}if(f.isObject(j)){if(f.isArray(j)){j=f.dump(j,parseInt(h,10))}else{h=h||"";o=h.indexOf(p);if(o>-1){h=h.substring(4)}if(j.toString===a.toString||o>-1){j=f.dump(j,parseInt(h,10))}else{j=j.toString()}}}else{if(!f.isString(j)&&!f.isNumber(j)){j="~-"+l.length+"-~";l[l.length]=t}}g=g.substring(0,q)+j+g.substring(r+1)}for(q=l.length-1;q>=0;q=q-1){g=g.replace(new RegExp("~-"+q+"-~"),"{"+l[q]+"}","g")}return g},trim:function(h){try{return h.replace(/^\s+|\s+$/g,"")}catch(g){return h}},merge:function(){var g={},i=arguments,j=i.length,h;for(h=0;h<j;h=h+1){f.augmentObject(g,i[h],true)}return g},later:function(h,n,g,l,k){h=h||0;n=n||{};var m=g,i=l,j,o;if(f.isString(g)){m=n[g]}if(!m){throw new TypeError("method undefined")}if(!f.isArray(i)){i=[l]}j=function(){m.apply(n,i)};o=(k)?setInterval(j,h):setTimeout(j,h);return{interval:k,cancel:function(){if(this.interval){clearInterval(o)}else{clearTimeout(o)}}}},isValue:function(g){return(f.isObject(g)||f.isString(g)||f.isNumber(g)||f.isBoolean(g))}};f.hasOwnProperty=(a.hasOwnProperty)?function(h,g){return h&&h.hasOwnProperty(g)}:function(h,g){return !f.isUndefined(h[g])&&h.constructor.prototype[g]!==h[g]};d.augmentObject(f,d,true);YAHOO.util.Lang=f;f.augment=f.augmentProto;YAHOO.augment=f.augmentProto;YAHOO.extend=f.extend})();YAHOO.register("yahoo",YAHOO,{version:"2.7.0",build:"1799"});if(typeof YAHOO=="undefined"||!YAHOO){var YAHOO={}}YAHOO.namespace=function(){var a=arguments,b=null,d,e,c;for(d=0;d<a.length;d=d+1){c=(""+a[d]).split(".");b=YAHOO;for(e=(c[0]=="YAHOO")?1:0;e<c.length;e=e+1){b[c[e]]=b[c[e]]||{};b=b[c[e]]}}return b};YAHOO.log=function(b,a,c){var d=YAHOO.widget.Logger;if(d&&d.log){return d.log(b,a,c)}else{return false}};YAHOO.register=function(d,i,a){var e=YAHOO.env.modules,c,f,g,h,b;if(!e[d]){e[d]={versions:[],builds:[]}}c=e[d];f=a.version;g=a.build;h=YAHOO.env.listeners;c.name=d;c.version=f;c.build=g;c.versions.push(f);c.builds.push(g);c.mainClass=i;for(b=0;b<h.length;b=b+1){h[b](c)}if(i){i.VERSION=f;i.BUILD=g}else{YAHOO.log("mainClass is undefined for module "+d,"warn")}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(a){return YAHOO.env.modules[a]||null};YAHOO.env.ua=function(){var b={ie:0,opera:0,gecko:0,webkit:0,mobile:null,air:0,caja:0},c=navigator.userAgent,a;if((/KHTML/).test(c)){b.webkit=1}a=c.match(/AppleWebKit\/([^\s]*)/);if(a&&a[1]){b.webkit=parseFloat(a[1]);if(/ Mobile\//.test(c)){b.mobile="Apple"}else{a=c.match(/NokiaN[^\/]*/);if(a){b.mobile=a[0]}}a=c.match(/AdobeAIR\/([^\s]*)/);if(a){b.air=a[0]}}if(!b.webkit){a=c.match(/Opera[\s\/]([^\s]*)/);if(a&&a[1]){b.opera=parseFloat(a[1]);a=c.match(/Opera Mini[^;]*/);if(a){b.mobile=a[0]}}else{a=c.match(/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/);if(a&&(a[1]||a[2])){b.ie=parseFloat(a[1]||a[2])}else{a=c.match(/Gecko\/([^\s]*)/);if(a){b.gecko=1;a=c.match(/rv:([^\s\)]*)/);if(a&&a[1]){b.gecko=parseFloat(a[1])}}}}}a=c.match(/Caja\/([^\s]*)/);if(a&&a[1]){b.caja=parseFloat(a[1])}return b}();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var d=YAHOO_config.listener,a=YAHOO.env.listeners,b=true,c;if(d){for(c=0;c<a.length;c=c+1){if(a[c]==d){b=false;break}}if(b){a.push(d)}}}})();YAHOO.lang=YAHOO.lang||{};(function(){var f=YAHOO.lang,b="[object Array]",e="[object Function]",a=Object.prototype,c=["toString","valueOf"],d={isArray:function(g){return a.toString.apply(g)===b},isBoolean:function(g){return typeof g==="boolean"},isFunction:function(g){return a.toString.apply(g)===e},isNull:function(g){return g===null},isNumber:function(g){return typeof g==="number"&&isFinite(g)},isObject:function(g){return(g&&(typeof g==="object"||f.isFunction(g)))||false},isString:function(g){return typeof g==="string"},isUndefined:function(g){return typeof g==="undefined"},_IEEnumFix:(YAHOO.env.ua.ie)?function(i,j){var k,g,h;for(k=0;k<c.length;k=k+1){g=c[k];h=j[g];if(f.isFunction(h)&&h!=a[g]){i[g]=h}}}:function(){},extend:function(h,g,i){if(!g||!h){throw new Error("extend failed, please check that all dependencies are included.")}var j=function(){},k;j.prototype=g.prototype;h.prototype=new j();h.prototype.constructor=h;h.superclass=g.prototype;if(g.prototype.constructor==a.constructor){g.prototype.constructor=g}if(i){for(k in i){if(f.hasOwnProperty(i,k)){h.prototype[k]=i[k]}}f._IEEnumFix(h.prototype,i)}},augmentObject:function(h,i){if(!i||!h){throw new Error("Absorb failed, verify dependencies.")}var l=arguments,j,g,k=l[2];if(k&&k!==true){for(j=2;j<l.length;j=j+1){h[l[j]]=i[l[j]]}}else{for(g in i){if(k||!(g in h)){h[g]=i[g]}}f._IEEnumFix(h,i)}},augmentProto:function(g,h){if(!h||!g){throw new Error("Augment failed, verify dependencies.")}var j=[g.prototype,h.prototype],i;for(i=2;i<arguments.length;i=i+1){j.push(arguments[i])}f.augmentObject.apply(this,j)},dump:function(o,j){var m,k,h=[],g="{...}",n="f(){...}",i=", ",l=" => ";if(!f.isObject(o)){return o+""}else{if(o instanceof Date||("nodeType" in o&&"tagName" in o)){return o}else{if(f.isFunction(o)){return n}}}j=(f.isNumber(j))?j:3;if(f.isArray(o)){h.push("[");for(m=0,k=o.length;m<k;m=m+1){if(f.isObject(o[m])){h.push((j>0)?f.dump(o[m],j-1):g)}else{h.push(o[m])}h.push(i)}if(h.length>1){h.pop()}h.push("]")}else{h.push("{");for(m in o){if(f.hasOwnProperty(o,m)){h.push(m+l);if(f.isObject(o[m])){h.push((j>0)?f.dump(o[m],j-1):g)}else{h.push(o[m])}h.push(i)}}if(h.length>1){h.pop()}h.push("}")}return h.join("")},substitute:function(g,u,n){var q,r,s,k,j,h,l=[],t,p="dump",m=" ",v="{",i="}",o;for(;;){q=g.lastIndexOf(v);if(q<0){break}r=g.indexOf(i,q);if(q+1>=r){break}t=g.substring(q+1,r);k=t;h=null;s=k.indexOf(m);if(s>-1){h=k.substring(s+1);k=k.substring(0,s)}j=u[k];if(n){j=n(k,j,h)}if(f.isObject(j)){if(f.isArray(j)){j=f.dump(j,parseInt(h,10))}else{h=h||"";o=h.indexOf(p);if(o>-1){h=h.substring(4)}if(j.toString===a.toString||o>-1){j=f.dump(j,parseInt(h,10))}else{j=j.toString()}}}else{if(!f.isString(j)&&!f.isNumber(j)){j="~-"+l.length+"-~";l[l.length]=t}}g=g.substring(0,q)+j+g.substring(r+1)}for(q=l.length-1;q>=0;q=q-1){g=g.replace(new RegExp("~-"+q+"-~"),"{"+l[q]+"}","g")}return g},trim:function(h){try{return h.replace(/^\s+|\s+$/g,"")}catch(g){return h}},merge:function(){var g={},i=arguments,j=i.length,h;for(h=0;h<j;h=h+1){f.augmentObject(g,i[h],true)}return g},later:function(h,n,g,l,k){h=h||0;n=n||{};var m=g,i=l,j,o;if(f.isString(g)){m=n[g]}if(!m){throw new TypeError("method undefined")}if(!f.isArray(i)){i=[l]}j=function(){m.apply(n,i)};o=(k)?setInterval(j,h):setTimeout(j,h);return{interval:k,cancel:function(){if(this.interval){clearInterval(o)}else{clearTimeout(o)}}}},isValue:function(g){return(f.isObject(g)||f.isString(g)||f.isNumber(g)||f.isBoolean(g))}};f.hasOwnProperty=(a.hasOwnProperty)?function(h,g){return h&&h.hasOwnProperty(g)}:function(h,g){return !f.isUndefined(h[g])&&h.constructor.prototype[g]!==h[g]};d.augmentObject(f,d,true);YAHOO.util.Lang=f;f.augment=f.augmentProto;YAHOO.augment=f.augmentProto;YAHOO.extend=f.extend})();YAHOO.register("yahoo",YAHOO,{version:"2.7.0",build:"1799"});(function(){YAHOO.env._id_counter=YAHOO.env._id_counter||0;var ao=YAHOO.util,ai=YAHOO.lang,aE=YAHOO.env.ua,at=YAHOO.lang.trim,aN={},aJ={},ag=/^t(?:able|d|h)$/i,y=/color$/i,aj=window.document,z=aj.documentElement,aM="ownerDocument",aD="defaultView",av="documentElement",ax="compatMode",aP="offsetLeft",ae="offsetTop",aw="offsetParent",x="parentNode",aF="nodeType",aq="tagName",af="scrollLeft",aI="scrollTop",ad="getBoundingClientRect",au="getComputedStyle",aQ="currentStyle",ah="CSS1Compat",aO="BackCompat",aK="class",an="className",ak="",ar=" ",ay="(?:^|\\s)",aG="(?= |$)",Y="g",aB="position",aL="fixed",G="relative",aH="left",aC="top",az="medium",aA="borderLeftWidth",ac="borderTopWidth",ap=aE.opera,al=aE.webkit,am=aE.gecko,aa=aE.ie;ao.Dom={CUSTOM_ATTRIBUTES:(!z.hasAttribute)?{"for":"htmlFor","class":an}:{htmlFor:"for",className:aK},get:function(f){var e,d,c,a,b;if(f){if(f[aF]||f.item){return f}if(typeof f==="string"){e=f;f=aj.getElementById(f);if(f&&f.id===e){return f}else{if(f&&aj.all){f=null;d=aj.all[e];for(a=0,b=d.length;a<b;++a){if(d[a].id===e){return d[a]}}}}return f}if(f.DOM_EVENTS){f=f.get("element")}if("length" in f){c=[];for(a=0,b=f.length;a<b;++a){c[c.length]=ao.Dom.get(f[a])}return c}return f}return null},getComputedStyle:function(a,b){if(window[au]){return a[aM][aD][au](a,null)[b]}else{if(a[aQ]){return ao.Dom.IE_ComputedStyle.get(a,b)}}},getStyle:function(a,b){return ao.Dom.batch(a,ao.Dom._getStyle,b)},_getStyle:function(){if(window[au]){return function(b,d){d=(d==="float")?d="cssFloat":ao.Dom._toCamel(d);var a=b.style[d],c;if(!a){c=b[aM][aD][au](b,null);if(c){a=c[d]}}return a}}else{if(z[aQ]){return function(b,e){var a;switch(e){case"opacity":a=100;try{a=b.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(d){try{a=b.filters("alpha").opacity}catch(c){}}return a/100;case"float":e="styleFloat";default:e=ao.Dom._toCamel(e);a=b[aQ]?b[aQ][e]:null;return(b.style[e]||a)}}}}}(),setStyle:function(b,c,a){ao.Dom.batch(b,ao.Dom._setStyle,{prop:c,val:a})},_setStyle:function(){if(aa){return function(c,b){var a=ao.Dom._toCamel(b.prop),d=b.val;if(c){switch(a){case"opacity":if(ai.isString(c.style.filter)){c.style.filter="alpha(opacity="+d*100+")";if(!c[aQ]||!c[aQ].hasLayout){c.style.zoom=1}}break;case"float":a="styleFloat";default:c.style[a]=d}}else{}}}else{return function(c,b){var a=ao.Dom._toCamel(b.prop),d=b.val;if(c){if(a=="float"){a="cssFloat"}c.style[a]=d}else{}}}}(),getXY:function(a){return ao.Dom.batch(a,ao.Dom._getXY)},_canPosition:function(a){return(ao.Dom._getStyle(a,"display")!=="none"&&ao.Dom._inDoc(a))},_getXY:function(){if(aj[av][ad]){return function(j){var i,a,h,c,d,e,f,l,k,g=Math.floor,b=false;if(ao.Dom._canPosition(j)){h=j[ad]();c=j[aM];i=ao.Dom.getDocumentScrollLeft(c);a=ao.Dom.getDocumentScrollTop(c);b=[g(h[aH]),g(h[aC])];if(aa&&aE.ie<8){d=2;e=2;f=c[ax];l=ab(c[av],aA);k=ab(c[av],ac);if(aE.ie===6){if(f!==aO){d=0;e=0}}if((f==aO)){if(l!==az){d=parseInt(l,10)}if(k!==az){e=parseInt(k,10)}}b[0]-=d;b[1]-=e}if((a||i)){b[0]+=i;b[1]+=a}b[0]=g(b[0]);b[1]=g(b[1])}else{}return b}}else{return function(h){var a,g,f,d,c,e=false,b=h;if(ao.Dom._canPosition(h)){e=[h[aP],h[ae]];a=ao.Dom.getDocumentScrollLeft(h[aM]);g=ao.Dom.getDocumentScrollTop(h[aM]);c=((am||aE.webkit>519)?true:false);while((b=b[aw])){e[0]+=b[aP];e[1]+=b[ae];if(c){e=ao.Dom._calcBorders(b,e)}}if(ao.Dom._getStyle(h,aB)!==aL){b=h;while((b=b[x])&&b[aq]){f=b[aI];d=b[af];if(am&&(ao.Dom._getStyle(b,"overflow")!=="visible")){e=ao.Dom._calcBorders(b,e)}if(f||d){e[0]-=d;e[1]-=f}}e[0]+=a;e[1]+=g}else{if(ap){e[0]-=a;e[1]-=g}else{if(al||am){e[0]+=a;e[1]+=g}}}e[0]=Math.floor(e[0]);e[1]=Math.floor(e[1])}else{}return e}}}(),getX:function(a){var b=function(c){return ao.Dom.getXY(c)[0]};return ao.Dom.batch(a,b,ao.Dom,true)},getY:function(a){var b=function(c){return ao.Dom.getXY(c)[1]};return ao.Dom.batch(a,b,ao.Dom,true)},setXY:function(b,a,c){ao.Dom.batch(b,ao.Dom._setXY,{pos:a,noRetry:c})},_setXY:function(i,f){var e=ao.Dom._getStyle(i,aB),g=ao.Dom.setStyle,b=f.pos,a=f.noRetry,d=[parseInt(ao.Dom.getComputedStyle(i,aH),10),parseInt(ao.Dom.getComputedStyle(i,aC),10)],c,h;if(e=="static"){e=G;g(i,aB,e)}c=ao.Dom._getXY(i);if(!b||c===false){return false}if(isNaN(d[0])){d[0]=(e==G)?0:i[aP]}if(isNaN(d[1])){d[1]=(e==G)?0:i[ae]}if(b[0]!==null){g(i,aH,b[0]-c[0]+d[0]+"px")}if(b[1]!==null){g(i,aC,b[1]-c[1]+d[1]+"px")}if(!a){h=ao.Dom._getXY(i);if((b[0]!==null&&h[0]!=b[0])||(b[1]!==null&&h[1]!=b[1])){ao.Dom._setXY(i,{pos:b,noRetry:true})}}},setX:function(b,a){ao.Dom.setXY(b,[a,null])},setY:function(a,b){ao.Dom.setXY(a,[null,b])},getRegion:function(a){var b=function(c){var d=false;if(ao.Dom._canPosition(c)){d=ao.Region.getRegion(c)}else{}return d};return ao.Dom.batch(a,b,ao.Dom,true)},getClientWidth:function(){return ao.Dom.getViewportWidth()},getClientHeight:function(){return ao.Dom.getViewportHeight()},getElementsByClassName:function(f,b,e,c,j,d){f=ai.trim(f);b=b||"*";e=(e)?ao.Dom.get(e):null||aj;if(!e){return[]}var a=[],k=e.getElementsByTagName(b),h=ao.Dom.hasClass;for(var i=0,g=k.length;i<g;++i){if(h(k[i],f)){a[a.length]=k[i]}}if(c){ao.Dom.batch(a,c,j,d)}return a},hasClass:function(b,a){return ao.Dom.batch(b,ao.Dom._hasClass,a)},_hasClass:function(a,c){var b=false,d;if(a&&c){d=ao.Dom.getAttribute(a,an)||ak;if(c.exec){b=c.test(d)}else{b=c&&(ar+d+ar).indexOf(ar+c+ar)>-1}}else{}return b},addClass:function(b,a){return ao.Dom.batch(b,ao.Dom._addClass,a)},_addClass:function(a,c){var b=false,d;if(a&&c){d=ao.Dom.getAttribute(a,an)||ak;if(!ao.Dom._hasClass(a,c)){ao.Dom.setAttribute(a,an,at(d+ar+c));b=true}}else{}return b},removeClass:function(b,a){return ao.Dom.batch(b,ao.Dom._removeClass,a)},_removeClass:function(f,a){var e=false,d,c,b;if(f&&a){d=ao.Dom.getAttribute(f,an)||ak;ao.Dom.setAttribute(f,an,d.replace(ao.Dom._getClassRegex(a),ak));c=ao.Dom.getAttribute(f,an);if(d!==c){ao.Dom.setAttribute(f,an,at(c));e=true;if(ao.Dom.getAttribute(f,an)===""){b=(f.hasAttribute&&f.hasAttribute(aK))?aK:an;f.removeAttribute(b)}}}else{}return e},replaceClass:function(a,c,b){return ao.Dom.batch(a,ao.Dom._replaceClass,{from:c,to:b})},_replaceClass:function(g,a){var f,c,e,b=false,d;if(g&&a){c=a.from;e=a.to;if(!e){b=false}else{if(!c){b=ao.Dom._addClass(g,a.to)}else{if(c!==e){d=ao.Dom.getAttribute(g,an)||ak;f=(ar+d.replace(ao.Dom._getClassRegex(c),ar+e)).split(ao.Dom._getClassRegex(e));f.splice(1,0,ar+e);ao.Dom.setAttribute(g,an,at(f.join(ak)));b=true}}}}else{}return b},generateId:function(b,a){a=a||"yui-gen";var c=function(e){if(e&&e.id){return e.id}var d=a+YAHOO.env._id_counter++;if(e){if(e[aM].getElementById(d)){return ao.Dom.generateId(e,d+a)}e.id=d}return d};return ao.Dom.batch(b,c,ao.Dom,true)||c.apply(ao.Dom,arguments)},isAncestor:function(c,a){c=ao.Dom.get(c);a=ao.Dom.get(a);var b=false;if((c&&a)&&(c[aF]&&a[aF])){if(c.contains&&c!==a){b=c.contains(a)}else{if(c.compareDocumentPosition){b=!!(c.compareDocumentPosition(a)&16)}}}else{}return b},inDocument:function(a,b){return ao.Dom._inDoc(ao.Dom.get(a),b)},_inDoc:function(c,a){var b=false;if(c&&c[aq]){a=a||c[aM];b=ao.Dom.isAncestor(a[av],c)}else{}return b},getElementsBy:function(a,b,f,d,i,e,c){b=b||"*";f=(f)?ao.Dom.get(f):null||aj;if(!f){return[]}var j=[],k=f.getElementsByTagName(b);for(var h=0,g=k.length;h<g;++h){if(a(k[h])){if(c){j=k[h];break}else{j[j.length]=k[h]}}}if(d){ao.Dom.batch(j,d,i,e)}return j},getElementBy:function(a,b,c){return ao.Dom.getElementsBy(a,b,c,null,null,null,true)},batch:function(a,c,f,e){var g=[],d=(e)?f:window;a=(a&&(a[aq]||a.item))?a:ao.Dom.get(a);if(a&&c){if(a[aq]||a.length===undefined){return c.call(d,a,f)}for(var b=0;b<a.length;++b){g[g.length]=c.call(d,a[b],f)}}else{return false}return g},getDocumentHeight:function(){var b=(aj[ax]!=ah||al)?aj.body.scrollHeight:z.scrollHeight,a=Math.max(b,ao.Dom.getViewportHeight());return a},getDocumentWidth:function(){var b=(aj[ax]!=ah||al)?aj.body.scrollWidth:z.scrollWidth,a=Math.max(b,ao.Dom.getViewportWidth());return a},getViewportHeight:function(){var a=self.innerHeight,b=aj[ax];if((b||aa)&&!ap){a=(b==ah)?z.clientHeight:aj.body.clientHeight}return a},getViewportWidth:function(){var a=self.innerWidth,b=aj[ax];if(b||aa){a=(b==ah)?z.clientWidth:aj.body.clientWidth}return a},getAncestorBy:function(a,b){while((a=a[x])){if(ao.Dom._testElement(a,b)){return a}}return null},getAncestorByClassName:function(c,b){c=ao.Dom.get(c);if(!c){return null}var a=function(d){return ao.Dom.hasClass(d,b)};return ao.Dom.getAncestorBy(c,a)},getAncestorByTagName:function(c,b){c=ao.Dom.get(c);if(!c){return null}var a=function(d){return d[aq]&&d[aq].toUpperCase()==b.toUpperCase()};return ao.Dom.getAncestorBy(c,a)},getPreviousSiblingBy:function(a,b){while(a){a=a.previousSibling;if(ao.Dom._testElement(a,b)){return a}}return null},getPreviousSibling:function(a){a=ao.Dom.get(a);if(!a){return null}return ao.Dom.getPreviousSiblingBy(a)},getNextSiblingBy:function(a,b){while(a){a=a.nextSibling;if(ao.Dom._testElement(a,b)){return a}}return null},getNextSibling:function(a){a=ao.Dom.get(a);if(!a){return null}return ao.Dom.getNextSiblingBy(a)},getFirstChildBy:function(b,a){var c=(ao.Dom._testElement(b.firstChild,a))?b.firstChild:null;return c||ao.Dom.getNextSiblingBy(b.firstChild,a)},getFirstChild:function(a,b){a=ao.Dom.get(a);if(!a){return null}return ao.Dom.getFirstChildBy(a)},getLastChildBy:function(b,a){if(!b){return null}var c=(ao.Dom._testElement(b.lastChild,a))?b.lastChild:null;return c||ao.Dom.getPreviousSiblingBy(b.lastChild,a)},getLastChild:function(a){a=ao.Dom.get(a);return ao.Dom.getLastChildBy(a)},getChildrenBy:function(c,d){var a=ao.Dom.getFirstChildBy(c,d),b=a?[a]:[];ao.Dom.getNextSiblingBy(a,function(e){if(!d||d(e)){b[b.length]=e}return false});return b},getChildren:function(a){a=ao.Dom.get(a);if(!a){}return ao.Dom.getChildrenBy(a)},getDocumentScrollLeft:function(a){a=a||aj;return Math.max(a[av].scrollLeft,a.body.scrollLeft)},getDocumentScrollTop:function(a){a=a||aj;return Math.max(a[av].scrollTop,a.body.scrollTop)},insertBefore:function(b,a){b=ao.Dom.get(b);a=ao.Dom.get(a);if(!b||!a||!a[x]){return null}return a[x].insertBefore(b,a)},insertAfter:function(b,a){b=ao.Dom.get(b);a=ao.Dom.get(a);if(!b||!a||!a[x]){return null}if(a.nextSibling){return a[x].insertBefore(b,a.nextSibling)}else{return a[x].appendChild(b)}},getClientRegion:function(){var a=ao.Dom.getDocumentScrollTop(),c=ao.Dom.getDocumentScrollLeft(),d=ao.Dom.getViewportWidth()+c,b=ao.Dom.getViewportHeight()+a;return new ao.Region(a,d,b,c)},setAttribute:function(c,b,a){b=ao.Dom.CUSTOM_ATTRIBUTES[b]||b;c.setAttribute(b,a)},getAttribute:function(b,a){a=ao.Dom.CUSTOM_ATTRIBUTES[a]||a;return b.getAttribute(a)},_toCamel:function(c){var a=aN;function b(e,d){return d.toUpperCase()}return a[c]||(a[c]=c.indexOf("-")===-1?c:c.replace(/-([a-z])/gi,b))},_getClassRegex:function(b){var a;if(b!==undefined){if(b.exec){a=b}else{a=aJ[b];if(!a){b=b.replace(ao.Dom._patterns.CLASS_RE_TOKENS,"\\$1");a=aJ[b]=new RegExp(ay+b+aG,Y)}}}return a},_patterns:{ROOT_TAG:/^body|html$/i,CLASS_RE_TOKENS:/([\.\(\)\^\$\*\+\?\|\[\]\{\}])/g},_testElement:function(a,b){return a&&a[aF]==1&&(!b||b(a))},_calcBorders:function(a,d){var c=parseInt(ao.Dom[au](a,ac),10)||0,b=parseInt(ao.Dom[au](a,aA),10)||0;if(am){if(ag.test(a[aq])){c=0;b=0}}d[0]+=b;d[1]+=c;return d}};var ab=ao.Dom[au];if(aE.opera){ao.Dom[au]=function(c,b){var a=ab(c,b);if(y.test(b)){a=ao.Dom.Color.toRGB(a)}return a}}if(aE.webkit){ao.Dom[au]=function(c,b){var a=ab(c,b);if(a==="rgba(0, 0, 0, 0)"){a="transparent"}return a}}})();YAHOO.util.Region=function(c,b,a,d){this.top=c;this.y=c;this[1]=c;this.right=b;this.bottom=a;this.left=d;this.x=d;this[0]=d;this.width=this.right-this.left;this.height=this.bottom-this.top};YAHOO.util.Region.prototype.contains=function(a){return(a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom)};YAHOO.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left))};YAHOO.util.Region.prototype.intersect=function(b){var d=Math.max(this.top,b.top),c=Math.min(this.right,b.right),a=Math.min(this.bottom,b.bottom),e=Math.max(this.left,b.left);if(a>=d&&c>=e){return new YAHOO.util.Region(d,c,a,e)}else{return null}};YAHOO.util.Region.prototype.union=function(b){var d=Math.min(this.top,b.top),c=Math.max(this.right,b.right),a=Math.max(this.bottom,b.bottom),e=Math.min(this.left,b.left);return new YAHOO.util.Region(d,c,a,e)};YAHOO.util.Region.prototype.toString=function(){return("Region {top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+", height: "+this.height+", width: "+this.width+"}")};YAHOO.util.Region.getRegion=function(d){var b=YAHOO.util.Dom.getXY(d),e=b[1],c=b[0]+d.offsetWidth,a=b[1]+d.offsetHeight,f=b[0];return new YAHOO.util.Region(e,c,a,f)};YAHOO.util.Point=function(a,b){if(YAHOO.lang.isArray(a)){b=a[1];a=a[0]}YAHOO.util.Point.superclass.constructor.call(this,b,a,b,a)};YAHOO.extend(YAHOO.util.Point,YAHOO.util.Region);(function(){var v=YAHOO.util,w="clientTop",r="clientLeft",n="parentNode",m="right",a="hasLayout",o="px",c="opacity",l="auto",t="borderLeftWidth",q="borderTopWidth",h="borderRightWidth",b="borderBottomWidth",e="visible",g="transparent",j="height",s="width",p="style",d="currentStyle",f=/^width|height$/,i=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,k={get:function(A,y){var z="",x=A[d][y];if(y===c){z=v.Dom.getStyle(A,c)}else{if(!x||(x.indexOf&&x.indexOf(o)>-1)){z=x}else{if(v.Dom.IE_COMPUTED[y]){z=v.Dom.IE_COMPUTED[y](A,y)}else{if(i.test(x)){z=v.Dom.IE.ComputedStyle.getPixel(A,y)}else{z=x}}}}return z},getOffset:function(A,z){var x=A[d][z],E=z.charAt(0).toUpperCase()+z.substr(1),D="offset"+E,C="pixel"+E,y="",B;if(x==l){B=A[D];if(B===undefined){y=0}y=B;if(f.test(z)){A[p][z]=B;if(A[D]>B){y=B-(A[D]-B)}A[p][z]=l}}else{if(!A[p][C]&&!A[p][z]){A[p][z]=x}y=A[p][C]}return y+o},getBorderWidth:function(z,x){var y=null;if(!z[d][a]){z[p].zoom=1}switch(x){case q:y=z[w];break;case b:y=z.offsetHeight-z.clientHeight-z[w];break;case t:y=z[r];break;case h:y=z.offsetWidth-z.clientWidth-z[r];break}return y+o},getPixel:function(A,B){var y=null,x=A[d][m],z=A[d][B];A[p][m]=z;y=A[p].pixelRight;A[p][m]=x;return y+o},getMargin:function(y,z){var x;if(y[d][z]==l){x=0+o}else{x=v.Dom.IE.ComputedStyle.getPixel(y,z)}return x},getVisibility:function(y,z){var x;while((x=y[d])&&x[z]=="inherit"){y=y[n]}return(x)?x[z]:e},getColor:function(x,y){return v.Dom.Color.toRGB(x[d][y])||g},getBorderColor:function(z,A){var y=z[d],x=y[A]||y.color;return v.Dom.Color.toRGB(v.Dom.Color.toHex(x))}},u={};u.top=u.right=u.bottom=u.left=u[s]=u[j]=k.getOffset;u.color=k.getColor;u[q]=u[h]=u[b]=u[t]=k.getBorderWidth;u.marginTop=u.marginRight=u.marginBottom=u.marginLeft=k.getMargin;u.visibility=k.getVisibility;u.borderColor=u.borderTopColor=u.borderRightColor=u.borderBottomColor=u.borderLeftColor=k.getBorderColor;v.Dom.IE_COMPUTED=u;v.Dom.IE_ComputedStyle=k})();(function(){var c="toString",a=parseInt,d=RegExp,b=YAHOO.util;b.Dom.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(e){if(!b.Dom.Color.re_RGB.test(e)){e=b.Dom.Color.toHex(e)}if(b.Dom.Color.re_hex.exec(e)){e="rgb("+[a(d.$1,16),a(d.$2,16),a(d.$3,16)].join(", ")+")"}return e},toHex:function(e){e=b.Dom.Color.KEYWORDS[e]||e;if(b.Dom.Color.re_RGB.exec(e)){var f=(d.$1.length===1)?"0"+d.$1:Number(d.$1),g=(d.$2.length===1)?"0"+d.$2:Number(d.$2),h=(d.$3.length===1)?"0"+d.$3:Number(d.$3);e=[f[c](16),g[c](16),h[c](16)].join("")}if(e.length<6){e=e.replace(b.Dom.Color.re_hex3,"$1$1")}if(e!=="transparent"&&e.indexOf("#")<0){e="#"+e}return e.toLowerCase()}}}());YAHOO.register("dom",YAHOO.util.Dom,{version:"2.7.0",build:"1799"});YAHOO.util.CustomEvent=function(c,d,e,a){this.type=c;this.scope=d||window;this.silent=e;this.signature=a||YAHOO.util.CustomEvent.LIST;this.subscribers=[];if(!this.silent){}var b="_YUICEOnSubscribe";if(c!==b){this.subscribeEvent=new YAHOO.util.CustomEvent(b,this,true)}this.lastError=null};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:function(a,c,b){if(!a){throw new Error("Invalid callback for subscriber to '"+this.type+"'")}if(this.subscribeEvent){this.subscribeEvent.fire(a,c,b)}this.subscribers.push(new YAHOO.util.Subscriber(a,c,b))},unsubscribe:function(d,b){if(!d){return this.unsubscribeAll()}var c=false;for(var f=0,a=this.subscribers.length;f<a;++f){var e=this.subscribers[f];if(e&&e.contains(d,b)){this._delete(f);c=true}}return c},fire:function(){this.lastError=null;var g=[],m=this.subscribers.length;if(!m&&this.silent){return true}var i=[].slice.call(arguments,0),k=true,a,h=false;if(!this.silent){}var b=this.subscribers.slice(),d=YAHOO.util.Event.throwErrors;for(a=0;a<m;++a){var e=b[a];if(!e){h=true}else{if(!this.silent){}var f=e.getScope(this.scope);if(this.signature==YAHOO.util.CustomEvent.FLAT){var c=null;if(i.length>0){c=i[0]}try{k=e.fn.call(f,c,e.obj)}catch(l){this.lastError=l;if(d){throw l}}}else{try{k=e.fn.call(f,this.type,i,e.obj)}catch(j){this.lastError=j;if(d){throw j}}}if(false===k){if(!this.silent){}break}}}return(k!==false)},unsubscribeAll:function(){var a=this.subscribers.length,b;for(b=a-1;b>-1;b--){this._delete(b)}this.subscribers=[];return a},_delete:function(a){var b=this.subscribers[a];if(b){delete b.fn;delete b.obj}this.subscribers.splice(a,1)},toString:function(){return"CustomEvent: '"+this.type+"', context: "+this.scope}};YAHOO.util.Subscriber=function(a,c,b){this.fn=a;this.obj=YAHOO.lang.isUndefined(c)?null:c;this.overrideContext=b};YAHOO.util.Subscriber.prototype.getScope=function(a){if(this.overrideContext){if(this.overrideContext===true){return this.obj}else{return this.overrideContext}}return a};YAHOO.util.Subscriber.prototype.contains=function(a,b){if(b){return(this.fn==a&&this.obj==b)}else{return(this.fn==a)}};YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", overrideContext: "+(this.overrideContext||"no")+" }"};if(!YAHOO.util.Event){YAHOO.util.Event=function(){var i=false;var h=[];var g=[];var j=[];var l=[];var b=0;var k=[];var c=[];var d=0;var a={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9};var f=YAHOO.env.ua.ie?"focusin":"focus";var e=YAHOO.env.ua.ie?"focusout":"blur";return{POLL_RETRYS:2000,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:YAHOO.env.ua.ie,_interval:null,_dri:null,DOMReady:false,throwErrors:false,startInterval:function(){if(!this._interval){var n=this;var m=function(){n._tryPreloadAttach()};this._interval=setInterval(m,this.POLL_INTERVAL)}},onAvailable:function(m,q,o,n,p){var s=(YAHOO.lang.isString(m))?[m]:m;for(var r=0;r<s.length;r=r+1){k.push({id:s[r],fn:q,obj:o,overrideContext:n,checkReady:p})}b=this.POLL_RETRYS;this.startInterval()},onContentReady:function(m,p,o,n){this.onAvailable(m,p,o,n,true)},onDOMReady:function(o,n,m){if(this.DOMReady){setTimeout(function(){var p=window;if(m){if(m===true){p=n}else{p=m}}o.call(p,"DOMReady",[],n)},0)}else{this.DOMReadyEvent.subscribe(o,n,m)}},_addListener:function(x,z,n,t,p,A){if(!n||!n.call){return false}if(this._isValidCollection(x)){var m=true;for(var s=0,q=x.length;s<q;++s){m=this.on(x[s],z,n,t,p)&&m}return m}else{if(YAHOO.lang.isString(x)){var u=this.getEl(x);if(u){x=u}else{this.onAvailable(x,function(){YAHOO.util.Event.on(x,z,n,t,p)});return true}}}if(!x){return false}if("unload"==z&&t!==this){g[g.length]=[x,z,n,t,p];return true}var y=x;if(p){if(p===true){y=t}else{y=p}}var w=function(C){return n.call(y,YAHOO.util.Event.getEvent(C,x),t)};var B=[x,z,n,w,y,t,p];var r=h.length;h[r]=B;if(this.useLegacyEvent(x,z)){var v=this.getLegacyIndex(x,z);if(v==-1||x!=j[v][0]){v=j.length;c[x.id+z]=v;j[v]=[x,z,x["on"+z]];l[v]=[];x["on"+z]=function(C){YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(C),v)}}l[v].push(B)}else{try{this._simpleAdd(x,z,w,A)}catch(o){this.lastError=o;this.removeListener(x,z,n);return false}}return true},addListener:function(p,m,q,o,n){return this._addListener(p,m,q,o,n,false)},addFocusListener:function(o,p,n,m){return this._addListener(o,f,p,n,m,true)},removeFocusListener:function(m,n){return this.removeListener(m,f,n)},addBlurListener:function(o,p,n,m){return this._addListener(o,e,p,n,m,true)},removeBlurListener:function(m,n){return this.removeListener(m,e,n)},fireLegacyEvent:function(q,s){var o=true,v,m,n,u,p;m=l[s].slice();for(var t=0,r=m.length;t<r;++t){n=m[t];if(n&&n[this.WFN]){u=n[this.ADJ_SCOPE];p=n[this.WFN].call(u,q);o=(o&&p)}}v=j[s];if(v&&v[2]){v[2](q)}return o},getLegacyIndex:function(n,m){var o=this.generateId(n)+m;if(typeof c[o]=="undefined"){return -1}else{return c[o]}},useLegacyEvent:function(n,m){return(this.webkit&&this.webkit<419&&("click"==m||"dblclick"==m))},removeListener:function(w,x,o){var t,q,m;if(typeof w=="string"){w=this.getEl(w)}else{if(this._isValidCollection(w)){var n=true;for(t=w.length-1;t>-1;t--){n=(this.removeListener(w[t],x,o)&&n)}return n}}if(!o||!o.call){return this.purgeElement(w,false,x)}if("unload"==x){for(t=g.length-1;t>-1;t--){m=g[t];if(m&&m[0]==w&&m[1]==x&&m[2]==o){g.splice(t,1);return true}}return false}var s=null;var r=arguments[3];if("undefined"===typeof r){r=this._getCacheIndex(w,x,o)}if(r>=0){s=h[r]}if(!w||!s){return false}if(this.useLegacyEvent(w,x)){var u=this.getLegacyIndex(w,x);var v=l[u];if(v){for(t=0,q=v.length;t<q;++t){m=v[t];if(m&&m[this.EL]==w&&m[this.TYPE]==x&&m[this.FN]==o){v.splice(t,1);break}}}}else{try{this._simpleRemove(w,x,s[this.WFN],false)}catch(p){this.lastError=p;return false}}delete h[r][this.WFN];delete h[r][this.FN];h.splice(r,1);return true},getTarget:function(m,n){var o=m.target||m.srcElement;return this.resolveTextNode(o)},resolveTextNode:function(m){try{if(m&&3==m.nodeType){return m.parentNode}}catch(n){}return m},getPageX:function(m){var n=m.pageX;if(!n&&0!==n){n=m.clientX||0;if(this.isIE){n+=this._getScrollLeft()}}return n},getPageY:function(n){var m=n.pageY;if(!m&&0!==m){m=n.clientY||0;if(this.isIE){m+=this._getScrollTop()}}return m},getXY:function(m){return[this.getPageX(m),this.getPageY(m)]},getRelatedTarget:function(m){var n=m.relatedTarget;if(!n){if(m.type=="mouseout"){n=m.toElement}else{if(m.type=="mouseover"){n=m.fromElement}}}return this.resolveTextNode(n)},getTime:function(m){if(!m.time){var n=new Date().getTime();try{m.time=n}catch(o){this.lastError=o;return n}}return m.time},stopEvent:function(m){this.stopPropagation(m);this.preventDefault(m)},stopPropagation:function(m){if(m.stopPropagation){m.stopPropagation()}else{m.cancelBubble=true}},preventDefault:function(m){if(m.preventDefault){m.preventDefault()}else{m.returnValue=false}},getEvent:function(n,p){var o=n||window.event;if(!o){var m=this.getEvent.caller;while(m){o=m.arguments[0];if(o&&Event==o.constructor){break}m=m.caller}}return o},getCharCode:function(m){var n=m.keyCode||m.charCode||0;if(YAHOO.env.ua.webkit&&(n in a)){n=a[n]}return n},_getCacheIndex:function(n,m,o){for(var p=0,q=h.length;p<q;p=p+1){var r=h[p];if(r&&r[this.FN]==o&&r[this.EL]==n&&r[this.TYPE]==m){return p}}return -1},generateId:function(n){var m=n.id;if(!m){m="yuievtautoid-"+d;++d;n.id=m}return m},_isValidCollection:function(m){try{return(m&&typeof m!=="string"&&m.length&&!m.tagName&&!m.alert&&typeof m[0]!=="undefined")}catch(n){return false}},elCache:{},getEl:function(m){return(typeof m==="string")?document.getElementById(m):m},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",this),_load:function(m){if(!i){i=true;var n=YAHOO.util.Event;n._ready();n._tryPreloadAttach()}},_ready:function(m){var n=YAHOO.util.Event;if(!n.DOMReady){n.DOMReady=true;n.DOMReadyEvent.fire();n._simpleRemove(document,"DOMContentLoaded",n._ready)}},_tryPreloadAttach:function(){if(k.length===0){b=0;if(this._interval){clearInterval(this._interval);this._interval=null}return}if(this.locked){return}if(this.isIE){if(!this.DOMReady){this.startInterval();return}}this.locked=true;var n=!i;if(!n){n=(b>0&&k.length>0)}var o=[];var m=function(v,u){var w=v;if(u.overrideContext){if(u.overrideContext===true){w=u.obj}else{w=u.overrideContext}}u.fn.call(w,u.obj)};var s,t,p,q,r=[];for(s=0,t=k.length;s<t;s=s+1){p=k[s];if(p){q=this.getEl(p.id);if(q){if(p.checkReady){if(i||q.nextSibling||!n){r.push(p);k[s]=null}}else{m(q,p);k[s]=null}}else{o.push(p)}}}for(s=0,t=r.length;s<t;s=s+1){p=r[s];m(this.getEl(p.id),p)}b--;if(n){for(s=k.length-1;s>-1;s--){p=k[s];if(!p||!p.id){k.splice(s,1)}}this.startInterval()}else{if(this._interval){clearInterval(this._interval);this._interval=null}}this.locked=false},purgeElement:function(p,o,m){var r=(YAHOO.lang.isString(p))?this.getEl(p):p;var n=this.getListeners(r,m),q,t;if(n){for(q=n.length-1;q>-1;q--){var s=n[q];this.removeListener(r,s.type,s.fn)}}if(o&&r&&r.childNodes){for(q=0,t=r.childNodes.length;q<t;++q){this.purgeElement(r.childNodes[q],o,m)}}},getListeners:function(t,v){var q=[],u;if(!v){u=[h,g]}else{if(v==="unload"){u=[g]}else{u=[h]}}var o=(YAHOO.lang.isString(t))?this.getEl(t):t;for(var r=0;r<u.length;r=r+1){var m=u[r];if(m){for(var p=0,n=m.length;p<n;++p){var s=m[p];if(s&&s[this.EL]===o&&(!v||v===s[this.TYPE])){q.push({type:s[this.TYPE],fn:s[this.FN],obj:s[this.OBJ],adjust:s[this.OVERRIDE],scope:s[this.ADJ_SCOPE],index:p})}}}}return(q.length)?q:null},_unload:function(n){var t=YAHOO.util.Event,q,r,s,o,p,m=g.slice(),u;for(q=0,o=g.length;q<o;++q){s=m[q];if(s){u=window;if(s[t.ADJ_SCOPE]){if(s[t.ADJ_SCOPE]===true){u=s[t.UNLOAD_OBJ]}else{u=s[t.ADJ_SCOPE]}}s[t.FN].call(u,t.getEvent(n,s[t.EL]),s[t.UNLOAD_OBJ]);m[q]=null}}s=null;u=null;g=null;if(h){for(r=h.length-1;r>-1;r--){s=h[r];if(s){t.removeListener(s[t.EL],s[t.TYPE],s[t.FN],r)}}s=null}j=null;t._simpleRemove(window,"unload",t._unload)},_getScrollLeft:function(){return this._getScroll()[1]},_getScrollTop:function(){return this._getScroll()[0]},_getScroll:function(){var n=document.documentElement,m=document.body;if(n&&(n.scrollTop||n.scrollLeft)){return[n.scrollTop,n.scrollLeft]}else{if(m){return[m.scrollTop,m.scrollLeft]}else{return[0,0]}}},regCE:function(){},_simpleAdd:function(){if(window.addEventListener){return function(n,m,o,p){n.addEventListener(m,o,(p))}}else{if(window.attachEvent){return function(n,m,o,p){n.attachEvent("on"+m,o)}}else{return function(){}}}}(),_simpleRemove:function(){if(window.removeEventListener){return function(n,m,o,p){n.removeEventListener(m,o,(p))}}else{if(window.detachEvent){return function(n,m,o){n.detachEvent("on"+m,o)}}else{return function(){}}}}()}}();(function(){var a=YAHOO.util.Event;a.on=a.addListener;a.onFocus=a.addFocusListener;a.onBlur=a.addBlurListener;if(a.isIE){YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,true);var b=document.createElement("p");a._dri=setInterval(function(){try{if(YAHOO.env.ua.ie<11){b.doScroll("left")}else{b.scrollLeft}clearInterval(a._dri);a._dri=null;a._ready();b=null}catch(c){}},a.POLL_INTERVAL)}else{if(a.webkit&&a.webkit<525){a._dri=setInterval(function(){var c=document.readyState;if("loaded"==c||"complete"==c){clearInterval(a._dri);a._dri=null;a._ready()}},a.POLL_INTERVAL)}else{a._simpleAdd(document,"DOMContentLoaded",a._ready)}}a._simpleAdd(window,"load",a._load);a._simpleAdd(window,"unload",a._unload);a._tryPreloadAttach()})()}YAHOO.util.EventProvider=function(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(a,e,b,c){this.__yui_events=this.__yui_events||{};var d=this.__yui_events[a];if(d){d.subscribe(e,b,c)}else{this.__yui_subscribers=this.__yui_subscribers||{};var f=this.__yui_subscribers;if(!f[a]){f[a]=[]}f[a].push({fn:e,obj:b,overrideContext:c})}},unsubscribe:function(f,d,b){this.__yui_events=this.__yui_events||{};var a=this.__yui_events;if(f){var c=a[f];if(c){return c.unsubscribe(d,b)}}else{var g=true;for(var e in a){if(YAHOO.lang.hasOwnProperty(a,e)){g=g&&a[e].unsubscribe(d,b)}}return g}return false},unsubscribeAll:function(a){return this.unsubscribe(a)},createEvent:function(g,a){this.__yui_events=this.__yui_events||{};var d=a||{};var e=this.__yui_events;if(e[g]){}else{var f=d.scope||this;var i=(d.silent);var c=new YAHOO.util.CustomEvent(g,f,i,YAHOO.util.CustomEvent.FLAT);e[g]=c;if(d.onSubscribeCallback){c.subscribeEvent.subscribe(d.onSubscribeCallback)}this.__yui_subscribers=this.__yui_subscribers||{};var h=this.__yui_subscribers[g];if(h){for(var b=0;b<h.length;++b){c.subscribe(h[b].fn,h[b].obj,h[b].overrideContext)}}}return e[g]},fireEvent:function(d,e,a,f){this.__yui_events=this.__yui_events||{};var b=this.__yui_events[d];if(!b){return null}var g=[];for(var c=1;c<arguments.length;++c){g.push(arguments[c])}return b.fire.apply(b,g)},hasEvent:function(a){if(this.__yui_events){if(this.__yui_events[a]){return true}}return false}};(function(){var a=YAHOO.util.Event,b=YAHOO.lang;YAHOO.util.KeyListener=function(i,d,h,g){if(!i){}else{if(!d){}else{if(!h){}}}if(!g){g=YAHOO.util.KeyListener.KEYDOWN}var f=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");if(b.isString(i)){i=document.getElementById(i)}if(b.isFunction(h)){f.subscribe(h)}else{f.subscribe(h.fn,h.scope,h.correctScope)}function e(m,n){if(!d.shift){d.shift=false}if(!d.alt){d.alt=false}if(!d.ctrl){d.ctrl=false}if(m.shiftKey==d.shift&&m.altKey==d.alt&&m.ctrlKey==d.ctrl){var l,o=d.keys,j;if(YAHOO.lang.isArray(o)){for(var k=0;k<o.length;k++){l=o[k];j=a.getCharCode(m);if(l==j){f.fire(j,m);break}}}else{j=a.getCharCode(m);if(o==j){f.fire(j,m)}}}}this.enable=function(){if(!this.enabled){a.on(i,g,e);this.enabledEvent.fire(d)}this.enabled=true};this.disable=function(){if(this.enabled){a.removeListener(i,g,e);this.disabledEvent.fire(d)}this.enabled=false};this.toString=function(){return"KeyListener ["+d.keys+"] "+i.tagName+(i.id?"["+i.id+"]":"")}};var c=YAHOO.util.KeyListener;c.KEYDOWN="keydown";c.KEYUP="keyup";c.KEY={ALT:18,BACK_SPACE:8,CAPS_LOCK:20,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,META:224,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PRINTSCREEN:44,RIGHT:39,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,UP:38}})();YAHOO.register("event",YAHOO.util.Event,{version:"2.7.0",build:"1799"});YAHOO.register("yahoo-dom-event",YAHOO,{version:"2.7.0",build:"1799"});YAHOO.util.Attribute=function(b,a){if(a){this.owner=a;this.configure(b,true)}};YAHOO.util.Attribute.prototype={name:undefined,value:null,owner:null,readOnly:false,writeOnce:false,_initialConfig:null,_written:false,method:null,setter:null,getter:null,validator:null,getValue:function(){var a=this.value;if(this.getter){a=this.getter.call(this.owner,this.name)}return a},setValue:function(b,f){var c,a=this.owner,e=this.name;var d={type:e,prevValue:this.getValue(),newValue:b};if(this.readOnly||(this.writeOnce&&this._written)){return false}if(this.validator&&!this.validator.call(a,b)){return false}if(!f){c=a.fireBeforeChangeEvent(d);if(c===false){return false}}if(this.setter){b=this.setter.call(a,b,this.name);if(b===undefined){}}if(this.method){this.method.call(a,b,this.name)}this.value=b;this._written=true;d.type=e;if(!f){this.owner.fireChangeEvent(d)}return true},configure:function(c,b){c=c||{};if(b){this._written=false}this._initialConfig=this._initialConfig||{};for(var a in c){if(c.hasOwnProperty(a)){this[a]=c[a];if(b){this._initialConfig[a]=c[a]}}}},resetValue:function(){return this.setValue(this._initialConfig.value)},resetConfig:function(){this.configure(this._initialConfig,true)},refresh:function(a){this.setValue(this.value,a)}};(function(){var a=YAHOO.util.Lang;YAHOO.util.AttributeProvider=function(){};YAHOO.util.AttributeProvider.prototype={_configs:null,get:function(b){this._configs=this._configs||{};var c=this._configs[b];if(!c||!this._configs.hasOwnProperty(b)){return null}return c.getValue()},set:function(c,b,e){this._configs=this._configs||{};var d=this._configs[c];if(!d){return false}return d.setValue(b,e)},getAttributeKeys:function(){this._configs=this._configs;var b=[],c;for(c in this._configs){if(a.hasOwnProperty(this._configs,c)&&!a.isUndefined(this._configs[c])){b[b.length]=c}}return b},setAttributes:function(b,d){for(var c in b){if(a.hasOwnProperty(b,c)){this.set(c,b[c],d)}}},resetValue:function(b,c){this._configs=this._configs||{};if(this._configs[b]){this.set(b,this._configs[b]._initialConfig.value,c);return true}return false},refresh:function(c,e){this._configs=this._configs||{};var b=this._configs;c=((a.isString(c))?[c]:c)||this.getAttributeKeys();for(var d=0,f=c.length;d<f;++d){if(b.hasOwnProperty(c[d])){this._configs[c[d]].refresh(e)}}},register:function(c,b){this.setAttributeConfig(c,b)},getAttributeConfig:function(c){this._configs=this._configs||{};var d=this._configs[c]||{};var b={};for(c in d){if(a.hasOwnProperty(d,c)){b[c]=d[c]}}return b},setAttributeConfig:function(d,c,b){this._configs=this._configs||{};c=c||{};if(!this._configs[d]){c.name=d;this._configs[d]=this.createAttribute(c)}else{this._configs[d].configure(c,b)}},configureAttribute:function(d,c,b){this.setAttributeConfig(d,c,b)},resetAttributeConfig:function(b){this._configs=this._configs||{};this._configs[b].resetConfig()},subscribe:function(c,b){this._events=this._events||{};if(!(c in this._events)){this._events[c]=this.createEvent(c)}YAHOO.util.EventProvider.prototype.subscribe.apply(this,arguments)},on:function(){this.subscribe.apply(this,arguments)},addListener:function(){this.subscribe.apply(this,arguments)},fireBeforeChangeEvent:function(b){var c="before";c+=b.type.charAt(0).toUpperCase()+b.type.substr(1)+"Change";b.type=c;return this.fireEvent(b.type,b)},fireChangeEvent:function(b){b.type+="Change";return this.fireEvent(b.type,b)},createAttribute:function(b){return new YAHOO.util.Attribute(b,this)}};YAHOO.augment(YAHOO.util.AttributeProvider,YAHOO.util.EventProvider)})();(function(){var c=YAHOO.util.Dom,b=YAHOO.util.AttributeProvider;var a=function(e,d){this.init.apply(this,arguments)};a.DOM_EVENTS={click:true,dblclick:true,keydown:true,keypress:true,keyup:true,mousedown:true,mousemove:true,mouseout:true,mouseover:true,mouseup:true,focus:true,blur:true,submit:true,change:true};a.prototype={DOM_EVENTS:null,DEFAULT_HTML_SETTER:function(d,f){var e=this.get("element");if(e){e[f]=d}},DEFAULT_HTML_GETTER:function(f){var e=this.get("element"),d;if(e){d=e[f]}return d},appendChild:function(d){d=d.get?d.get("element"):d;return this.get("element").appendChild(d)},getElementsByTagName:function(d){return this.get("element").getElementsByTagName(d)},hasChildNodes:function(){return this.get("element").hasChildNodes()},insertBefore:function(e,d){e=e.get?e.get("element"):e;d=(d&&d.get)?d.get("element"):d;return this.get("element").insertBefore(e,d)},removeChild:function(d){d=d.get?d.get("element"):d;return this.get("element").removeChild(d)},replaceChild:function(e,d){e=e.get?e.get("element"):e;d=d.get?d.get("element"):d;return this.get("element").replaceChild(e,d)},initAttributes:function(d){},addListener:function(e,f,d,g){var h=this.get("element")||this.get("id");g=g||this;var i=this;if(!this._events[e]){if(h&&this.DOM_EVENTS[e]){YAHOO.util.Event.addListener(h,e,function(j){if(j.srcElement&&!j.target){j.target=j.srcElement}i.fireEvent(e,j)},d,g)}this.createEvent(e,this)}return YAHOO.util.EventProvider.prototype.subscribe.apply(this,arguments)},on:function(){return this.addListener.apply(this,arguments)},subscribe:function(){return this.addListener.apply(this,arguments)},removeListener:function(d,e){return this.unsubscribe.apply(this,arguments)},addClass:function(d){c.addClass(this.get("element"),d)},getElementsByClassName:function(d,e){return c.getElementsByClassName(d,e,this.get("element"))},hasClass:function(d){return c.hasClass(this.get("element"),d)},removeClass:function(d){return c.removeClass(this.get("element"),d)},replaceClass:function(d,e){return c.replaceClass(this.get("element"),d,e)},setStyle:function(d,e){return c.setStyle(this.get("element"),d,e)},getStyle:function(d){return c.getStyle(this.get("element"),d)},fireQueue:function(){var e=this._queue;for(var d=0,f=e.length;d<f;++d){this[e[d][0]].apply(this,e[d][1])}},appendTo:function(e,d){e=(e.get)?e.get("element"):c.get(e);this.fireEvent("beforeAppendTo",{type:"beforeAppendTo",target:e});d=(d&&d.get)?d.get("element"):c.get(d);var f=this.get("element");if(!f){return false}if(!e){return false}if(f.parent!=e){if(d){e.insertBefore(f,d)}else{e.appendChild(f)}}this.fireEvent("appendTo",{type:"appendTo",target:e});return f},get:function(f){var d=this._configs||{},e=d.element;if(e&&!d[f]&&!YAHOO.lang.isUndefined(e.value[f])){this._setHTMLAttrConfig(f)}return b.prototype.get.call(this,f)},setAttributes:function(d,g){var i={},f=this._configOrder;for(var e=0,j=f.length;e<j;++e){if(d[f[e]]!==undefined){i[f[e]]=true;this.set(f[e],d[f[e]],g)}}for(var h in d){if(d.hasOwnProperty(h)&&!i[h]){this.set(h,d[h],g)}}},set:function(f,d,g){var e=this.get("element");if(!e){this._queue[this._queue.length]=["set",arguments];if(this._configs[f]){this._configs[f].value=d}return}if(!this._configs[f]&&!YAHOO.lang.isUndefined(e[f])){this._setHTMLAttrConfig(f)}return b.prototype.set.apply(this,arguments)},setAttributeConfig:function(f,e,d){this._configOrder.push(f);b.prototype.setAttributeConfig.apply(this,arguments)},createEvent:function(d,e){this._events[d]=true;return b.prototype.createEvent.apply(this,arguments)},init:function(d,e){this._initElement(d,e)},destroy:function(){var d=this.get("element");YAHOO.util.Event.purgeElement(d,true);this.unsubscribeAll();if(d&&d.parentNode){d.parentNode.removeChild(d)}this._queue=[];this._events={};this._configs={};this._configOrder=[]},_initElement:function(f,g){this._queue=this._queue||[];this._events=this._events||{};this._configs=this._configs||{};this._configOrder=[];g=g||{};g.element=g.element||f||null;var d=false;var h=a.DOM_EVENTS;this.DOM_EVENTS=this.DOM_EVENTS||{};for(var e in h){if(h.hasOwnProperty(e)){this.DOM_EVENTS[e]=h[e]}}if(typeof g.element==="string"){this._setHTMLAttrConfig("id",{value:g.element})}if(c.get(g.element)){d=true;this._initHTMLElement(g);this._initContent(g)}YAHOO.util.Event.onAvailable(g.element,function(){if(!d){this._initHTMLElement(g)}this.fireEvent("available",{type:"available",target:c.get(g.element)})},this,true);YAHOO.util.Event.onContentReady(g.element,function(){if(!d){this._initContent(g)}this.fireEvent("contentReady",{type:"contentReady",target:c.get(g.element)})},this,true)},_initHTMLElement:function(d){this.setAttributeConfig("element",{value:c.get(d.element),readOnly:true})},_initContent:function(d){this.initAttributes(d);this.setAttributes(d,true);this.fireQueue()},_setHTMLAttrConfig:function(f,d){var e=this.get("element");d=d||{};d.name=f;d.setter=d.setter||this.DEFAULT_HTML_SETTER;d.getter=d.getter||this.DEFAULT_HTML_GETTER;d.value=d.value||e[f];this._configs[f]=new YAHOO.util.Attribute(d,this)}};YAHOO.augment(a,b);YAHOO.util.Element=a})();YAHOO.register("element",YAHOO.util.Element,{version:"2.7.0",build:"1799"});if(!YAHOO.util.DragDropMgr){YAHOO.util.DragDropMgr=function(){var a=YAHOO.util.Event,b=YAHOO.util.Dom;return{useShim:false,_shimActive:false,_shimState:false,_debugShim:false,_createShim:function(){var c=document.createElement("div");c.id="yui-ddm-shim";if(document.body.firstChild){document.body.insertBefore(c,document.body.firstChild)}else{document.body.appendChild(c)}c.style.display="none";c.style.backgroundColor="red";c.style.position="absolute";c.style.zIndex="99999";b.setStyle(c,"opacity","0");this._shim=c;a.on(c,"mouseup",this.handleMouseUp,this,true);a.on(c,"mousemove",this.handleMouseMove,this,true);a.on(window,"scroll",this._sizeShim,this,true)},_sizeShim:function(){if(this._shimActive){var c=this._shim;c.style.height=b.getDocumentHeight()+"px";c.style.width=b.getDocumentWidth()+"px";c.style.top="0";c.style.left="0"}},_activateShim:function(){if(this.useShim){if(!this._shim){this._createShim()}this._shimActive=true;var d=this._shim,c="0";if(this._debugShim){c=".5"}b.setStyle(d,"opacity",c);this._sizeShim();d.style.display="block"}},_deactivateShim:function(){this._shim.style.display="none";this._shimActive=false},_shim:null,ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,interactionInfo:null,init:function(){this.initialized=true},POINT:0,INTERSECT:1,STRICT_INTERSECT:2,mode:0,_execOnAll:function(e,f){for(var d in this.ids){for(var g in this.ids[d]){var c=this.ids[d][g];if(!this.isTypeOfDD(c)){continue}c[e].apply(c,f)}}},_onLoad:function(){this.init();a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true)},_onResize:function(c){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:1000,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,fromTimeout:false,regDragDrop:function(c,d){if(!this.initialized){this.init()}if(!this.ids[d]){this.ids[d]={}}this.ids[d][c.id]=c},removeDDFromGroup:function(c,e){if(!this.ids[e]){this.ids[e]={}}var d=this.ids[e];if(d&&d[c.id]){delete d[c.id]}},_remove:function(c){for(var d in c.groups){if(d){var e=this.ids[d];if(e&&e[c.id]){delete e[c.id]}}}delete this.handleIds[c.id]},regHandle:function(c,d){if(!this.handleIds[c]){this.handleIds[c]={}}this.handleIds[c][d]=d},isDragDrop:function(c){return(this.getDDById(c))?true:false},getRelated:function(c,g){var d=[];for(var e in c.groups){for(var f in this.ids[e]){var h=this.ids[e][f];if(!this.isTypeOfDD(h)){continue}if(!g||h.isTarget){d[d.length]=h}}}return d},isLegalTarget:function(c,d){var f=this.getRelated(c,true);for(var e=0,g=f.length;e<g;++e){if(f[e].id==d.id){return true}}return false},isTypeOfDD:function(c){return(c&&c.__ygDragDrop)},isHandle:function(c,d){return(this.handleIds[c]&&this.handleIds[c][d])},getDDById:function(c){for(var d in this.ids){if(this.ids[d][c]){return this.ids[d][c]}}return null},handleMouseDown:function(c,d){this.stopDrag(c);this.stopEvent(c);this.currentTarget=YAHOO.util.Event.getTarget(c);this.dragCurrent=d;this.scrollTopOrig=this.currentTarget.scrollTop;this.scrollLeftOrig=this.currentTarget.scrollLeft;var e=d.getEl();this.startX=YAHOO.util.Event.getPageX(c);this.startY=YAHOO.util.Event.getPageY(c);this.deltaX=this.startX-e.offsetLeft;this.deltaY=this.startY-e.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var f=YAHOO.util.DDM;f.startDrag(f.startX,f.startY);f.fromTimeout=true},this.clickTimeThresh)},startDrag:function(e,c){if(this.dragCurrent&&this.dragCurrent.useShim){this._shimState=this.useShim;this.useShim=true}this._activateShim();clearTimeout(this.clickTimeout);var d=this.dragCurrent;if(d&&d.events.b4StartDrag){d.b4StartDrag(e,c);d.fireEvent("b4StartDragEvent",{x:e,y:c})}if(d&&d.events.startDrag){d.startDrag(e,c);d.fireEvent("startDragEvent",{x:e,y:c})}this.dragThreshMet=true},handleMouseUp:function(c){if(this.dragCurrent){clearTimeout(this.clickTimeout);if(this.dragThreshMet){if(this.fromTimeout){this.fromTimeout=false;this.handleMouseMove(c)}this.fromTimeout=false;this.fireEvents(c,true)}else{}this.stopDrag(c);this.stopEvent(c);this.scroll=false}},stopEvent:function(c){if(this.stopPropagation){YAHOO.util.Event.stopPropagation(c)}if(this.preventDefault){YAHOO.util.Event.preventDefault(c)}},stopDrag:function(c,d){var e=this.dragCurrent;if(e&&!d){if(this.dragThreshMet){if(e.events.b4EndDrag){e.b4EndDrag(c);e.fireEvent("b4EndDragEvent",{e:c})}if(e.events.endDrag){e.endDrag(c);e.fireEvent("endDragEvent",{e:c})}}if(e.events.mouseUp){e.onMouseUp(c);e.fireEvent("mouseUpEvent",{e:c})}}if(this._shimActive){this._deactivateShim();if(this.dragCurrent&&this.dragCurrent.useShim){this.useShim=this._shimState;this._shimState=false}}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(c){var f=this.dragCurrent;if(f){if(YAHOO.env.ua.ie&&(YAHOO.env.ua.ie<9)&&!c.button){this.stopEvent(c);return this.handleMouseUp(c)}else{if(c.clientX<0||c.clientY<0){}}if(!this.dragThreshMet){var d=Math.abs(this.startX-YAHOO.util.Event.getPageX(c));var e=Math.abs(this.startY-YAHOO.util.Event.getPageY(c));if(d>this.clickPixelThresh||e>this.clickPixelThresh){if(this.currentTarget.scrollTop-this.scrollTopOrig!=0||this.currentTarget.scrollLeft-this.scrollLeftOrig!=0){this.scroll=true}if(!this.scroll){this.startDrag(this.startX,this.startY)}}}if(this.dragThreshMet){if(f&&f.events.b4Drag){f.b4Drag(c);f.fireEvent("b4DragEvent",{e:c})}if(f&&f.events.drag){f.onDrag(c);f.fireEvent("dragEvent",{e:c})}if(f){this.fireEvents(c,false)}}this.stopEvent(c)}},fireEvents:function(i,s){var ac=this.dragCurrent;if(!ac||ac.isLocked()||ac.dragOnly){return}var q=YAHOO.util.Event.getPageX(i),r=YAHOO.util.Event.getPageY(i),o=new YAHOO.util.Point(q,r),t=ac.getTargetCoord(o.x,o.y),y=ac.getDragEl(),z=["out","over","drop","enter"],j=new YAHOO.util.Region(t.y,t.x+y.offsetWidth,t.y+y.offsetHeight,t.x),v=[],A={},n=[],ab={outEvts:[],overEvts:[],dropEvts:[],enterEvts:[]};for(var l in this.dragOvers){var aa=this.dragOvers[l];if(!this.isTypeOfDD(aa)){continue}if(!this.isOverTarget(o,aa,this.mode,j)){ab.outEvts.push(aa)}v[l]=true;delete this.dragOvers[l]}for(var m in ac.groups){if("string"!=typeof m){continue}for(l in this.ids[m]){var x=this.ids[m][l];if(!this.isTypeOfDD(x)){continue}if(x.isTarget&&!x.isLocked()&&x!=ac){if(this.isOverTarget(o,x,this.mode,j)){A[m]=true;if(s){ab.dropEvts.push(x)}else{if(!v[x.id]){ab.enterEvts.push(x)}else{ab.overEvts.push(x)}this.dragOvers[x.id]=x}}}}}this.interactionInfo={out:ab.outEvts,enter:ab.enterEvts,over:ab.overEvts,drop:ab.dropEvts,point:o,draggedRegion:j,sourceRegion:this.locationCache[ac.id],validDrop:s};for(var B in A){n.push(B)}if(s&&!ab.dropEvts.length){this.interactionInfo.validDrop=false;if(ac.events.invalidDrop){ac.onInvalidDrop(i);ac.fireEvent("invalidDropEvent",{e:i})}}for(l=0;l<z.length;l++){var f=null;if(ab[z[l]+"Evts"]){f=ab[z[l]+"Evts"]}if(f&&f.length){var w=z[l].charAt(0).toUpperCase()+z[l].substr(1),g="onDrag"+w,u="b4Drag"+w,p="drag"+w+"Event",h="drag"+w;if(this.mode){if(ac.events[u]){ac[u](i,f,n);ac.fireEvent(u+"Event",{event:i,info:f,group:n})}if(ac.events[h]){ac[g](i,f,n);ac.fireEvent(p,{event:i,info:f,group:n})}}else{for(var e=0,k=f.length;e<k;++e){if(ac.events[u]){ac[u](i,f[e].id,n[0]);ac.fireEvent(u+"Event",{event:i,info:f[e].id,group:n[0]})}if(ac.events[h]){ac[g](i,f[e].id,n[0]);ac.fireEvent(p,{event:i,info:f[e].id,group:n[0]})}}}}}},getBestMatch:function(e){var c=null;var f=e.length;if(f==1){c=e[0]}else{for(var d=0;d<f;++d){var g=e[d];if(this.mode==this.INTERSECT&&g.cursorIsOver){c=g;break}else{if(!c||!c.overlap||(g.overlap&&c.overlap.getArea()<g.overlap.getArea())){c=g}}}}return c},refreshCache:function(g){var e=g||this.ids;for(var h in e){if("string"!=typeof h){continue}for(var f in this.ids[h]){var d=this.ids[h][f];if(this.isTypeOfDD(d)){var c=this.getLocation(d);if(c){this.locationCache[d.id]=c}else{delete this.locationCache[d.id]}}}}},verifyEl:function(d){try{if(d){var e=d.offsetParent;if(e){return true}}}catch(c){}return false},getLocation:function(k){if(!this.isTypeOfDD(k)){return null}var m=k.getEl(),h,n,c,f,g,e,d,i,l;try{h=YAHOO.util.Dom.getXY(m)}catch(j){}if(!h){return null}n=h[0];c=n+m.offsetWidth;f=h[1];g=f+m.offsetHeight;e=f-k.padding[0];d=c+k.padding[1];i=g+k.padding[2];l=n-k.padding[3];return new YAHOO.util.Region(e,d,i,l)},isOverTarget:function(e,d,k,j){var i=this.locationCache[d.id];if(!i||!this.useCache){i=this.getLocation(d);this.locationCache[d.id]=i}if(!i){return false}d.cursorIsOver=i.contains(e);var f=this.dragCurrent;if(!f||(!k&&!f.constrainX&&!f.constrainY)){return d.cursorIsOver}d.overlap=null;if(!j){var h=f.getTargetCoord(e.x,e.y);var c=f.getDragEl();j=new YAHOO.util.Region(h.y,h.x+c.offsetWidth,h.y+c.offsetHeight,h.x)}var g=j.intersect(i);if(g){d.overlap=g;return(k)?true:d.cursorIsOver}else{return false}},_onUnload:function(c,d){this.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);this.ids={}},elementCache:{},getElWrapper:function(c){var d=this.elementCache[c];if(!d||!d.el){d=this.elementCache[c]=new this.ElementWrapper(YAHOO.util.Dom.get(c))}return d},getElement:function(c){return YAHOO.util.Dom.get(c)},getCss:function(c){var d=YAHOO.util.Dom.get(c);return(d)?d.style:null},ElementWrapper:function(c){this.el=c||null;this.id=this.el&&c.id;this.css=this.el&&c.style},getPosX:function(c){return YAHOO.util.Dom.getX(c)},getPosY:function(c){return YAHOO.util.Dom.getY(c)},swapNode:function(d,f){if(d.swapNode){d.swapNode(f)}else{var c=f.parentNode;var e=f.nextSibling;if(e==d){c.insertBefore(d,f)}else{if(f==d.nextSibling){c.insertBefore(f,d)}else{d.parentNode.replaceChild(f,d);c.insertBefore(d,e)}}}},getScroll:function(){var d,f,c=document.documentElement,e=document.body;if(c&&(c.scrollTop||c.scrollLeft)){d=c.scrollTop;f=c.scrollLeft}else{if(e){d=e.scrollTop;f=e.scrollLeft}else{}}return{top:d,left:f}},getStyle:function(c,d){return YAHOO.util.Dom.getStyle(c,d)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,c){var d=YAHOO.util.Dom.getXY(c);YAHOO.util.Dom.setXY(e,d)},getClientHeight:function(){return YAHOO.util.Dom.getViewportHeight()},getClientWidth:function(){return YAHOO.util.Dom.getViewportWidth()},numericSort:function(c,d){return(c-d)},_timeoutCount:0,_addListeners:function(){var c=YAHOO.util.DDM;if(YAHOO.util.Event&&document){c._onLoad()}else{if(c._timeoutCount>2000){}else{setTimeout(c._addListeners,10);if(document&&document.body){c._timeoutCount+=1}}}},handleWasClicked:function(e,c){if(this.isHandle(c,e.id)){return true}else{var d=e.parentNode;while(d){if(this.isHandle(c,d.id)){return true}else{d=d.parentNode}}}return false}}}();YAHOO.util.DDM=YAHOO.util.DragDropMgr;YAHOO.util.DDM._addListeners()}(function(){var a=YAHOO.util.Event;var b=YAHOO.util.Dom;YAHOO.util.DragDrop=function(c,e,d){if(c){this.init(c,e,d)}};YAHOO.util.DragDrop.prototype={events:null,on:function(){this.subscribe.apply(this,arguments)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},unlock:function(){this.locked=false},isTarget:true,padding:null,dragOnly:false,useShim:false,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,deltaX:0,deltaY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,cursorIsOver:false,overlap:null,b4StartDrag:function(d,c){},startDrag:function(d,c){},b4Drag:function(c){},onDrag:function(c){},onDragEnter:function(d,c){},b4DragOver:function(c){},onDragOver:function(d,c){},b4DragOut:function(c){},onDragOut:function(d,c){},b4DragDrop:function(c){},onDragDrop:function(d,c){},onInvalidDrop:function(c){},b4EndDrag:function(c){},endDrag:function(c){},b4MouseDown:function(c){},onMouseDown:function(c){},onMouseUp:function(c){},onAvailable:function(){},getEl:function(){if(!this._domRef){this._domRef=b.get(this.id)}return this._domRef},getDragEl:function(){return b.get(this.dragElId)},init:function(c,f,e){this.initTarget(c,f,e);a.on(this._domRef||this.id,"mousedown",this.handleMouseDown,this,true);for(var d in this.events){this.createEvent(d+"Event")}},initTarget:function(c,e,d){this.config=d||{};this.events={};this.DDM=YAHOO.util.DDM;this.groups={};if(typeof c!=="string"){this._domRef=c;c=b.generateId(c)}this.id=c;this.addToGroup((e)?e:"default");this.handleElId=c;a.onAvailable(c,this.handleOnAvailable,this,true);this.setDragElId(c);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig()},applyConfig:function(){this.events={mouseDown:true,b4MouseDown:true,mouseUp:true,b4StartDrag:true,startDrag:true,b4EndDrag:true,endDrag:true,drag:true,b4Drag:true,invalidDrop:true,b4DragOut:true,dragOut:true,dragEnter:true,b4DragOver:true,dragOver:true,b4DragDrop:true,dragDrop:true};if(this.config.events){for(var c in this.config.events){if(this.config.events[c]===false){this.events[c]=false}}}this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false);this.dragOnly=((this.config.dragOnly===true)?true:false);this.useShim=((this.config.useShim===true)?true:false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(d,f,c,e){if(!f&&0!==f){this.padding=[d,d,d,d]}else{if(!c&&0!==c){this.padding=[d,f,d,f]}else{this.padding=[d,f,c,e]}}},setInitPosition:function(e,f){var d=this.getEl();if(!this.DDM.verifyEl(d)){if(d&&d.style&&(d.style.display=="none")){}else{}return}var g=e||0;var h=f||0;var c=b.getXY(d);this.initPageX=c[0]-g;this.initPageY=c[1]-h;this.lastPageX=c[0];this.lastPageY=c[1];this.setStartPosition(c)},setStartPosition:function(c){var d=c||b.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=d[0];this.startPageY=d[1]},addToGroup:function(c){this.groups[c]=true;this.DDM.regDragDrop(this,c)},removeFromGroup:function(c){if(this.groups[c]){delete this.groups[c]}this.DDM.removeDDFromGroup(this,c)},setDragElId:function(c){this.dragElId=c},setHandleElId:function(c){if(typeof c!=="string"){c=b.generateId(c)}this.handleElId=c;this.DDM.regHandle(this.id,c)},setOuterHandleElId:function(c){if(typeof c!=="string"){c=b.generateId(c)}a.on(c,"mousedown",this.handleMouseDown,this,true);this.setHandleElId(c);this.hasOuterHandles=true},unreg:function(){a.removeListener(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this)},isLocked:function(){return(this.DDM.isLocked()||this.locked)},handleMouseDown:function(c,d){var i=c.which||c.button;if(this.primaryButtonOnly&&i>1){return}if(this.isLocked()){return}var j=this.b4MouseDown(c),g=true;if(this.events.b4MouseDown){g=this.fireEvent("b4MouseDownEvent",c)}var h=this.onMouseDown(c),e=true;if(this.events.mouseDown){e=this.fireEvent("mouseDownEvent",c)}if((j===false)||(h===false)||(g===false)||(e===false)){return}this.DDM.refreshCache(this.groups);var f=new YAHOO.util.Point(a.getPageX(c),a.getPageY(c));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(f,this)){}else{if(this.clickValidator(c)){this.setStartPosition();this.DDM.handleMouseDown(c,this);this.DDM.stopEvent(c)}else{}}},clickValidator:function(c){var d=YAHOO.util.Event.getTarget(c);return(this.isValidHandleChild(d)&&(this.id==this.handleElId||this.DDM.handleWasClicked(d,this.id)))},getTargetCoord:function(d,e){var f=d-this.deltaX;var c=e-this.deltaY;if(this.constrainX){if(f<this.minX){f=this.minX}if(f>this.maxX){f=this.maxX}}if(this.constrainY){if(c<this.minY){c=this.minY}if(c>this.maxY){c=this.maxY}}f=this.getTick(f,this.xTicks);c=this.getTick(c,this.yTicks);return{x:f,y:c}},addInvalidHandleType:function(d){var c=d.toUpperCase();this.invalidHandleTypes[c]=c},addInvalidHandleId:function(c){if(typeof c!=="string"){c=b.generateId(c)}this.invalidHandleIds[c]=c},addInvalidHandleClass:function(c){this.invalidHandleClasses.push(c)},removeInvalidHandleType:function(d){var c=d.toUpperCase();delete this.invalidHandleTypes[c]},removeInvalidHandleId:function(c){if(typeof c!=="string"){c=b.generateId(c)}delete this.invalidHandleIds[c]},removeInvalidHandleClass:function(d){for(var c=0,e=this.invalidHandleClasses.length;c<e;++c){if(this.invalidHandleClasses[c]==d){delete this.invalidHandleClasses[c]}}},isValidHandleChild:function(e){var f=true;var c;try{c=e.nodeName.toUpperCase()}catch(d){c=e.nodeName}f=f&&!this.invalidHandleTypes[c];f=f&&!this.invalidHandleIds[e.id];for(var g=0,h=this.invalidHandleClasses.length;f&&g<h;++g){f=!b.hasClass(e,this.invalidHandleClasses[g])}return f},setXTicks:function(c,f){this.xTicks=[];this.xTickSize=f;var d={};for(var e=this.initPageX;e>=this.minX;e=e-f){if(!d[e]){this.xTicks[this.xTicks.length]=e;d[e]=true}}for(e=this.initPageX;e<=this.maxX;e=e+f){if(!d[e]){this.xTicks[this.xTicks.length]=e;d[e]=true}}this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(c,f){this.yTicks=[];this.yTickSize=f;var d={};for(var e=this.initPageY;e>=this.minY;e=e-f){if(!d[e]){this.yTicks[this.yTicks.length]=e;d[e]=true}}for(e=this.initPageY;e<=this.maxY;e=e+f){if(!d[e]){this.yTicks[this.yTicks.length]=e;d[e]=true}}this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(c,d,e){this.leftConstraint=parseInt(c,10);this.rightConstraint=parseInt(d,10);this.minX=this.initPageX-this.leftConstraint;this.maxX=this.initPageX+this.rightConstraint;if(this.minX!=0){this.maxX=this.maxX-this.minX;this.minX=this.minX-this.minX}if(e){this.setXTicks(this.initPageX,e)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(e,c,d){this.topConstraint=parseInt(e,10);this.bottomConstraint=parseInt(c,10);this.minY=this.initPageY-this.topConstraint;this.maxY=this.initPageY+this.bottomConstraint;if(this.minY!=0){this.maxY=this.maxY-this.minY;this.minY=this.minY-this.minY}if(d){this.setYTicks(this.initPageY,d)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var c=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var d=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(c,d)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(c,f){if(!f){return c}else{if(f[0]>=c){return f[0]}else{for(var h=0,i=f.length;h<i;++h){var g=h+1;if(f[g]&&f[g]>=c){var d=c-f[h];var e=f[g]-c;return(e>d)?f[h]:f[g]}}return f[f.length-1]}}},toString:function(){return("DragDrop "+this.id)}};YAHOO.augment(YAHOO.util.DragDrop,YAHOO.util.EventProvider)})();YAHOO.util.DD=function(b,a,c){if(b){this.init(b,a,c)}};YAHOO.extend(YAHOO.util.DD,YAHOO.util.DragDrop,{scroll:true,autoOffset:function(c,d){var a=c-this.startPageX;var b=d-this.startPageY;this.setDelta(a,b)},setDelta:function(b,a){this.deltaX=b;this.deltaY=a},setDragElPos:function(b,c){var a=this.getDragEl();this.alignElWithMouse(a,b,c)},alignElWithMouse:function(g,c,d){var e=this.getTargetCoord(c,d);if(!this.deltaSetXY){var b=[e.x,e.y];YAHOO.util.Dom.setXY(g,b);var f=parseInt(YAHOO.util.Dom.getStyle(g,"left"),10);var h=parseInt(YAHOO.util.Dom.getStyle(g,"top"),10);this.deltaSetXY=[f-e.x,h-e.y]}else{YAHOO.util.Dom.setStyle(g,"left",(e.x+this.deltaSetXY[0])+"px");YAHOO.util.Dom.setStyle(g,"top",(e.y+this.deltaSetXY[1])+"px")}this.cachePosition(e.x,e.y);var a=this;setTimeout(function(){a.autoScroll.call(a,e.x,e.y,g.offsetHeight,g.offsetWidth)},0)},cachePosition:function(c,a){if(c){this.lastPageX=c;this.lastPageY=a}else{var b=YAHOO.util.Dom.getXY(this.getEl());this.lastPageX=b[0];this.lastPageY=b[1]}},autoScroll:function(i,j,n,h){if(this.scroll){var g=this.DDM.getClientHeight();var c=this.DDM.getClientWidth();var e=this.DDM.getScrollTop();var a=this.DDM.getScrollLeft();var k=n+j;var f=h+i;var l=(g+e-j-this.deltaY);var m=(c+a-i-this.deltaX);var b=40;var d=(document.all)?80:30;if(k>g&&l<b){window.scrollTo(a,e+d)}if(j<e&&e>0&&j-e<b){window.scrollTo(a,e-d)}if(f>c&&m<b){window.scrollTo(a+d,e)}if(i<a&&a>0&&i-a<b){window.scrollTo(a-d,e)}}},applyConfig:function(){YAHOO.util.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(a){this.setStartPosition();this.autoOffset(YAHOO.util.Event.getPageX(a),YAHOO.util.Event.getPageY(a))},b4Drag:function(a){this.setDragElPos(YAHOO.util.Event.getPageX(a),YAHOO.util.Event.getPageY(a))},toString:function(){return("DD "+this.id)}});YAHOO.util.DDProxy=function(b,a,c){if(b){this.init(b,a,c);this.initFrame()}};YAHOO.util.DDProxy.dragElId="ygddfdiv";YAHOO.extend(YAHOO.util.DDProxy,YAHOO.util.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var f=this,a=document.body;if(!a||!a.firstChild){setTimeout(function(){f.createFrame()},50);return}var b=this.getDragEl(),c=YAHOO.util.Dom;if(!b){b=document.createElement("div");b.id=this.dragElId;var d=b.style;d.position="absolute";d.visibility="hidden";d.cursor="move";d.border="2px solid #aaa";d.zIndex=999;d.height="25px";d.width="25px";var e=document.createElement("div");c.setStyle(e,"height","100%");c.setStyle(e,"width","100%");c.setStyle(e,"background-color","#ccc");c.setStyle(e,"opacity","0");b.appendChild(e);a.insertBefore(b,a.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){YAHOO.util.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||YAHOO.util.DDProxy.dragElId)},showFrame:function(b,c){var d=this.getEl();var a=this.getDragEl();var e=a.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(e.width,10)/2),Math.round(parseInt(e.height,10)/2))}this.setDragElPos(b,c);YAHOO.util.Dom.setStyle(a,"visibility","visible")},_resizeProxy:function(){if(this.resizeFrame){var f=YAHOO.util.Dom;var c=this.getEl();var b=this.getDragEl();var g=parseInt(f.getStyle(b,"borderTopWidth"),10);var e=parseInt(f.getStyle(b,"borderRightWidth"),10);var h=parseInt(f.getStyle(b,"borderBottomWidth"),10);var a=parseInt(f.getStyle(b,"borderLeftWidth"),10);if(isNaN(g)){g=0}if(isNaN(e)){e=0}if(isNaN(h)){h=0}if(isNaN(a)){a=0}var i=Math.max(0,c.offsetWidth-e-a);var d=Math.max(0,c.offsetHeight-g-h);f.setStyle(b,"width",i+"px");f.setStyle(b,"height",d+"px")}},b4MouseDown:function(c){this.setStartPosition();var a=YAHOO.util.Event.getPageX(c);var b=YAHOO.util.Event.getPageY(c);this.autoOffset(a,b)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){YAHOO.util.Dom.setStyle(this.getDragEl(),"visibility","hidden")},endDrag:function(b){var c=YAHOO.util.Dom;var d=this.getEl();var a=this.getDragEl();c.setStyle(a,"visibility","");c.setStyle(d,"visibility","hidden");YAHOO.util.DDM.moveToEl(d,a);c.setStyle(a,"visibility","hidden");c.setStyle(d,"visibility","")},toString:function(){return("DDProxy "+this.id)}});YAHOO.util.DDTarget=function(b,a,c){if(b){this.initTarget(b,a,c)}};YAHOO.extend(YAHOO.util.DDTarget,YAHOO.util.DragDrop,{toString:function(){return("DDTarget "+this.id)}});YAHOO.register("dragdrop",YAHOO.util.DragDropMgr,{version:"2.7.0",build:"1799"});(function(){YAHOO.util.Config=function(d){if(d){this.init(d)}};var c=YAHOO.lang,b=YAHOO.util.CustomEvent,a=YAHOO.util.Config;a.CONFIG_CHANGED_EVENT="configChanged";a.BOOLEAN_TYPE="boolean";a.prototype={owner:null,queueInProgress:false,config:null,initialConfig:null,eventQueue:null,configChangedEvent:null,init:function(d){this.owner=d;this.configChangedEvent=this.createEvent(a.CONFIG_CHANGED_EVENT);this.configChangedEvent.signature=b.LIST;this.queueInProgress=false;this.config={};this.initialConfig={};this.eventQueue=[]},checkBoolean:function(d){return(typeof d==a.BOOLEAN_TYPE)},checkNumber:function(d){return(!isNaN(d))},fireEvent:function(f,d){var e=this.config[f];if(e&&e.event){e.event.fire(d)}},addProperty:function(d,e){d=d.toLowerCase();this.config[d]=e;e.event=this.createEvent(d,{scope:this.owner});e.event.signature=b.LIST;e.key=d;if(e.handler){e.event.subscribe(e.handler,this.owner)}this.setProperty(d,e.value,true);if(!e.suppressEvent){this.queueProperty(d,e.value)}},getConfig:function(){var g={},e=this.config,d,f;for(d in e){if(c.hasOwnProperty(e,d)){f=e[d];if(f&&f.event){g[d]=f.value}}}return g},getProperty:function(e){var d=this.config[e.toLowerCase()];if(d&&d.event){return d.value}else{return undefined}},resetProperty:function(e){e=e.toLowerCase();var d=this.config[e];if(d&&d.event){if(this.initialConfig[e]&&!c.isUndefined(this.initialConfig[e])){this.setProperty(e,this.initialConfig[e]);return true}}else{return false}},setProperty:function(f,d,g){var e;f=f.toLowerCase();if(this.queueInProgress&&!g){this.queueProperty(f,d);return true}else{e=this.config[f];if(e&&e.event){if(e.validator&&!e.validator(d)){return false}else{e.value=d;if(!g){this.fireEvent(f,d);this.configChangedEvent.fire([f,d])}return true}}else{return false}}},queueProperty:function(f,i){f=f.toLowerCase();var g=this.config[f],n=false,o,r,q,p,j,h,s,l,k,d,m,e,t;if(g&&g.event){if(!c.isUndefined(i)&&g.validator&&!g.validator(i)){return false}else{if(!c.isUndefined(i)){g.value=i}else{i=g.value}n=false;o=this.eventQueue.length;for(m=0;m<o;m++){r=this.eventQueue[m];if(r){q=r[0];p=r[1];if(q==f){this.eventQueue[m]=null;this.eventQueue.push([f,(!c.isUndefined(i)?i:p)]);n=true;break}}}if(!n&&!c.isUndefined(i)){this.eventQueue.push([f,i])}}if(g.supercedes){j=g.supercedes.length;for(e=0;e<j;e++){h=g.supercedes[e];s=this.eventQueue.length;for(t=0;t<s;t++){l=this.eventQueue[t];if(l){k=l[0];d=l[1];if(k==h.toLowerCase()){this.eventQueue.push([k,d]);this.eventQueue[t]=null;break}}}}}return true}else{return false}},refireEvent:function(e){e=e.toLowerCase();var d=this.config[e];if(d&&d.event&&!c.isUndefined(d.value)){if(this.queueInProgress){this.queueProperty(e)}else{this.fireEvent(e,d.value)}}},applyConfig:function(g,d){var e,f;if(d){f={};for(e in g){if(c.hasOwnProperty(g,e)){f[e.toLowerCase()]=g[e]}}this.initialConfig=f}for(e in g){if(c.hasOwnProperty(g,e)){this.queueProperty(e,g[e])}}},refresh:function(){var d;for(d in this.config){if(c.hasOwnProperty(this.config,d)){this.refireEvent(d)}}},fireQueue:function(){var g,d,h,e,f;this.queueInProgress=true;for(g=0;g<this.eventQueue.length;g++){d=this.eventQueue[g];if(d){h=d[0];e=d[1];f=this.config[h];f.value=e;this.eventQueue[g]=null;this.fireEvent(h,e)}}this.queueInProgress=false;this.eventQueue=[]},subscribeToConfigEvent:function(g,f,d,h){var e=this.config[g.toLowerCase()];if(e&&e.event){if(!a.alreadySubscribed(e.event,f,d)){e.event.subscribe(f,d,h)}return true}else{return false}},unsubscribeFromConfigEvent:function(g,f,d){var e=this.config[g.toLowerCase()];if(e&&e.event){return e.event.unsubscribe(f,d)}else{return false}},toString:function(){var d="Config";if(this.owner){d+=" ["+this.owner.toString()+"]"}return d},outputEventQueue:function(){var g="",d,f,e=this.eventQueue.length;for(f=0;f<e;f++){d=this.eventQueue[f];if(d){g+=d[0]+"="+d[1]+", "}}return g},destroy:function(){var e=this.config,f,d;for(f in e){if(c.hasOwnProperty(e,f)){d=e[f];d.event.unsubscribeAll();d.event=null}}this.configChangedEvent.unsubscribeAll();this.configChangedEvent=null;this.owner=null;this.config=null;this.initialConfig=null;this.eventQueue=null}};a.alreadySubscribed=function(h,e,d){var g=h.subscribers.length,i,f;if(g>0){f=g-1;do{i=h.subscribers[f];if(i&&i.obj==d&&i.fn==e){return true}}while(f--)}return false};YAHOO.lang.augmentProto(a,YAHOO.util.EventProvider)}());(function(){YAHOO.widget.Module=function(q,r){if(q){this.init(q,r)}else{}};var o=YAHOO.util.Dom,a=YAHOO.util.Config,g=YAHOO.util.Event,h=YAHOO.util.CustomEvent,n=YAHOO.widget.Module,l=YAHOO.env.ua,m,e,f,p,d={BEFORE_INIT:"beforeInit",INIT:"init",APPEND:"append",BEFORE_RENDER:"beforeRender",RENDER:"render",CHANGE_HEADER:"changeHeader",CHANGE_BODY:"changeBody",CHANGE_FOOTER:"changeFooter",CHANGE_CONTENT:"changeContent",DESTORY:"destroy",BEFORE_SHOW:"beforeShow",SHOW:"show",BEFORE_HIDE:"beforeHide",HIDE:"hide"},k={VISIBLE:{key:"visible",value:true,validator:YAHOO.lang.isBoolean},EFFECT:{key:"effect",suppressEvent:true,supercedes:["visible"]},MONITOR_RESIZE:{key:"monitorresize",value:true},APPEND_TO_DOCUMENT_BODY:{key:"appendtodocumentbody",value:false}};n.IMG_ROOT=null;n.IMG_ROOT_SSL=null;n.CSS_MODULE="yui-module";n.CSS_HEADER="hd";n.CSS_BODY="bd";n.CSS_FOOTER="ft";n.RESIZE_MONITOR_SECURE_URL="javascript:false;";n.RESIZE_MONITOR_BUFFER=1;n.textResizeEvent=new h("textResize");n.forceDocumentRedraw=function(){var q=document.documentElement;if(q){q.className+=" ";q.className=YAHOO.lang.trim(q.className)}};function i(){if(!m){m=document.createElement("div");m.innerHTML=('<div class="'+n.CSS_HEADER+'"></div><div class="'+n.CSS_BODY+'"></div><div class="'+n.CSS_FOOTER+'"></div>');e=m.firstChild;f=e.nextSibling;p=f.nextSibling}return m}function j(){if(!e){i()}return(e.cloneNode(false))}function c(){if(!f){i()}return(f.cloneNode(false))}function b(){if(!p){i()}return(p.cloneNode(false))}n.prototype={constructor:n,element:null,header:null,body:null,footer:null,id:null,imageRoot:n.IMG_ROOT,initEvents:function(){var q=h.LIST;this.beforeInitEvent=this.createEvent(d.BEFORE_INIT);this.beforeInitEvent.signature=q;this.initEvent=this.createEvent(d.INIT);this.initEvent.signature=q;this.appendEvent=this.createEvent(d.APPEND);this.appendEvent.signature=q;this.beforeRenderEvent=this.createEvent(d.BEFORE_RENDER);this.beforeRenderEvent.signature=q;this.renderEvent=this.createEvent(d.RENDER);this.renderEvent.signature=q;this.changeHeaderEvent=this.createEvent(d.CHANGE_HEADER);this.changeHeaderEvent.signature=q;this.changeBodyEvent=this.createEvent(d.CHANGE_BODY);this.changeBodyEvent.signature=q;this.changeFooterEvent=this.createEvent(d.CHANGE_FOOTER);this.changeFooterEvent.signature=q;this.changeContentEvent=this.createEvent(d.CHANGE_CONTENT);this.changeContentEvent.signature=q;this.destroyEvent=this.createEvent(d.DESTORY);this.destroyEvent.signature=q;this.beforeShowEvent=this.createEvent(d.BEFORE_SHOW);this.beforeShowEvent.signature=q;this.showEvent=this.createEvent(d.SHOW);this.showEvent.signature=q;this.beforeHideEvent=this.createEvent(d.BEFORE_HIDE);this.beforeHideEvent.signature=q;this.hideEvent=this.createEvent(d.HIDE);this.hideEvent.signature=q},platform:function(){var q=navigator.userAgent.toLowerCase();if(q.indexOf("windows")!=-1||q.indexOf("win32")!=-1){return"windows"}else{if(q.indexOf("macintosh")!=-1){return"mac"}else{return false}}}(),browser:function(){var q=navigator.userAgent.toLowerCase();if(q.indexOf("opera")!=-1){return"opera"}else{if(q.indexOf("msie 7")!=-1){return"ie7"}else{if(q.indexOf("msie")!=-1){return"ie"}else{if(q.indexOf("safari")!=-1){return"safari"}else{if(q.indexOf("gecko")!=-1){return"gecko"}else{return false}}}}}}(),isSecure:function(){if(window.location.href.toLowerCase().indexOf("https")===0){return true}else{return false}}(),initDefaultConfig:function(){this.cfg.addProperty(k.VISIBLE.key,{handler:this.configVisible,value:k.VISIBLE.value,validator:k.VISIBLE.validator});this.cfg.addProperty(k.EFFECT.key,{suppressEvent:k.EFFECT.suppressEvent,supercedes:k.EFFECT.supercedes});this.cfg.addProperty(k.MONITOR_RESIZE.key,{handler:this.configMonitorResize,value:k.MONITOR_RESIZE.value});this.cfg.addProperty(k.APPEND_TO_DOCUMENT_BODY.key,{value:k.APPEND_TO_DOCUMENT_BODY.value})},init:function(r,s){var u,q;this.initEvents();this.beforeInitEvent.fire(n);this.cfg=new a(this);if(this.isSecure){this.imageRoot=n.IMG_ROOT_SSL}if(typeof r=="string"){u=r;r=document.getElementById(r);if(!r){r=(i()).cloneNode(false);r.id=u}}this.id=o.generateId(r);this.element=r;q=this.element.firstChild;if(q){var v=false,w=false,t=false;do{if(1==q.nodeType){if(!v&&o.hasClass(q,n.CSS_HEADER)){this.header=q;v=true}else{if(!w&&o.hasClass(q,n.CSS_BODY)){this.body=q;w=true}else{if(!t&&o.hasClass(q,n.CSS_FOOTER)){this.footer=q;t=true}}}}}while((q=q.nextSibling))}this.initDefaultConfig();o.addClass(this.element,n.CSS_MODULE);if(s){this.cfg.applyConfig(s,true)}if(!a.alreadySubscribed(this.renderEvent,this.cfg.fireQueue,this.cfg)){this.renderEvent.subscribe(this.cfg.fireQueue,this.cfg,true)}this.initEvent.fire(n)},initResizeMonitor:function(){var q=(l.gecko&&this.platform=="windows");if(q){var r=this;setTimeout(function(){r._initResizeMonitor()},0)}else{this._initResizeMonitor()}},_initResizeMonitor:function(){var w,u,s;function q(){n.textResizeEvent.fire()}if(!l.opera){u=o.get("_yuiResizeMonitor");var r=this._supportsCWResize();if(!u){u=document.createElement("iframe");if(this.isSecure&&n.RESIZE_MONITOR_SECURE_URL&&l.ie){u.src=n.RESIZE_MONITOR_SECURE_URL}if(!r){s=["<html><head><script ",'type="text/javascript">',"window.onresize=function(){window.parent.","YAHOO.widget.Module.textResizeEvent.","fire();};<","/script></head>","<body></body></html>"].join("");u.src="data:text/html;charset=utf-8,"+encodeURIComponent(s)}u.id="_yuiResizeMonitor";u.title="Text Resize Monitor";u.style.position="absolute";u.style.visibility="hidden";var v=document.body,t=v.firstChild;if(t){v.insertBefore(u,t)}else{v.appendChild(u)}u.style.width="2em";u.style.height="2em";u.style.top=(-1*(u.offsetHeight+n.RESIZE_MONITOR_BUFFER))+"px";u.style.left="0";u.style.borderWidth="0";u.style.visibility="visible";if(l.webkit){w=u.contentWindow.document;w.open();w.close()}}if(u&&u.contentWindow){n.textResizeEvent.subscribe(this.onDomResize,this,true);if(!n.textResizeInitialized){if(r){if(!g.on(u.contentWindow,"resize",q)){g.on(u,"resize",q)}}n.textResizeInitialized=true}this.resizeMonitor=u}}},_supportsCWResize:function(){var q=true;if(l.gecko&&l.gecko<=1.8){q=false}return q},onDomResize:function(q,r){var s=-1*(this.resizeMonitor.offsetHeight+n.RESIZE_MONITOR_BUFFER);this.resizeMonitor.style.top=s+"px";this.resizeMonitor.style.left="0"},setHeader:function(q){var r=this.header||(this.header=j());if(q.nodeName){r.innerHTML="";r.appendChild(q)}else{r.innerHTML=q}this.changeHeaderEvent.fire(q);this.changeContentEvent.fire()},appendToHeader:function(q){var r=this.header||(this.header=j());r.appendChild(q);this.changeHeaderEvent.fire(q);this.changeContentEvent.fire()},setBody:function(q){var r=this.body||(this.body=c());if(q.nodeName){r.innerHTML="";r.appendChild(q)}else{r.innerHTML=q}this.changeBodyEvent.fire(q);this.changeContentEvent.fire()},appendToBody:function(q){var r=this.body||(this.body=c());r.appendChild(q);this.changeBodyEvent.fire(q);this.changeContentEvent.fire()},setFooter:function(q){var r=this.footer||(this.footer=b());if(q.nodeName){r.innerHTML="";r.appendChild(q)}else{r.innerHTML=q}this.changeFooterEvent.fire(q);this.changeContentEvent.fire()},appendToFooter:function(q){var r=this.footer||(this.footer=b());r.appendChild(q);this.changeFooterEvent.fire(q);this.changeContentEvent.fire()},render:function(s,u){var r=this,q;function t(v){if(typeof v=="string"){v=document.getElementById(v)}if(v){r._addToParent(v,r.element);r.appendEvent.fire()}}this.beforeRenderEvent.fire();if(!u){u=this.element}if(s){t(s)}else{if(!o.inDocument(this.element)){return false}}if(this.header&&!o.inDocument(this.header)){q=u.firstChild;if(q){u.insertBefore(this.header,q)}else{u.appendChild(this.header)}}if(this.body&&!o.inDocument(this.body)){if(this.footer&&o.isAncestor(this.moduleElement,this.footer)){u.insertBefore(this.body,this.footer)}else{u.appendChild(this.body)}}if(this.footer&&!o.inDocument(this.footer)){u.appendChild(this.footer)}this.renderEvent.fire();return true},destroy:function(){var q;if(this.element){g.purgeElement(this.element,true);q=this.element.parentNode}if(q){q.removeChild(this.element)}this.element=null;this.header=null;this.body=null;this.footer=null;n.textResizeEvent.unsubscribe(this.onDomResize,this);this.cfg.destroy();this.cfg=null;this.destroyEvent.fire()},show:function(){this.cfg.setProperty("visible",true)},hide:function(){this.cfg.setProperty("visible",false)},configVisible:function(s,t,r){var q=t[0];if(q){this.beforeShowEvent.fire();o.setStyle(this.element,"display","block");this.showEvent.fire()}else{this.beforeHideEvent.fire();o.setStyle(this.element,"display","none");this.hideEvent.fire()}},configMonitorResize:function(r,s,q){var t=s[0];if(t){this.initResizeMonitor()}else{n.textResizeEvent.unsubscribe(this.onDomResize,this,true);this.resizeMonitor=null}},_addToParent:function(r,q){if(!this.cfg.getProperty("appendtodocumentbody")&&r===document.body&&r.firstChild){r.insertBefore(q,r.firstChild)}else{r.appendChild(q)}},toString:function(){return"Module "+this.id}};YAHOO.lang.augmentProto(n,YAHOO.util.EventProvider)}());(function(){YAHOO.widget.Overlay=function(o,p){YAHOO.widget.Overlay.superclass.constructor.call(this,o,p)};var j=YAHOO.lang,f=YAHOO.util.CustomEvent,l=YAHOO.widget.Module,e=YAHOO.util.Event,m=YAHOO.util.Dom,a=YAHOO.util.Config,h=YAHOO.env.ua,c=YAHOO.widget.Overlay,k="subscribe",n="unsubscribe",b="contained",i,d={BEFORE_MOVE:"beforeMove",MOVE:"move"},g={X:{key:"x",validator:j.isNumber,suppressEvent:true,supercedes:["iframe"]},Y:{key:"y",validator:j.isNumber,suppressEvent:true,supercedes:["iframe"]},XY:{key:"xy",suppressEvent:true,supercedes:["iframe"]},CONTEXT:{key:"context",suppressEvent:true,supercedes:["iframe"]},FIXED_CENTER:{key:"fixedcenter",value:false,supercedes:["iframe","visible"]},WIDTH:{key:"width",suppressEvent:true,supercedes:["context","fixedcenter","iframe"]},HEIGHT:{key:"height",suppressEvent:true,supercedes:["context","fixedcenter","iframe"]},AUTO_FILL_HEIGHT:{key:"autofillheight",supercedes:["height"],value:"body"},ZINDEX:{key:"zindex",value:null},CONSTRAIN_TO_VIEWPORT:{key:"constraintoviewport",value:false,validator:j.isBoolean,supercedes:["iframe","x","y","xy"]},IFRAME:{key:"iframe",value:(h.ie==6?true:false),validator:j.isBoolean,supercedes:["zindex"]},PREVENT_CONTEXT_OVERLAP:{key:"preventcontextoverlap",value:false,validator:j.isBoolean,supercedes:["constraintoviewport"]}};c.IFRAME_SRC="javascript:false;";c.IFRAME_OFFSET=3;c.VIEWPORT_OFFSET=10;c.TOP_LEFT="tl";c.TOP_RIGHT="tr";c.BOTTOM_LEFT="bl";c.BOTTOM_RIGHT="br";c.CSS_OVERLAY="yui-overlay";c.STD_MOD_RE=/^\s*?(body|footer|header)\s*?$/i;c.windowScrollEvent=new f("windowScroll");c.windowResizeEvent=new f("windowResize");c.windowScrollHandler=function(o){var p=e.getTarget(o);if(!p||p===window||p===window.document){if(h.ie){if(!window.scrollEnd){window.scrollEnd=-1}clearTimeout(window.scrollEnd);window.scrollEnd=setTimeout(function(){c.windowScrollEvent.fire()},1)}else{c.windowScrollEvent.fire()}}};c.windowResizeHandler=function(o){if(h.ie){if(!window.resizeEnd){window.resizeEnd=-1}clearTimeout(window.resizeEnd);window.resizeEnd=setTimeout(function(){c.windowResizeEvent.fire()},100)}else{c.windowResizeEvent.fire()}};c._initialized=null;if(c._initialized===null){e.on(window,"scroll",c.windowScrollHandler);e.on(window,"resize",c.windowResizeHandler);c._initialized=true}c._TRIGGER_MAP={windowScroll:c.windowScrollEvent,windowResize:c.windowResizeEvent,textResize:l.textResizeEvent};YAHOO.extend(c,l,{CONTEXT_TRIGGERS:[],init:function(o,p){c.superclass.init.call(this,o);this.beforeInitEvent.fire(c);m.addClass(this.element,c.CSS_OVERLAY);if(p){this.cfg.applyConfig(p,true)}if(this.platform=="mac"&&h.gecko){if(!a.alreadySubscribed(this.showEvent,this.showMacGeckoScrollbars,this)){this.showEvent.subscribe(this.showMacGeckoScrollbars,this,true)}if(!a.alreadySubscribed(this.hideEvent,this.hideMacGeckoScrollbars,this)){this.hideEvent.subscribe(this.hideMacGeckoScrollbars,this,true)}}this.initEvent.fire(c)},initEvents:function(){c.superclass.initEvents.call(this);var o=f.LIST;this.beforeMoveEvent=this.createEvent(d.BEFORE_MOVE);this.beforeMoveEvent.signature=o;this.moveEvent=this.createEvent(d.MOVE);this.moveEvent.signature=o},initDefaultConfig:function(){c.superclass.initDefaultConfig.call(this);var o=this.cfg;o.addProperty(g.X.key,{handler:this.configX,validator:g.X.validator,suppressEvent:g.X.suppressEvent,supercedes:g.X.supercedes});o.addProperty(g.Y.key,{handler:this.configY,validator:g.Y.validator,suppressEvent:g.Y.suppressEvent,supercedes:g.Y.supercedes});o.addProperty(g.XY.key,{handler:this.configXY,suppressEvent:g.XY.suppressEvent,supercedes:g.XY.supercedes});o.addProperty(g.CONTEXT.key,{handler:this.configContext,suppressEvent:g.CONTEXT.suppressEvent,supercedes:g.CONTEXT.supercedes});o.addProperty(g.FIXED_CENTER.key,{handler:this.configFixedCenter,value:g.FIXED_CENTER.value,validator:g.FIXED_CENTER.validator,supercedes:g.FIXED_CENTER.supercedes});o.addProperty(g.WIDTH.key,{handler:this.configWidth,suppressEvent:g.WIDTH.suppressEvent,supercedes:g.WIDTH.supercedes});o.addProperty(g.HEIGHT.key,{handler:this.configHeight,suppressEvent:g.HEIGHT.suppressEvent,supercedes:g.HEIGHT.supercedes});o.addProperty(g.AUTO_FILL_HEIGHT.key,{handler:this.configAutoFillHeight,value:g.AUTO_FILL_HEIGHT.value,validator:this._validateAutoFill,supercedes:g.AUTO_FILL_HEIGHT.supercedes});o.addProperty(g.ZINDEX.key,{handler:this.configzIndex,value:g.ZINDEX.value});o.addProperty(g.CONSTRAIN_TO_VIEWPORT.key,{handler:this.configConstrainToViewport,value:g.CONSTRAIN_TO_VIEWPORT.value,validator:g.CONSTRAIN_TO_VIEWPORT.validator,supercedes:g.CONSTRAIN_TO_VIEWPORT.supercedes});o.addProperty(g.IFRAME.key,{handler:this.configIframe,value:g.IFRAME.value,validator:g.IFRAME.validator,supercedes:g.IFRAME.supercedes});o.addProperty(g.PREVENT_CONTEXT_OVERLAP.key,{value:g.PREVENT_CONTEXT_OVERLAP.value,validator:g.PREVENT_CONTEXT_OVERLAP.validator,supercedes:g.PREVENT_CONTEXT_OVERLAP.supercedes})},moveTo:function(p,o){this.cfg.setProperty("xy",[p,o])},hideMacGeckoScrollbars:function(){m.replaceClass(this.element,"show-scrollbars","hide-scrollbars")},showMacGeckoScrollbars:function(){m.replaceClass(this.element,"hide-scrollbars","show-scrollbars")},_setDomVisibility:function(o){m.setStyle(this.element,"visibility",(o)?"visible":"hidden");if(o){m.removeClass(this.element,"yui-overlay-hidden")}else{m.addClass(this.element,"yui-overlay-hidden")}},configVisible:function(w,z,q){var x=z[0],v=m.getStyle(this.element,"visibility"),p=this.cfg.getProperty("effect"),s=[],t=(this.platform=="mac"&&h.gecko),A=a.alreadySubscribed,r,y,B,D,E,F,C,o,u;if(v=="inherit"){B=this.element.parentNode;while(B.nodeType!=9&&B.nodeType!=11){v=m.getStyle(B,"visibility");if(v!="inherit"){break}B=B.parentNode}if(v=="inherit"){v="visible"}}if(p){if(p instanceof Array){o=p.length;for(D=0;D<o;D++){r=p[D];s[s.length]=r.effect(this,r.duration)}}else{s[s.length]=p.effect(this,p.duration)}}if(x){if(t){this.showMacGeckoScrollbars()}if(p){if(x){if(v!="visible"||v===""){this.beforeShowEvent.fire();u=s.length;for(E=0;E<u;E++){y=s[E];if(E===0&&!A(y.animateInCompleteEvent,this.showEvent.fire,this.showEvent)){y.animateInCompleteEvent.subscribe(this.showEvent.fire,this.showEvent,true)}y.animateIn()}}}}else{if(v!="visible"||v===""){this.beforeShowEvent.fire();this._setDomVisibility(true);this.cfg.refireEvent("iframe");this.showEvent.fire()}else{this._setDomVisibility(true)}}}else{if(t){this.hideMacGeckoScrollbars()}if(p){if(v=="visible"){this.beforeHideEvent.fire();u=s.length;for(F=0;F<u;F++){C=s[F];if(F===0&&!A(C.animateOutCompleteEvent,this.hideEvent.fire,this.hideEvent)){C.animateOutCompleteEvent.subscribe(this.hideEvent.fire,this.hideEvent,true)}C.animateOut()}}else{if(v===""){this._setDomVisibility(false)}}}else{if(v=="visible"||v===""){this.beforeHideEvent.fire();this._setDomVisibility(false);this.hideEvent.fire()}else{this._setDomVisibility(false)}}}},doCenterOnDOMEvent:function(){var p=this.cfg,o=p.getProperty("fixedcenter");if(p.getProperty("visible")){if(o&&(o!==b||this.fitsInViewport())){this.center()}}},fitsInViewport:function(){var p=c.VIEWPORT_OFFSET,r=this.element,o=r.offsetWidth,q=r.offsetHeight,t=m.getViewportWidth(),s=m.getViewportHeight();return((o+p<t)&&(q+p<s))},configFixedCenter:function(q,s,p){var o=s[0],t=a.alreadySubscribed,r=c.windowResizeEvent,u=c.windowScrollEvent;if(o){this.center();if(!t(this.beforeShowEvent,this.center)){this.beforeShowEvent.subscribe(this.center)}if(!t(r,this.doCenterOnDOMEvent,this)){r.subscribe(this.doCenterOnDOMEvent,this,true)}if(!t(u,this.doCenterOnDOMEvent,this)){u.subscribe(this.doCenterOnDOMEvent,this,true)}}else{this.beforeShowEvent.unsubscribe(this.center);r.unsubscribe(this.doCenterOnDOMEvent,this);u.unsubscribe(this.doCenterOnDOMEvent,this)}},configHeight:function(p,r,o){var s=r[0],q=this.element;m.setStyle(q,"height",s);this.cfg.refireEvent("iframe")},configAutoFillHeight:function(r,s,v){var p=s[0],u=this.cfg,q="autofillheight",o="height",t=u.getProperty(q),w=this._autoFillOnHeightChange;u.unsubscribeFromConfigEvent(o,w);l.textResizeEvent.unsubscribe(w);this.changeContentEvent.unsubscribe(w);if(t&&p!==t&&this[t]){m.setStyle(this[t],o,"")}if(p){p=j.trim(p.toLowerCase());u.subscribeToConfigEvent(o,w,this[p],this);l.textResizeEvent.subscribe(w,this[p],this);this.changeContentEvent.subscribe(w,this[p],this);u.setProperty(q,p,true)}},configWidth:function(p,s,o){var q=s[0],r=this.element;m.setStyle(r,"width",q);this.cfg.refireEvent("iframe")},configzIndex:function(q,s,p){var o=s[0],r=this.element;if(!o){o=m.getStyle(r,"zIndex");if(!o||isNaN(o)){o=0}}if(this.iframe||this.cfg.getProperty("iframe")===true){if(o<=0){o=1}}m.setStyle(r,"zIndex",o);this.cfg.setProperty("zIndex",o,true);if(this.iframe){this.stackIframe()}},configXY:function(r,s,q){var o=s[0],t=o[0],p=o[1];this.cfg.setProperty("x",t);this.cfg.setProperty("y",p);this.beforeMoveEvent.fire([t,p]);t=this.cfg.getProperty("x");p=this.cfg.getProperty("y");this.cfg.refireEvent("iframe");this.moveEvent.fire([t,p])},configX:function(q,r,p){var s=r[0],o=this.cfg.getProperty("y");this.cfg.setProperty("x",s,true);this.cfg.setProperty("y",o,true);this.beforeMoveEvent.fire([s,o]);s=this.cfg.getProperty("x");o=this.cfg.getProperty("y");m.setX(this.element,s,true);this.cfg.setProperty("xy",[s,o],true);this.cfg.refireEvent("iframe");this.moveEvent.fire([s,o])},configY:function(q,r,p){var s=this.cfg.getProperty("x"),o=r[0];this.cfg.setProperty("x",s,true);this.cfg.setProperty("y",o,true);this.beforeMoveEvent.fire([s,o]);s=this.cfg.getProperty("x");o=this.cfg.getProperty("y");m.setY(this.element,o,true);this.cfg.setProperty("xy",[s,o],true);this.cfg.refireEvent("iframe");this.moveEvent.fire([s,o])},showIframe:function(){var o=this.iframe,p;if(o){p=this.element.parentNode;if(p!=o.parentNode){this._addToParent(p,o)}o.style.display="block"}},hideIframe:function(){if(this.iframe){this.iframe.style.display="none"}},syncIframe:function(){var s=this.iframe,q=this.element,o=c.IFRAME_OFFSET,r=(o*2),p;if(s){s.style.width=(q.offsetWidth+r+"px");s.style.height=(q.offsetHeight+r+"px");p=this.cfg.getProperty("xy");if(!j.isArray(p)||(isNaN(p[0])||isNaN(p[1]))){this.syncPosition();p=this.cfg.getProperty("xy")}m.setXY(s,[(p[0]-o),(p[1]-o)])}},stackIframe:function(){if(this.iframe){var o=m.getStyle(this.element,"zIndex");if(!YAHOO.lang.isUndefined(o)&&!isNaN(o)){m.setStyle(this.iframe,"zIndex",(o-1))}}},configIframe:function(q,r,p){var t=r[0];function o(){var v=this.iframe,u=this.element,x;if(!v){if(!i){i=document.createElement("iframe");if(this.isSecure){i.src=c.IFRAME_SRC}if(h.ie){i.style.filter="alpha(opacity=0)";i.frameBorder=0}else{i.style.opacity="0"}i.style.position="absolute";i.style.border="none";i.style.margin="0";i.style.padding="0";i.style.display="none";i.tabIndex=-1}v=i.cloneNode(false);x=u.parentNode;var w=x||document.body;this._addToParent(w,v);this.iframe=v}this.showIframe();this.syncIframe();this.stackIframe();if(!this._hasIframeEventListeners){this.showEvent.subscribe(this.showIframe);this.hideEvent.subscribe(this.hideIframe);this.changeContentEvent.subscribe(this.syncIframe);this._hasIframeEventListeners=true}}function s(){o.call(this);this.beforeShowEvent.unsubscribe(s);this._iframeDeferred=false}if(t){if(this.cfg.getProperty("visible")){o.call(this)}else{if(!this._iframeDeferred){this.beforeShowEvent.subscribe(s);this._iframeDeferred=true}}}else{this.hideIframe();if(this._hasIframeEventListeners){this.showEvent.unsubscribe(this.showIframe);this.hideEvent.unsubscribe(this.hideIframe);this.changeContentEvent.unsubscribe(this.syncIframe);this._hasIframeEventListeners=false}}},_primeXYFromDOM:function(){if(YAHOO.lang.isUndefined(this.cfg.getProperty("xy"))){this.syncPosition();this.cfg.refireEvent("xy");this.beforeShowEvent.unsubscribe(this._primeXYFromDOM)}},configConstrainToViewport:function(q,r,p){var o=r[0];if(o){if(!a.alreadySubscribed(this.beforeMoveEvent,this.enforceConstraints,this)){this.beforeMoveEvent.subscribe(this.enforceConstraints,this,true)}if(!a.alreadySubscribed(this.beforeShowEvent,this._primeXYFromDOM)){this.beforeShowEvent.subscribe(this._primeXYFromDOM)}}else{this.beforeShowEvent.unsubscribe(this._primeXYFromDOM);this.beforeMoveEvent.unsubscribe(this.enforceConstraints,this)}},configContext:function(r,s,v){var o=s[0],u,w,q,t,p=this.CONTEXT_TRIGGERS;if(o){u=o[0];w=o[1];q=o[2];t=o[3];if(p&&p.length>0){t=(t||[]).concat(p)}if(u){if(typeof u=="string"){this.cfg.setProperty("context",[document.getElementById(u),w,q,t],true)}if(w&&q){this.align(w,q)}if(this._contextTriggers){this._processTriggers(this._contextTriggers,n,this._alignOnTrigger)}if(t){this._processTriggers(t,k,this._alignOnTrigger);this._contextTriggers=t}}}},_alignOnTrigger:function(o,p){this.align()},_findTriggerCE:function(p){var o=null;if(p instanceof f){o=p}else{if(c._TRIGGER_MAP[p]){o=c._TRIGGER_MAP[p]}}return o},_processTriggers:function(q,o,r){var s,p;for(var t=0,u=q.length;t<u;++t){s=q[t];p=this._findTriggerCE(s);if(p){p[o](r,this,true)}else{this[o](s,r)}}},align:function(u,v){var p=this.cfg.getProperty("context"),q=this,r,s,o;function t(w,x){switch(u){case c.TOP_LEFT:q.moveTo(x,w);break;case c.TOP_RIGHT:q.moveTo((x-s.offsetWidth),w);break;case c.BOTTOM_LEFT:q.moveTo(x,(w-s.offsetHeight));break;case c.BOTTOM_RIGHT:q.moveTo((x-s.offsetWidth),(w-s.offsetHeight));break}}if(p){r=p[0];s=this.element;q=this;if(!u){u=p[1]}if(!v){v=p[2]}if(s&&r){o=m.getRegion(r);switch(v){case c.TOP_LEFT:t(o.top,o.left);break;case c.TOP_RIGHT:t(o.top,o.right);break;case c.BOTTOM_LEFT:t(o.bottom,o.left);break;case c.BOTTOM_RIGHT:t(o.bottom,o.right);break}}}},enforceConstraints:function(r,s,q){var o=s[0];var p=this.getConstrainedXY(o[0],o[1]);this.cfg.setProperty("x",p[0],true);this.cfg.setProperty("y",p[1],true);this.cfg.setProperty("xy",p,true)},getConstrainedX:function(s){var v=this,z=v.element,F=z.offsetWidth,H=c.VIEWPORT_OFFSET,C=m.getViewportWidth(),G=m.getDocumentScrollLeft(),p=(F+H<C),I=this.cfg.getProperty("context"),x,q,A,u=false,E,r,D=G+H,y=G+C-F-H,B=s,t={tltr:true,blbr:true,brbl:true,trtl:true};var o=function(){var K;if((v.cfg.getProperty("x")-G)>q){K=(q-F)}else{K=(q+A)}v.cfg.setProperty("x",(K+G),true);return K};var w=function(){if((v.cfg.getProperty("x")-G)>q){return(r-H)}else{return(E-H)}};var J=function(){var L=w(),K;if(F>L){if(u){o()}else{o();u=true;K=J()}}return K};if(s<D||s>y){if(p){if(this.cfg.getProperty("preventcontextoverlap")&&I&&t[(I[1]+I[2])]){x=I[0];q=m.getX(x)-G;A=x.offsetWidth;E=q;r=(C-(q+A));J();B=this.cfg.getProperty("x")}else{if(s<D){B=D}else{if(s>y){B=y}}}}else{B=H+G}}return B},getConstrainedY:function(o){var r=this,y=r.element,B=y.offsetHeight,C=c.VIEWPORT_OFFSET,G=m.getViewportHeight(),D=m.getDocumentScrollTop(),F=(B+C<G),E=this.cfg.getProperty("context"),t,J,I,q=false,s,x,H=D+C,v=D+G-B-C,z=o,p={trbr:true,tlbl:true,bltl:true,brtr:true};var u=function(){var K;if((r.cfg.getProperty("y")-D)>J){K=(J-B)}else{K=(J+I)}r.cfg.setProperty("y",(K+D),true);return K};var w=function(){if((r.cfg.getProperty("y")-D)>J){return(x-C)}else{return(s-C)}};var A=function(){var K=w(),L;if(B>K){if(q){u()}else{u();q=true;L=A()}}return L};if(o<H||o>v){if(F){if(this.cfg.getProperty("preventcontextoverlap")&&E&&p[(E[1]+E[2])]){t=E[0];I=t.offsetHeight;J=(m.getY(t)-D);s=J;x=(G-(J+I));A();z=r.cfg.getProperty("y")}else{if(o<H){z=H}else{if(o>v){z=v}}}}else{z=C+D}}return z},getConstrainedXY:function(p,o){return[this.getConstrainedX(p),this.getConstrainedY(o)]},center:function(){var r=c.VIEWPORT_OFFSET,q=this.element.offsetWidth,s=this.element.offsetHeight,t=m.getViewportWidth(),p=m.getViewportHeight(),u,o;if(q<t){u=(t/2)-(q/2)+m.getDocumentScrollLeft()}else{u=r+m.getDocumentScrollLeft()}if(s<p){o=(p/2)-(s/2)+m.getDocumentScrollTop()}else{o=r+m.getDocumentScrollTop()}this.cfg.setProperty("xy",[parseInt(u,10),parseInt(o,10)]);this.cfg.refireEvent("iframe");if(h.webkit){this.forceContainerRedraw()}},syncPosition:function(){var o=m.getXY(this.element);this.cfg.setProperty("x",o[0],true);this.cfg.setProperty("y",o[1],true);this.cfg.setProperty("xy",o,true)},onDomResize:function(o,p){var q=this;c.superclass.onDomResize.call(this,o,p);setTimeout(function(){q.syncPosition();q.cfg.refireEvent("iframe");q.cfg.refireEvent("context")},0)},_getComputedHeight:(function(){if(document.defaultView&&document.defaultView.getComputedStyle){return function(p){var q=null;if(p.ownerDocument&&p.ownerDocument.defaultView){var o=p.ownerDocument.defaultView.getComputedStyle(p,"");if(o){q=parseInt(o.height,10)}}return(j.isNumber(q))?q:null}}else{return function(o){var p=null;if(o.style.pixelHeight){p=o.style.pixelHeight}return(j.isNumber(p))?p:null}}})(),_validateAutoFillHeight:function(o){return(!o)||(j.isString(o)&&c.STD_MOD_RE.test(o))},_autoFillOnHeightChange:function(o,q,p){var r=this.cfg.getProperty("height");if((r&&r!=="auto")||(r===0)){this.fillHeight(p)}},_getPreciseHeight:function(p){var q=p.offsetHeight;if(p.getBoundingClientRect){var o=p.getBoundingClientRect();q=o.bottom-o.top}return q},fillHeight:function(u){if(u){var w=this.innerElement||this.element,x=[this.header,this.body,this.footer],q,p=0,o=0,s=0,v=false;for(var r=0,t=x.length;r<t;r++){q=x[r];if(q){if(u!==q){o+=this._getPreciseHeight(q)}else{v=true}}}if(v){if(h.ie||h.opera){m.setStyle(u,"height",0+"px")}p=this._getComputedHeight(w);if(p===null){m.addClass(w,"yui-override-padding");p=w.clientHeight;m.removeClass(w,"yui-override-padding")}s=Math.max(p-o,0);m.setStyle(u,"height",s+"px");if(u.offsetHeight!=s){s=Math.max(s-(u.offsetHeight-s),0)}m.setStyle(u,"height",s+"px")}}},bringToTop:function(){var r=[],s=this.element;function o(z,A){var x=m.getStyle(z,"zIndex"),y=m.getStyle(A,"zIndex"),B=(!x||isNaN(x))?0:parseInt(x,10),w=(!y||isNaN(y))?0:parseInt(y,10);if(B>w){return -1}else{if(B<w){return 1}else{return 0}}}function t(x){var y=m.hasClass(x,c.CSS_OVERLAY),w=YAHOO.widget.Panel;if(y&&!m.isAncestor(s,x)){if(w&&m.hasClass(x,w.CSS_PANEL)){r[r.length]=x.parentNode}else{r[r.length]=x}}}m.getElementsBy(t,"DIV",document.body);r.sort(o);var v=r[0],p;if(v){p=m.getStyle(v,"zIndex");if(!isNaN(p)){var q=false;if(v!=s){q=true}else{if(r.length>1){var u=m.getStyle(r[1],"zIndex");if(!isNaN(u)&&(p==u)){q=true}}}if(q){this.cfg.setProperty("zindex",(parseInt(p,10)+2))}}}},destroy:function(){if(this.iframe){this.iframe.parentNode.removeChild(this.iframe)}this.iframe=null;c.windowResizeEvent.unsubscribe(this.doCenterOnDOMEvent,this);c.windowScrollEvent.unsubscribe(this.doCenterOnDOMEvent,this);l.textResizeEvent.unsubscribe(this._autoFillOnHeightChange);c.superclass.destroy.call(this)},forceContainerRedraw:function(){var o=this;m.addClass(o.element,"yui-force-redraw");setTimeout(function(){m.removeClass(o.element,"yui-force-redraw")},0)},toString:function(){return"Overlay "+this.id}})}());(function(){YAHOO.widget.OverlayManager=function(g){this.init(g)};var d=YAHOO.widget.Overlay,e=YAHOO.util.Event,c=YAHOO.util.Dom,f=YAHOO.util.Config,b=YAHOO.util.CustomEvent,a=YAHOO.widget.OverlayManager;a.CSS_FOCUSED="focused";a.prototype={constructor:a,overlays:null,initDefaultConfig:function(){this.cfg.addProperty("overlays",{suppressEvent:true});this.cfg.addProperty("focusevent",{value:"mousedown"})},init:function(g){this.cfg=new f(this);this.initDefaultConfig();if(g){this.cfg.applyConfig(g,true)}this.cfg.fireQueue();var h=null;this.getActive=function(){return h};this.focus=function(k){var j=this.find(k);if(j){j.focus()}};this.remove=function(k){var m=this.find(k),l;if(m){if(h==m){h=null}var j=(m.element===null&&m.cfg===null)?true:false;if(!j){l=c.getStyle(m.element,"zIndex");m.cfg.setProperty("zIndex",-1000,true)}this.overlays.sort(this.compareZIndexDesc);this.overlays=this.overlays.slice(0,(this.overlays.length-1));m.hideEvent.unsubscribe(m.blur);m.destroyEvent.unsubscribe(this._onOverlayDestroy,m);m.focusEvent.unsubscribe(this._onOverlayFocusHandler,m);m.blurEvent.unsubscribe(this._onOverlayBlurHandler,m);if(!j){e.removeListener(m.element,this.cfg.getProperty("focusevent"),this._onOverlayElementFocus);m.cfg.setProperty("zIndex",l,true);m.cfg.setProperty("manager",null)}if(m.focusEvent._managed){m.focusEvent=null}if(m.blurEvent._managed){m.blurEvent=null}if(m.focus._managed){m.focus=null}if(m.blur._managed){m.blur=null}}};this.blurAll=function(){var j=this.overlays.length,k;if(j>0){k=j-1;do{this.overlays[k].blur()}while(k--)}};this._manageBlur=function(k){var j=false;if(h==k){c.removeClass(h.element,a.CSS_FOCUSED);h=null;j=true}return j};this._manageFocus=function(k){var j=false;if(h!=k){if(h){h.blur()}h=k;this.bringToTop(h);c.addClass(h.element,a.CSS_FOCUSED);j=true}return j};var i=this.cfg.getProperty("overlays");if(!this.overlays){this.overlays=[]}if(i){this.register(i);this.overlays.sort(this.compareZIndexDesc)}},_onOverlayElementFocus:function(g){var i=e.getTarget(g),h=this.close;if(h&&(i==h||c.isAncestor(h,i))){this.blur()}else{this.focus()}},_onOverlayDestroy:function(h,i,g){this.remove(g)},_onOverlayFocusHandler:function(h,i,g){this._manageFocus(g)},_onOverlayBlurHandler:function(h,i,g){this._manageBlur(g)},_bindFocus:function(h){var g=this;if(!h.focusEvent){h.focusEvent=h.createEvent("focus");h.focusEvent.signature=b.LIST;h.focusEvent._managed=true}else{h.focusEvent.subscribe(g._onOverlayFocusHandler,h,g)}if(!h.focus){e.on(h.element,g.cfg.getProperty("focusevent"),g._onOverlayElementFocus,null,h);h.focus=function(){if(g._manageFocus(this)){if(this.cfg.getProperty("visible")&&this.focusFirst){this.focusFirst()}this.focusEvent.fire()}};h.focus._managed=true}},_bindBlur:function(h){var g=this;if(!h.blurEvent){h.blurEvent=h.createEvent("blur");h.blurEvent.signature=b.LIST;h.focusEvent._managed=true}else{h.blurEvent.subscribe(g._onOverlayBlurHandler,h,g)}if(!h.blur){h.blur=function(){if(g._manageBlur(this)){this.blurEvent.fire()}};h.blur._managed=true}h.hideEvent.subscribe(h.blur)},_bindDestroy:function(h){var g=this;h.destroyEvent.subscribe(g._onOverlayDestroy,h,g)},_syncZIndex:function(h){var g=c.getStyle(h.element,"zIndex");if(!isNaN(g)){h.cfg.setProperty("zIndex",parseInt(g,10))}else{h.cfg.setProperty("zIndex",0)}},register:function(j){var g=false,i,h;if(j instanceof d){j.cfg.addProperty("manager",{value:this});this._bindFocus(j);this._bindBlur(j);this._bindDestroy(j);this._syncZIndex(j);this.overlays.push(j);this.bringToTop(j);g=true}else{if(j instanceof Array){for(i=0,h=j.length;i<h;i++){g=this.register(j[i])||g}}}return g},bringToTop:function(m){var j=this.find(m),g,l,i;if(j){i=this.overlays;i.sort(this.compareZIndexDesc);l=i[0];if(l){g=c.getStyle(l.element,"zIndex");if(!isNaN(g)){var h=false;if(l!==j){h=true}else{if(i.length>1){var k=c.getStyle(i[1].element,"zIndex");if(!isNaN(k)&&(g==k)){h=true}}}if(h){j.cfg.setProperty("zindex",(parseInt(g,10)+2))}}i.sort(this.compareZIndexDesc)}}},find:function(l){var h=l instanceof d,j=this.overlays,m=j.length,i=null,g,k;if(h||typeof l=="string"){for(k=m-1;k>=0;k--){g=j[k];if((h&&(g===l))||(g.id==l)){i=g;break}}}return i},compareZIndexDesc:function(g,h){var i=(g.cfg)?g.cfg.getProperty("zIndex"):null,j=(h.cfg)?h.cfg.getProperty("zIndex"):null;if(i===null&&j===null){return 0}else{if(i===null){return 1}else{if(j===null){return -1}else{if(i>j){return -1}else{if(i<j){return 1}else{return 0}}}}}},showAll:function(){var h=this.overlays,g=h.length,i;for(i=g-1;i>=0;i--){h[i].show()}},hideAll:function(){var h=this.overlays,g=h.length,i;for(i=g-1;i>=0;i--){h[i].hide()}},toString:function(){return"OverlayManager"}}}());(function(){YAHOO.widget.ContainerEffect=function(g,d,e,h,f){if(!f){f=YAHOO.util.Anim}this.overlay=g;this.attrIn=d;this.attrOut=e;this.targetElement=h||g.element;this.animClass=f};var c=YAHOO.util.Dom,b=YAHOO.util.CustomEvent,a=YAHOO.widget.ContainerEffect;a.FADE=function(i,g){var f=YAHOO.util.Easing,d={attributes:{opacity:{from:0,to:1}},duration:g,method:f.easeIn},h={attributes:{opacity:{to:0}},duration:g,method:f.easeOut},e=new a(i,d,h,i.element);e.handleUnderlayStart=function(){var j=this.overlay.underlay;if(j&&YAHOO.env.ua.ie){var k=(j.filters&&j.filters.length>0);if(k){c.addClass(i.element,"yui-effect-fade")}}};e.handleUnderlayComplete=function(){var j=this.overlay.underlay;if(j&&YAHOO.env.ua.ie){c.removeClass(i.element,"yui-effect-fade")}};e.handleStartAnimateIn=function(k,l,j){c.addClass(j.overlay.element,"hide-select");if(!j.overlay.underlay){j.overlay.cfg.refireEvent("underlay")}j.handleUnderlayStart();j.overlay._setDomVisibility(true);c.setStyle(j.overlay.element,"opacity",0)};e.handleCompleteAnimateIn=function(k,l,j){c.removeClass(j.overlay.element,"hide-select");if(j.overlay.element.style.filter){j.overlay.element.style.filter=null}j.handleUnderlayComplete();j.overlay.cfg.refireEvent("iframe");j.animateInCompleteEvent.fire()};e.handleStartAnimateOut=function(k,l,j){c.addClass(j.overlay.element,"hide-select");j.handleUnderlayStart()};e.handleCompleteAnimateOut=function(k,l,j){c.removeClass(j.overlay.element,"hide-select");if(j.overlay.element.style.filter){j.overlay.element.style.filter=null}j.overlay._setDomVisibility(false);c.setStyle(j.overlay.element,"opacity",1);j.handleUnderlayComplete();j.overlay.cfg.refireEvent("iframe");j.animateOutCompleteEvent.fire()};e.init();return e};a.SLIDE=function(l,d){var i=YAHOO.util.Easing,f=l.cfg.getProperty("x")||c.getX(l.element),g=l.cfg.getProperty("y")||c.getY(l.element),e=c.getClientWidth(),j=l.element.offsetWidth,h={attributes:{points:{to:[f,g]}},duration:d,method:i.easeIn},m={attributes:{points:{to:[(e+25),g]}},duration:d,method:i.easeOut},k=new a(l,h,m,l.element,YAHOO.util.Motion);k.handleStartAnimateIn=function(o,p,n){n.overlay.element.style.left=((-25)-j)+"px";n.overlay.element.style.top=g+"px"};k.handleTweenAnimateIn=function(p,q,o){var n=c.getXY(o.overlay.element),r=n[0],s=n[1];if(c.getStyle(o.overlay.element,"visibility")=="hidden"&&r<f){o.overlay._setDomVisibility(true)}o.overlay.cfg.setProperty("xy",[r,s],true);o.overlay.cfg.refireEvent("iframe")};k.handleCompleteAnimateIn=function(o,p,n){n.overlay.cfg.setProperty("xy",[f,g],true);n.startX=f;n.startY=g;n.overlay.cfg.refireEvent("iframe");n.animateInCompleteEvent.fire()};k.handleStartAnimateOut=function(r,s,o){var q=c.getViewportWidth(),n=c.getXY(o.overlay.element),p=n[1];o.animOut.attributes.points.to=[(q+25),p]};k.handleTweenAnimateOut=function(q,r,p){var n=c.getXY(p.overlay.element),s=n[0],o=n[1];p.overlay.cfg.setProperty("xy",[s,o],true);p.overlay.cfg.refireEvent("iframe")};k.handleCompleteAnimateOut=function(o,p,n){n.overlay._setDomVisibility(false);n.overlay.cfg.setProperty("xy",[f,g]);n.animateOutCompleteEvent.fire()};k.init();return k};a.prototype={init:function(){this.beforeAnimateInEvent=this.createEvent("beforeAnimateIn");this.beforeAnimateInEvent.signature=b.LIST;this.beforeAnimateOutEvent=this.createEvent("beforeAnimateOut");this.beforeAnimateOutEvent.signature=b.LIST;this.animateInCompleteEvent=this.createEvent("animateInComplete");this.animateInCompleteEvent.signature=b.LIST;this.animateOutCompleteEvent=this.createEvent("animateOutComplete");this.animateOutCompleteEvent.signature=b.LIST;this.animIn=new this.animClass(this.targetElement,this.attrIn.attributes,this.attrIn.duration,this.attrIn.method);this.animIn.onStart.subscribe(this.handleStartAnimateIn,this);this.animIn.onTween.subscribe(this.handleTweenAnimateIn,this);this.animIn.onComplete.subscribe(this.handleCompleteAnimateIn,this);this.animOut=new this.animClass(this.targetElement,this.attrOut.attributes,this.attrOut.duration,this.attrOut.method);this.animOut.onStart.subscribe(this.handleStartAnimateOut,this);this.animOut.onTween.subscribe(this.handleTweenAnimateOut,this);this.animOut.onComplete.subscribe(this.handleCompleteAnimateOut,this)},animateIn:function(){this.beforeAnimateInEvent.fire();this.animIn.animate()},animateOut:function(){this.beforeAnimateOutEvent.fire();this.animOut.animate()},handleStartAnimateIn:function(e,f,d){},handleTweenAnimateIn:function(e,f,d){},handleCompleteAnimateIn:function(e,f,d){},handleStartAnimateOut:function(e,f,d){},handleTweenAnimateOut:function(e,f,d){},handleCompleteAnimateOut:function(e,f,d){},toString:function(){var d="ContainerEffect";if(this.overlay){d+=" ["+this.overlay.toString()+"]"}return d}};YAHOO.lang.augmentProto(a,YAHOO.util.EventProvider)})();YAHOO.register("containercore",YAHOO.widget.Module,{version:"2.7.0",build:"1799"});(function(){var h="DIV",l="hd",p="bd",m="ft",c="LI",z="disabled",w="mouseover",u="mouseout",f="mousedown",t="mouseup",i=YAHOO.env.ua.ie?"focusin":"focus",e="click",y="keydown",n="keyup",r="keypress",o="clicktohide",g="position",k="dynamic",b="showdelay",q="selected",v="visible",d="UL",j="MenuManager",x=YAHOO.util.Dom,a=YAHOO.util.Event,s=YAHOO.lang;YAHOO.widget.MenuManager=function(){var R=false,P={},A={},O={},E={click:"clickEvent",mousedown:"mouseDownEvent",mouseup:"mouseUpEvent",mouseover:"mouseOverEvent",mouseout:"mouseOutEvent",keydown:"keyDownEvent",keyup:"keyUpEvent",keypress:"keyPressEvent",focus:"focusEvent",focusin:"focusEvent",blur:"blurEvent",focusout:"blurEvent"},F=null,H=null;function D(S){var U,T;if(S&&S.tagName){switch(S.tagName.toUpperCase()){case h:U=S.parentNode;if((x.hasClass(S,l)||x.hasClass(S,p)||x.hasClass(S,m))&&U&&U.tagName&&U.tagName.toUpperCase()==h){T=U}else{T=S}break;case c:T=S;break;default:U=S.parentNode;if(U){T=D(U)}break}}return T}function B(W){var aa=a.getTarget(W),Z=D(aa),U,Y,X,S,T;if(Z){Y=Z.tagName.toUpperCase();if(Y==c){X=Z.id;if(X&&O[X]){S=O[X];T=S.parent}}else{if(Y==h){if(Z.id){T=P[Z.id]}}}}if(T){U=E[W.type];if(S&&!S.cfg.getProperty(z)){S[U].fire(W)}T[U].fire(W,S)}else{if(W.type==f){for(var V in A){if(s.hasOwnProperty(A,V)){T=A[V];if(T.cfg.getProperty(o)&&!(T instanceof YAHOO.widget.MenuBar)&&T.cfg.getProperty(g)==k){T.hide()}else{if(T.cfg.getProperty(b)>0){T._cancelShowDelay()}if(T.activeItem){T.activeItem.blur();T.activeItem.cfg.setProperty(q,false);T.activeItem=null}}}}}else{if(W.type==i){F=aa}}}}function M(T,U,S){if(P[S.id]){this.removeMenu(S)}}function I(T,U){var S=U[1];if(S){H=S}}function J(S,T){H=null}function Q(U,V,S){if(S&&S.focus){try{S.focus()}catch(T){}}this.hideEvent.unsubscribe(Q,S)}function G(S,T){if(this===this.getRoot()&&this.cfg.getProperty(g)===k){this.hideEvent.subscribe(Q,F);this.focus()}}function L(T,U){var V=U[0],S=this.id;if(V){A[S]=this}else{if(A[S]){delete A[S]}}}function K(S,T){C(this)}function C(S){var T=S.id;if(T&&O[T]){if(H==S){H=null}delete O[T];S.destroyEvent.unsubscribe(K)}}function N(U,V){var S=V[0],T;if(S instanceof YAHOO.widget.MenuItem){T=S.id;if(!O[T]){O[T]=S;S.destroyEvent.subscribe(K)}}}return{addMenu:function(S){var T;if(S instanceof YAHOO.widget.Menu&&S.id&&!P[S.id]){P[S.id]=S;if(!R){T=document;a.on(T,w,B,this,true);a.on(T,u,B,this,true);a.on(T,f,B,this,true);a.on(T,t,B,this,true);a.on(T,e,B,this,true);a.on(T,y,B,this,true);a.on(T,n,B,this,true);a.on(T,r,B,this,true);a.onFocus(T,B,this,true);a.onBlur(T,B,this,true);R=true}S.cfg.subscribeToConfigEvent(v,L);S.destroyEvent.subscribe(M,S,this);S.itemAddedEvent.subscribe(N);S.focusEvent.subscribe(I);S.blurEvent.subscribe(J);S.showEvent.subscribe(G)}},removeMenu:function(S){var U,V,T;if(S){U=S.id;if((U in P)&&(P[U]==S)){V=S.getItems();if(V&&V.length>0){T=V.length-1;do{C(V[T])}while(T--)}delete P[U];if((U in A)&&(A[U]==S)){delete A[U]}if(S.cfg){S.cfg.unsubscribeFromConfigEvent(v,L)}S.destroyEvent.unsubscribe(M,S);S.itemAddedEvent.unsubscribe(N);S.focusEvent.unsubscribe(I);S.blurEvent.unsubscribe(J)}}},hideVisible:function(){var T;for(var S in A){if(s.hasOwnProperty(A,S)){T=A[S];if(!(T instanceof YAHOO.widget.MenuBar)&&T.cfg.getProperty(g)==k){T.hide()}}}},getVisible:function(){return A},getMenus:function(){return P},getMenu:function(S){var T;if(S in P){T=P[S]}return T},getMenuItem:function(S){var T;if(S in O){T=O[S]}return T},getMenuItemGroup:function(T){var W=x.get(T),X,Y,S,V,U;if(W&&W.tagName&&W.tagName.toUpperCase()==d){Y=W.firstChild;if(Y){X=[];do{V=Y.id;if(V){S=this.getMenuItem(V);if(S){X[X.length]=S}}}while((Y=Y.nextSibling));if(X.length>0){U=X}}}return U},getFocusedMenuItem:function(){return H},getFocusedMenu:function(){var S;if(H){S=H.parent.getRoot()}return S},toString:function(){return j}}}()})();(function(){var ah=YAHOO.lang,bA="Menu",bh="DIV",be="div",bE="id",am="SELECT",aT="xy",a7="y",bt="UL",bd="ul",ak="first-of-type",aN="LI",aQ="OPTGROUP",br="OPTION",bJ="disabled",bQ="none",az="selected",bx="groupindex",aP="index",ba="submenu",bw="visible",bR="hidedelay",bN="position",aq="dynamic",bm="static",bD=aq+","+bm,a0="windows",a8="url",bc="#",a3="target",aa="maxheight",a5="topscrollbar",aA="bottomscrollbar",aU="_",a9=a5+aU+bJ,bk=aA+aU+bJ,aW="mousemove",bv="showdelay",aV="submenuhidedelay",ao="iframe",aB="constraintoviewport",aw="preventcontextoverlap",af="submenualignment",aY="autosubmenudisplay",ar="clicktohide",aR="container",aO="scrollincrement",bH="minscrollheight",ay="classname",bK="shadow",bz="keepopen",bq="hd",bl="hastitle",aI="context",aD="",bG="mousedown",bM="keydown",bC="height",a4="width",ad="px",bs="effect",ap="monitorresize",bS="display",bT="block",bf="visibility",av="absolute",ab="zindex",aM="yui-menu-body-scrolled",aj="&#32;",bp=" ",bI="mouseover",bi="mouseout",ac="itemAdded",aK="itemRemoved",ai="hidden",aF="yui-menu-shadow",an=aF+"-visible",aL=aF+bp+an;YAHOO.widget.Menu=function(a,b){if(b){this.parent=b.parent;this.lazyLoad=b.lazyLoad||b.lazyload;this.itemData=b.itemData||b.itemdata}YAHOO.widget.Menu.superclass.constructor.call(this,a,b)};function bn(a){var b=false;if(ah.isString(a)){b=(bD.indexOf((a.toLowerCase()))!=-1)}return b}var aS=YAHOO.util.Dom,au=YAHOO.util.Event,bu=YAHOO.widget.Module,at=YAHOO.widget.Overlay,aG=YAHOO.widget.Menu,ax=YAHOO.widget.MenuManager,bj=YAHOO.util.CustomEvent,by=YAHOO.env.ua,bB,bO=[["mouseOverEvent",bI],["mouseOutEvent",bi],["mouseDownEvent",bG],["mouseUpEvent","mouseup"],["clickEvent","click"],["keyPressEvent","keypress"],["keyDownEvent",bM],["keyUpEvent","keyup"],["focusEvent","focus"],["blurEvent","blur"],["itemAddedEvent",ac],["itemRemovedEvent",aK]],bP={key:bw,value:false,validator:ah.isBoolean},ae={key:aB,value:true,validator:ah.isBoolean,supercedes:[ao,"x",a7,aT]},al={key:aw,value:true,validator:ah.isBoolean,supercedes:[aB]},a6={key:bN,value:aq,validator:bn,supercedes:[bw,ao]},bo={key:af,value:["tl","tr"]},aE={key:aY,value:true,validator:ah.isBoolean,suppressEvent:true},aZ={key:bv,value:250,validator:ah.isNumber,suppressEvent:true},aH={key:bR,value:0,validator:ah.isNumber,suppressEvent:true},aC={key:aV,value:250,validator:ah.isNumber,suppressEvent:true},aJ={key:ar,value:true,validator:ah.isBoolean,suppressEvent:true},ag={key:aR,suppressEvent:true},bL={key:aO,value:1,validator:ah.isNumber,supercedes:[aa],suppressEvent:true},bb={key:bH,value:90,validator:ah.isNumber,supercedes:[aa],suppressEvent:true},a1={key:aa,value:0,validator:ah.isNumber,supercedes:[ao],suppressEvent:true},a2={key:ay,value:null,validator:ah.isString,suppressEvent:true},aX={key:bJ,value:false,validator:ah.isBoolean,suppressEvent:true},bg={key:bK,value:true,validator:ah.isBoolean,suppressEvent:true,supercedes:[bw]},bF={key:bz,value:false,validator:ah.isBoolean};YAHOO.lang.extend(aG,at,{CSS_CLASS_NAME:"yuimenu",ITEM_TYPE:null,GROUP_TITLE_TAG_NAME:"h6",OFF_SCREEN_POSITION:"-999em",_useHideDelay:false,_bHandledMouseOverEvent:false,_bHandledMouseOutEvent:false,_aGroupTitleElements:null,_aItemGroups:null,_aListElements:null,_nCurrentMouseX:0,_bStopMouseEventHandlers:false,_sClassName:null,lazyLoad:false,itemData:null,activeItem:null,parent:null,srcElement:null,init:function(c,a){this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuItem}var b;if(ah.isString(c)){b=aS.get(c)}else{if(c.tagName){b=c}}if(b&&b.tagName){switch(b.tagName.toUpperCase()){case bh:this.srcElement=b;if(!b.id){b.setAttribute(bE,aS.generateId())}aG.superclass.init.call(this,b);this.beforeInitEvent.fire(aG);break;case am:this.srcElement=b;aG.superclass.init.call(this,aS.generateId());this.beforeInitEvent.fire(aG);break}}else{aG.superclass.init.call(this,c);this.beforeInitEvent.fire(aG)}if(this.element){aS.addClass(this.element,this.CSS_CLASS_NAME);this.initEvent.subscribe(this._onInit);this.beforeRenderEvent.subscribe(this._onBeforeRender);this.renderEvent.subscribe(this._onRender);this.beforeShowEvent.subscribe(this._onBeforeShow);this.hideEvent.subscribe(this._onHide);this.showEvent.subscribe(this._onShow);this.beforeHideEvent.subscribe(this._onBeforeHide);this.mouseOverEvent.subscribe(this._onMouseOver);this.mouseOutEvent.subscribe(this._onMouseOut);this.clickEvent.subscribe(this._onClick);this.keyDownEvent.subscribe(this._onKeyDown);this.keyPressEvent.subscribe(this._onKeyPress);this.blurEvent.subscribe(this._onBlur);if((by.gecko&&by.gecko<1.9)||by.webkit){this.cfg.subscribeToConfigEvent(a7,this._onYChange)}if(a){this.cfg.applyConfig(a,true)}ax.addMenu(this);this.initEvent.fire(aG)}},_initSubTree:function(){var b=this.srcElement,c,g,d,a,e,f,h;if(b){c=(b.tagName&&b.tagName.toUpperCase());if(c==bh){a=this.body.firstChild;if(a){g=0;d=this.GROUP_TITLE_TAG_NAME.toUpperCase();do{if(a&&a.tagName){switch(a.tagName.toUpperCase()){case d:this._aGroupTitleElements[g]=a;break;case bt:this._aListElements[g]=a;this._aItemGroups[g]=[];g++;break}}}while((a=a.nextSibling));if(this._aListElements[0]){aS.addClass(this._aListElements[0],ak)}}}a=null;if(c){switch(c){case bh:e=this._aListElements;f=e.length;if(f>0){h=f-1;do{a=e[h].firstChild;if(a){do{if(a&&a.tagName&&a.tagName.toUpperCase()==aN){this.addItem(new this.ITEM_TYPE(a,{parent:this}),h)}}while((a=a.nextSibling))}}while(h--)}break;case am:a=b.firstChild;do{if(a&&a.tagName){switch(a.tagName.toUpperCase()){case aQ:case br:this.addItem(new this.ITEM_TYPE(a,{parent:this}));break}}}while((a=a.nextSibling));break}}}},_getFirstEnabledItem:function(){var b=this.getItems(),c=b.length,d,e;for(var a=0;a<c;a++){d=b[a];if(d&&!d.cfg.getProperty(bJ)&&d.element.style.display!=bQ){e=d;break}}return e},_addItemToGroup:function(k,j,d){var h,b,a,f,l,e,c,i;function g(n,m){return(n[m]||g(n,(m+1)))}if(j instanceof this.ITEM_TYPE){h=j;h.parent=this}else{if(ah.isString(j)){h=new this.ITEM_TYPE(j,{parent:this})}else{if(ah.isObject(j)){j.parent=this;h=new this.ITEM_TYPE(j.text,j)}}}if(h){if(h.cfg.getProperty(az)){this.activeItem=h}b=ah.isNumber(k)?k:0;a=this._getItemGroup(b);if(!a){a=this._createItemGroup(b)}if(ah.isNumber(d)){l=(d>=a.length);if(a[d]){a.splice(d,0,h)}else{a[d]=h}f=a[d];if(f){if(l&&(!f.element.parentNode||f.element.parentNode.nodeType==11)){this._aListElements[b].appendChild(f.element)}else{e=g(a,(d+1));if(e&&(!f.element.parentNode||f.element.parentNode.nodeType==11)){this._aListElements[b].insertBefore(f.element,e.element)}}f.parent=this;this._subscribeToItemEvents(f);this._configureSubmenu(f);this._updateItemProperties(b);this.itemAddedEvent.fire(f);this.changeContentEvent.fire();i=f}}else{c=a.length;a[c]=h;f=a[c];if(f){if(!aS.isAncestor(this._aListElements[b],f.element)){this._aListElements[b].appendChild(f.element)}f.element.setAttribute(bx,b);f.element.setAttribute(aP,c);f.parent=this;f.index=c;f.groupIndex=b;this._subscribeToItemEvents(f);this._configureSubmenu(f);if(c===0){aS.addClass(f.element,ak)}this.itemAddedEvent.fire(f);this.changeContentEvent.fire();i=f}}}return i},_removeItemFromGroupByIndex:function(f,a){var g=ah.isNumber(f)?f:0,e=this._getItemGroup(g),c,d,b;if(e){c=e.splice(a,1);d=c[0];if(d){this._updateItemProperties(g);if(e.length===0){b=this._aListElements[g];if(this.body&&b){this.body.removeChild(b)}this._aItemGroups.splice(g,1);this._aListElements.splice(g,1);b=this._aListElements[0];if(b){aS.addClass(b,ak)}}this.itemRemovedEvent.fire(d);this.changeContentEvent.fire()}}return d},_removeItemFromGroupByValue:function(f,b){var d=this._getItemGroup(f),c,e,g,a;if(d){c=d.length;e=-1;if(c>0){a=c-1;do{if(d[a]==b){e=a;break}}while(a--);if(e>-1){g=this._removeItemFromGroupByIndex(f,e)}}}return g},_updateItemProperties:function(a){var f=this._getItemGroup(a),c=f.length,d,e,b;if(c>0){b=c-1;do{d=f[b];if(d){e=d.element;d.index=b;d.groupIndex=a;e.setAttribute(bx,a);e.setAttribute(aP,b);aS.removeClass(e,ak)}}while(b--);if(e){aS.addClass(e,ak)}}},_createItemGroup:function(c){var b,a;if(!this._aItemGroups[c]){this._aItemGroups[c]=[];b=document.createElement(bd);this._aListElements[c]=b;a=this._aItemGroups[c]}return a},_getItemGroup:function(d){var b=ah.isNumber(d)?d:0,c=this._aItemGroups,a;if(b in c){a=c[b]}return a},_configureSubmenu:function(b){var a=b.cfg.getProperty(ba);if(a){this.cfg.configChangedEvent.subscribe(this._onParentMenuConfigChange,a,true);this.renderEvent.subscribe(this._onParentMenuRender,a,true)}},_subscribeToItemEvents:function(a){a.destroyEvent.subscribe(this._onMenuItemDestroy,a,this);a.cfg.configChangedEvent.subscribe(this._onMenuItemConfigChange,a,this)},_onVisibleChange:function(c,a){var b=a[0];if(b){aS.addClass(this.element,bw)}else{aS.removeClass(this.element,bw)}},_cancelHideDelay:function(){var a=this.getRoot()._hideDelayTimer;if(a){a.cancel()}},_execHideDelay:function(){this._cancelHideDelay();var a=this.getRoot();a._hideDelayTimer=ah.later(a.cfg.getProperty(bR),this,function(){if(a.activeItem){if(a.hasFocus()){a.activeItem.focus()}a.clearActiveItem()}if(a==this&&!(this instanceof YAHOO.widget.MenuBar)&&this.cfg.getProperty(bN)==aq){this.hide()}})},_cancelShowDelay:function(){var a=this.getRoot()._showDelayTimer;if(a){a.cancel()}},_execSubmenuHideDelay:function(c,a,b){c._submenuHideDelayTimer=ah.later(50,this,function(){if(this._nCurrentMouseX>(a+10)){c._submenuHideDelayTimer=ah.later(b,c,function(){this.hide()})}else{c.hide()}})},_disableScrollHeader:function(){if(!this._bHeaderDisabled){aS.addClass(this.header,a9);this._bHeaderDisabled=true}},_disableScrollFooter:function(){if(!this._bFooterDisabled){aS.addClass(this.footer,bk);this._bFooterDisabled=true}},_enableScrollHeader:function(){if(this._bHeaderDisabled){aS.removeClass(this.header,a9);this._bHeaderDisabled=false}},_enableScrollFooter:function(){if(this._bFooterDisabled){aS.removeClass(this.footer,bk);this._bFooterDisabled=false}},_onMouseOver:function(n,k){var l=k[0],e=k[1],h=au.getTarget(l),m=this.getRoot(),b=this._submenuHideDelayTimer,f,a,g,d,i,j;var c=function(){if(this.parent.cfg.getProperty(az)){this.show()}};if(!this._bStopMouseEventHandlers){if(!this._bHandledMouseOverEvent&&(h==this.element||aS.isAncestor(this.element,h))){if(this._useHideDelay){this._cancelHideDelay()}this._nCurrentMouseX=0;au.on(this.element,aW,this._onMouseMove,this,true);if(!(e&&aS.isAncestor(e.element,au.getRelatedTarget(l)))){this.clearActiveItem()}if(this.parent&&b){b.cancel();this.parent.cfg.setProperty(az,true);f=this.parent.parent;f._bHandledMouseOutEvent=true;f._bHandledMouseOverEvent=false}this._bHandledMouseOverEvent=true;this._bHandledMouseOutEvent=false}if(e&&!e.handledMouseOverEvent&&!e.cfg.getProperty(bJ)&&(h==e.element||aS.isAncestor(e.element,h))){a=this.cfg.getProperty(bv);g=(a>0);if(g){this._cancelShowDelay()}d=this.activeItem;if(d){d.cfg.setProperty(az,false)}i=e.cfg;i.setProperty(az,true);if(this.hasFocus()||m._hasFocus){e.focus();m._hasFocus=false}if(this.cfg.getProperty(aY)){j=i.getProperty(ba);if(j){if(g){m._showDelayTimer=ah.later(m.cfg.getProperty(bv),j,c)}else{j.show()}}}e.handledMouseOverEvent=true;e.handledMouseOutEvent=false}}},_onMouseOut:function(f,b){var d=b[0],h=b[1],a=au.getRelatedTarget(d),g=false,i,j,e,c;if(!this._bStopMouseEventHandlers){if(h&&!h.cfg.getProperty(bJ)){i=h.cfg;j=i.getProperty(ba);if(j&&(a==j.element||aS.isAncestor(j.element,a))){g=true}if(!h.handledMouseOutEvent&&((a!=h.element&&!aS.isAncestor(h.element,a))||g)){if(!g){h.cfg.setProperty(az,false);if(j){e=this.cfg.getProperty(aV);c=this.cfg.getProperty(bv);if(!(this instanceof YAHOO.widget.MenuBar)&&e>0&&c>=e){this._execSubmenuHideDelay(j,au.getPageX(d),e)}else{j.hide()}}}h.handledMouseOutEvent=true;h.handledMouseOverEvent=false}}if(!this._bHandledMouseOutEvent&&((a!=this.element&&!aS.isAncestor(this.element,a))||g)){if(this._useHideDelay){this._execHideDelay()}au.removeListener(this.element,aW,this._onMouseMove);this._nCurrentMouseX=au.getPageX(d);this._bHandledMouseOutEvent=true;this._bHandledMouseOverEvent=false}}},_onMouseMove:function(a,b){if(!this._bStopMouseEventHandlers){this._nCurrentMouseX=au.getPageX(a)}},_onClick:function(b,d){var m=d[0],j=d[1],h=false,l,e,f,g,k,i,c;var a=function(){if(!((by.gecko&&this.platform==a0)&&m.button>0)){f=this.getRoot();if(f instanceof YAHOO.widget.MenuBar||f.cfg.getProperty(bN)==bm){f.clearActiveItem()}else{f.hide()}}};if(j){if(j.cfg.getProperty(bJ)){au.preventDefault(m);a.call(this)}else{l=j.cfg.getProperty(ba);k=j.cfg.getProperty(a8);if(k){i=k.indexOf(bc);c=k.length;if(i!=-1){k=k.substr(i,c);c=k.length;if(c>1){g=k.substr(1,c);e=YAHOO.widget.MenuManager.getMenu(g);if(e){h=(this.getRoot()===e.getRoot())}}else{if(c===1){h=true}}}}if(h&&!j.cfg.getProperty(a3)){au.preventDefault(m);if(by.webkit){j.focus()}else{j.focusEvent.fire()}}if(!l&&!this.cfg.getProperty(bz)){a.call(this)}}}},_onKeyDown:function(l,e){var r=e[0],b=e[1],f,o,a,k,j,c,g,m,n,p,d,h,i;if(this._useHideDelay){this._cancelHideDelay()}function q(){this._bStopMouseEventHandlers=true;ah.later(10,this,function(){this._bStopMouseEventHandlers=false})}if(b&&!b.cfg.getProperty(bJ)){o=b.cfg;a=this.parent;switch(r.keyCode){case 38:case 40:j=(r.keyCode==38)?b.getPreviousEnabledSibling():b.getNextEnabledSibling();if(j){this.clearActiveItem();j.cfg.setProperty(az,true);j.focus();if(this.cfg.getProperty(aa)>0){c=this.body;g=c.scrollTop;m=c.offsetHeight;n=this.getItems();p=n.length-1;d=j.element.offsetTop;if(r.keyCode==40){if(d>=(m+g)){c.scrollTop=d-m}else{if(d<=g){c.scrollTop=0}}if(j==n[p]){c.scrollTop=j.element.offsetTop}}else{if(d<=g){c.scrollTop=d-j.element.offsetHeight}else{if(d>=(g+m)){c.scrollTop=d}}if(j==n[0]){c.scrollTop=0}}g=c.scrollTop;h=c.scrollHeight-c.offsetHeight;if(g===0){this._disableScrollHeader();this._enableScrollFooter()}else{if(g==h){this._enableScrollHeader();this._disableScrollFooter()}else{this._enableScrollHeader();this._enableScrollFooter()}}}}au.preventDefault(r);q();break;case 39:f=o.getProperty(ba);if(f){if(!o.getProperty(az)){o.setProperty(az,true)}f.show();f.setInitialFocus();f.setInitialSelection()}else{k=this.getRoot();if(k instanceof YAHOO.widget.MenuBar){j=k.activeItem.getNextEnabledSibling();if(j){k.clearActiveItem();j.cfg.setProperty(az,true);f=j.cfg.getProperty(ba);if(f){f.show();f.setInitialFocus()}else{j.focus()}}}}au.preventDefault(r);q();break;case 37:if(a){i=a.parent;if(i instanceof YAHOO.widget.MenuBar){j=i.activeItem.getPreviousEnabledSibling();if(j){i.clearActiveItem();j.cfg.setProperty(az,true);f=j.cfg.getProperty(ba);if(f){f.show();f.setInitialFocus()}else{j.focus()}}}else{this.hide();a.focus()}}au.preventDefault(r);q();break}}if(r.keyCode==27){if(this.cfg.getProperty(bN)==aq){this.hide();if(this.parent){this.parent.focus()}}else{if(this.activeItem){f=this.activeItem.cfg.getProperty(ba);if(f&&f.cfg.getProperty(bw)){f.hide();this.activeItem.focus()}else{this.activeItem.blur();this.activeItem.cfg.setProperty(az,false)}}}au.preventDefault(r)}},_onKeyPress:function(c,a){var b=a[0];if(b.keyCode==40||b.keyCode==38){au.preventDefault(b)}},_onBlur:function(a,b){if(this._hasFocus){this._hasFocus=false}},_onYChange:function(a,b){var e=this.parent,c,f,d;if(e){c=e.parent.body.scrollTop;if(c>0){d=(this.cfg.getProperty(a7)-c);aS.setY(this.element,d);f=this.iframe;if(f){aS.setY(f,d)}this.cfg.setProperty(a7,d,true)}}},_onScrollTargetMouseOver:function(h,c){var e=this._bodyScrollTimer;if(e){e.cancel()}this._cancelHideDelay();var b=au.getTarget(h),j=this.body,a=this.cfg.getProperty(aO),f,d;function g(){var k=j.scrollTop;if(k<f){j.scrollTop=(k+a);this._enableScrollHeader()}else{j.scrollTop=f;this._bodyScrollTimer.cancel();this._disableScrollFooter()}}function i(){var k=j.scrollTop;if(k>0){j.scrollTop=(k-a);this._enableScrollFooter()}else{j.scrollTop=0;this._bodyScrollTimer.cancel();this._disableScrollHeader()}}if(aS.hasClass(b,bq)){d=i}else{f=j.scrollHeight-j.offsetHeight;d=g}this._bodyScrollTimer=ah.later(10,this,d,null,true)},_onScrollTargetMouseOut:function(c,b){var a=this._bodyScrollTimer;if(a){a.cancel()}this._cancelHideDelay()},_onInit:function(a,b){this.cfg.subscribeToConfigEvent(bw,this._onVisibleChange);var d=!this.parent,c=this.lazyLoad;if(((d&&!c)||(d&&(this.cfg.getProperty(bw)||this.cfg.getProperty(bN)==bm))||(!d&&!c))&&this.getItemGroups().length===0){if(this.srcElement){this._initSubTree()}if(this.itemData){this.addItems(this.itemData)}}else{if(c){this.cfg.fireQueue()}}},_onBeforeRender:function(g,h){var f=this.element,b=this._aListElements.length,a=true,d=0,c,e;if(b>0){do{c=this._aListElements[d];if(c){if(a){aS.addClass(c,ak);a=false}if(!aS.isAncestor(f,c)){this.appendToBody(c)}e=this._aGroupTitleElements[d];if(e){if(!aS.isAncestor(f,e)){c.parentNode.insertBefore(e,c)}aS.addClass(c,bl)}}d++}while(d<b)}},_onRender:function(a,b){if(this.cfg.getProperty(bN)==aq){if(!this.cfg.getProperty(bw)){this.positionOffScreen()}}},_onBeforeShow:function(h,b){var f,a,g,e=this.cfg.getProperty(aR);if(this.lazyLoad&&this.getItemGroups().length===0){if(this.srcElement){this._initSubTree()}if(this.itemData){if(this.parent&&this.parent.parent&&this.parent.parent.srcElement&&this.parent.parent.srcElement.tagName.toUpperCase()==am){f=this.itemData.length;for(a=0;a<f;a++){if(this.itemData[a].tagName){this.addItem((new this.ITEM_TYPE(this.itemData[a])))}}}else{this.addItems(this.itemData)}}g=this.srcElement;if(g){if(g.tagName.toUpperCase()==am){if(aS.inDocument(g)){this.render(g.parentNode)}else{this.render(e)}}else{this.render()}}else{if(this.parent){this.render(this.parent.element)}else{this.render(e)}}}var d=this.parent,c;if(!d&&this.cfg.getProperty(bN)==aq){this.cfg.refireEvent(aT)}if(d){c=d.parent.cfg.getProperty(af);this.cfg.setProperty(aI,[d.element,c[0],c[1]]);this.align()}},getConstrainedY:function(z){var k=this,o=k.cfg.getProperty(aI),h=k.cfg.getProperty(aa),l,B={trbr:true,tlbl:true,bltl:true,brtr:true},u=(o&&B[o[1]+o[2]]),f=k.element,g=f.offsetHeight,m=at.VIEWPORT_OFFSET,r=aS.getViewportHeight(),n=aS.getDocumentScrollTop(),q=(k.cfg.getProperty(bH)+m<r),i,e,v,t,b=false,d,A,x=n+m,w=n+r-g-m,c=z;var s=function(){var C;if((k.cfg.getProperty(a7)-n)>v){C=(v-g)}else{C=(v+t)}k.cfg.setProperty(a7,(C+n),true);return C};var y=function(){if((k.cfg.getProperty(a7)-n)>v){return(A-m)}else{return(d-m)}};var p=function(){var C;if((k.cfg.getProperty(a7)-n)>v){C=(v+t)}else{C=(v-f.offsetHeight)}k.cfg.setProperty(a7,(C+n),true)};var a=function(){k._setScrollHeight(this.cfg.getProperty(aa));k.hideEvent.unsubscribe(a)};var j=function(){var E=y(),D=(k.getItems().length>0),F,C;if(g>E){F=D?k.cfg.getProperty(bH):g;if((E>F)&&D){l=E}else{l=h}k._setScrollHeight(l);k.hideEvent.subscribe(a);p();if(E<F){if(b){s()}else{s();b=true;C=j()}}}else{if(l&&(l!==h)){k._setScrollHeight(h);k.hideEvent.subscribe(a);p()}}return C};if(z<x||z>w){if(q){if(k.cfg.getProperty(aw)&&u){e=o[0];t=e.offsetHeight;v=(aS.getY(e)-n);d=v;A=(r-(v+t));j();c=k.cfg.getProperty(a7)}else{if(!(k instanceof YAHOO.widget.MenuBar)&&g>=r){i=(r-(m*2));if(i>k.cfg.getProperty(bH)){k._setScrollHeight(i);k.hideEvent.subscribe(a);p();c=k.cfg.getProperty(a7)}}else{if(z<x){c=x}else{if(z>w){c=w}}}}}else{c=m+n}}return c},_onHide:function(a,b){if(this.cfg.getProperty(bN)===aq){this.positionOffScreen()}},_onShow:function(d,g){var e=this.parent,b,a,h,c;function i(j){var k;if(j.type==bG||(j.type==bM&&j.keyCode==27)){k=au.getTarget(j);if(k!=b.element||!aS.isAncestor(b.element,k)){b.cfg.setProperty(aY,false);au.removeListener(document,bG,i);au.removeListener(document,bM,i)}}}function f(k,l,j){this.cfg.setProperty(a4,aD);this.hideEvent.unsubscribe(f,j)}if(e){b=e.parent;if(!b.cfg.getProperty(aY)&&(b instanceof YAHOO.widget.MenuBar||b.cfg.getProperty(bN)==bm)){b.cfg.setProperty(aY,true);au.on(document,bG,i);au.on(document,bM,i)}if((this.cfg.getProperty("x")<b.cfg.getProperty("x"))&&(by.gecko&&by.gecko<1.9)&&!this.cfg.getProperty(a4)){a=this.element;h=a.offsetWidth;a.style.width=h+ad;c=(h-(a.offsetWidth-h))+ad;this.cfg.setProperty(a4,c);this.hideEvent.subscribe(f,c)}}},_onBeforeHide:function(f,a){var b=this.activeItem,d=this.getRoot(),c,e;if(b){c=b.cfg;c.setProperty(az,false);e=c.getProperty(ba);if(e){e.hide()}}if(by.ie&&this.cfg.getProperty(bN)===aq&&this.parent){d._hasFocus=this.hasFocus()}if(d==this){d.blur()}},_onParentMenuConfigChange:function(a,b,c){var e=b[0][0],d=b[0][1];switch(e){case ao:case aB:case bR:case bv:case aV:case ar:case bs:case ay:case aO:case aa:case bH:case ap:case bK:case aw:c.cfg.setProperty(e,d);break;case af:if(!(this.parent.parent instanceof YAHOO.widget.MenuBar)){c.cfg.setProperty(e,d)}break}},_onParentMenuRender:function(a,b,c){var f=c.parent.parent,g=f.cfg,e={constraintoviewport:g.getProperty(aB),xy:[0,0],clicktohide:g.getProperty(ar),effect:g.getProperty(bs),showdelay:g.getProperty(bv),hidedelay:g.getProperty(bR),submenuhidedelay:g.getProperty(aV),classname:g.getProperty(ay),scrollincrement:g.getProperty(aO),maxheight:g.getProperty(aa),minscrollheight:g.getProperty(bH),iframe:g.getProperty(ao),shadow:g.getProperty(bK),preventcontextoverlap:g.getProperty(aw),monitorresize:g.getProperty(ap)},d;if(!(f instanceof YAHOO.widget.MenuBar)){e[af]=g.getProperty(af)}c.cfg.applyConfig(e);if(!this.lazyLoad){d=this.parent.element;if(this.element.parentNode==d){this.render()}else{this.render(d)}}},_onMenuItemDestroy:function(c,a,b){this._removeItemFromGroupByValue(b.groupIndex,b)},_onMenuItemConfigChange:function(f,a,b){var d=a[0][0],c=a[0][1],e;switch(d){case az:if(c===true){this.activeItem=b}break;case ba:e=a[0][1];if(e){this._configureSubmenu(b)}break}},configVisible:function(e,a,d){var b,c;if(this.cfg.getProperty(bN)==aq){aG.superclass.configVisible.call(this,e,a,d)}else{b=a[0];c=aS.getStyle(this.element,bS);aS.setStyle(this.element,bf,bw);if(b){if(c!=bT){this.beforeShowEvent.fire();aS.setStyle(this.element,bS,bT);this.showEvent.fire()}}else{if(c==bT){this.beforeHideEvent.fire();aS.setStyle(this.element,bS,bQ);this.hideEvent.fire()}}}},configPosition:function(g,a,d){var e=this.element,f=a[0]==bm?bm:av,c=this.cfg,b;aS.setStyle(e,bN,f);if(f==bm){aS.setStyle(e,bS,bT);c.setProperty(bw,true)}else{aS.setStyle(e,bf,ai)}if(f==av){b=c.getProperty(ab);if(!b||b===0){c.setProperty(ab,1)}}},configIframe:function(a,b,c){if(this.cfg.getProperty(bN)==aq){aG.superclass.configIframe.call(this,a,b,c)}},configHideDelay:function(a,b,d){var c=b[0];this._useHideDelay=(c>0)},configContainer:function(a,b,c){var d=b[0];if(ah.isString(d)){this.cfg.setProperty(aR,aS.get(d),true)}},_clearSetWidthFlag:function(){this._widthSetForScroll=false;this.cfg.unsubscribeFromConfigEvent(a4,this._clearSetWidthFlag)},_setScrollHeight:function(b){var i=b,j=false,n=false,a,m,d,f,e,l,h,g,k,c;if(this.getItems().length>0){a=this.element;m=this.body;d=this.header;f=this.footer;e=this._onScrollTargetMouseOver;l=this._onScrollTargetMouseOut;h=this.cfg.getProperty(bH);if(i>0&&i<h){i=h}aS.setStyle(m,bC,aD);aS.removeClass(m,aM);m.scrollTop=0;n=((by.gecko&&by.gecko<1.9)||by.ie);if(i>0&&n&&!this.cfg.getProperty(a4)){k=a.offsetWidth;a.style.width=k+ad;c=(k-(a.offsetWidth-k))+ad;this.cfg.unsubscribeFromConfigEvent(a4,this._clearSetWidthFlag);this.cfg.setProperty(a4,c);this._widthSetForScroll=true;this.cfg.subscribeToConfigEvent(a4,this._clearSetWidthFlag)}if(i>0&&(!d&&!f)){this.setHeader(aj);this.setFooter(aj);d=this.header;f=this.footer;aS.addClass(d,a5);aS.addClass(f,aA);a.insertBefore(d,m);a.appendChild(f)}g=i;if(d&&f){g=(g-(d.offsetHeight+f.offsetHeight))}if((g>0)&&(m.offsetHeight>i)){aS.addClass(m,aM);aS.setStyle(m,bC,(g+ad));if(!this._hasScrollEventHandlers){au.on(d,bI,e,this,true);au.on(d,bi,l,this,true);au.on(f,bI,e,this,true);au.on(f,bi,l,this,true);this._hasScrollEventHandlers=true}this._disableScrollHeader();this._enableScrollFooter();j=true}else{if(d&&f){if(this._widthSetForScroll){this._widthSetForScroll=false;this.cfg.unsubscribeFromConfigEvent(a4,this._clearSetWidthFlag);this.cfg.setProperty(a4,aD)}this._enableScrollHeader();this._enableScrollFooter();if(this._hasScrollEventHandlers){au.removeListener(d,bI,e);au.removeListener(d,bi,l);au.removeListener(f,bI,e);au.removeListener(f,bi,l);this._hasScrollEventHandlers=false}a.removeChild(d);a.removeChild(f);this.header=null;this.footer=null;j=true}}if(j){this.cfg.refireEvent(ao);this.cfg.refireEvent(bK)}}},_setMaxHeight:function(a,b,c){this._setScrollHeight(c);this.renderEvent.unsubscribe(this._setMaxHeight)},configMaxHeight:function(a,b,d){var c=b[0];if(this.lazyLoad&&!this.body&&c>0){this.renderEvent.subscribe(this._setMaxHeight,c,this)}else{this._setScrollHeight(c)}},configClassName:function(d,a,c){var b=a[0];if(this._sClassName){aS.removeClass(this.element,this._sClassName)}aS.addClass(this.element,b);this._sClassName=b},_onItemAdded:function(a,b){var c=b[0];if(c){c.cfg.setProperty(bJ,true)}},configDisabled:function(g,a,d){var e=a[0],b=this.getItems(),c,f;if(ah.isArray(b)){c=b.length;if(c>0){f=c-1;do{b[f].cfg.setProperty(bJ,e)}while(f--)}if(e){this.clearActiveItem(true);aS.addClass(this.element,bJ);this.itemAddedEvent.subscribe(this._onItemAdded)}else{aS.removeClass(this.element,bJ);this.itemAddedEvent.unsubscribe(this._onItemAdded)}}},configShadow:function(f,b,g){var h=function(){var k=this.element,l=this._shadow;if(l&&k){if(l.style.width&&l.style.height){l.style.width=aD;l.style.height=aD}l.style.width=(k.offsetWidth+6)+ad;l.style.height=(k.offsetHeight+1)+ad}};var c=function(){this.element.appendChild(this._shadow)};var j=function(){aS.addClass(this._shadow,an)};var i=function(){aS.removeClass(this._shadow,an)};var d=function(){var k=this._shadow,l;if(!k){l=this.element;if(!bB){bB=document.createElement(be);bB.className=aL}k=bB.cloneNode(false);l.appendChild(k);this._shadow=k;this.beforeShowEvent.subscribe(j);this.beforeHideEvent.subscribe(i);if(by.ie){ah.later(0,this,function(){h.call(this);this.syncIframe()});this.cfg.subscribeToConfigEvent(a4,h);this.cfg.subscribeToConfigEvent(bC,h);this.cfg.subscribeToConfigEvent(aa,h);this.changeContentEvent.subscribe(h);bu.textResizeEvent.subscribe(h,this,true);this.destroyEvent.subscribe(function(){bu.textResizeEvent.unsubscribe(h,this)})}this.cfg.subscribeToConfigEvent(aa,c)}};var a=function(){if(this._shadow){c.call(this);if(by.ie){h.call(this)}}else{d.call(this)}this.beforeShowEvent.unsubscribe(a)};var e=b[0];if(e&&this.cfg.getProperty(bN)==aq){if(this.cfg.getProperty(bw)){if(this._shadow){c.call(this);if(by.ie){h.call(this)}}else{d.call(this)}}else{this.beforeShowEvent.subscribe(a)}}},initEvents:function(){aG.superclass.initEvents.call(this);var a=bO.length-1,c,b;do{c=bO[a];b=this.createEvent(c[1]);b.signature=bj.LIST;this[c[0]]=b}while(a--)},positionOffScreen:function(){var a=this.iframe,c=this.element,b=this.OFF_SCREEN_POSITION;c.style.top=aD;c.style.left=aD;if(a){a.style.top=b;a.style.left=b}},getRoot:function(){var c=this.parent,a,b;if(c){a=c.parent;b=a?a.getRoot():this}else{b=this}return b},toString:function(){var a=bA,b=this.id;if(b){a+=(bp+b)}return a},setItemGroupTitle:function(c,d){var e,f,a,b;if(ah.isString(c)&&c.length>0){e=ah.isNumber(d)?d:0;f=this._aGroupTitleElements[e];if(f){f.innerHTML=c}else{f=document.createElement(this.GROUP_TITLE_TAG_NAME);f.innerHTML=c;this._aGroupTitleElements[e]=f}a=this._aGroupTitleElements.length-1;do{if(this._aGroupTitleElements[a]){aS.removeClass(this._aGroupTitleElements[a],ak);b=a}}while(a--);if(b!==null){aS.addClass(this._aGroupTitleElements[b],ak)}this.changeContentEvent.fire()}},addItem:function(b,a){return this._addItemToGroup(a,b)},addItems:function(e,f){var c,b,d,a,g;if(ah.isArray(e)){c=e.length;b=[];for(a=0;a<c;a++){d=e[a];if(d){if(ah.isArray(d)){b[b.length]=this.addItems(d,a)}else{b[b.length]=this._addItemToGroup(f,d)}}}if(b.length){g=b}}return g},insertItem:function(b,a,c){return this._addItemToGroup(c,b,a)},removeItem:function(b,d){var c,a;if(!ah.isUndefined(b)){if(b instanceof YAHOO.widget.MenuItem){c=this._removeItemFromGroupByValue(d,b)}else{if(ah.isNumber(b)){c=this._removeItemFromGroupByIndex(d,b)}}if(c){c.destroy();a=c}}return a},getItems:function(){var c=this._aItemGroups,a,d,b=[];if(ah.isArray(c)){a=c.length;d=((a==1)?c[0]:(Array.prototype.concat.apply(b,c)))}return d},getItemGroups:function(){return this._aItemGroups},getItem:function(a,d){var c,b;if(ah.isNumber(a)){c=this._getItemGroup(d);if(c){b=c[a]}}return b},getSubmenus:function(){var a=this.getItems(),c=a.length,b,f,d,e;if(c>0){b=[];for(e=0;e<c;e++){d=a[e];if(d){f=d.cfg.getProperty(ba);if(f){b[b.length]=f}}}}return b},clearContent:function(){var i=this.getItems(),c=i.length,b=this.element,a=this.body,d=this.header,e=this.footer,f,g,h;if(c>0){h=c-1;do{f=i[h];if(f){g=f.cfg.getProperty(ba);if(g){this.cfg.configChangedEvent.unsubscribe(this._onParentMenuConfigChange,g);this.renderEvent.unsubscribe(this._onParentMenuRender,g)}this.removeItem(f,f.groupIndex)}}while(h--)}if(d){au.purgeElement(d);b.removeChild(d)}if(e){au.purgeElement(e);b.removeChild(e)}if(a){au.purgeElement(a);a.innerHTML=aD}this.activeItem=null;this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];this.cfg.setProperty(a4,null)},destroy:function(){this.clearContent();this._aItemGroups=null;this._aListElements=null;this._aGroupTitleElements=null;aG.superclass.destroy.call(this)},setInitialFocus:function(){var a=this._getFirstEnabledItem();if(a){a.focus()}},setInitialSelection:function(){var a=this._getFirstEnabledItem();if(a){a.cfg.setProperty(az,true)}},clearActiveItem:function(d){if(this.cfg.getProperty(bv)>0){this._cancelShowDelay()}var b=this.activeItem,c,a;if(b){c=b.cfg;if(d){b.blur();this.getRoot()._hasFocus=true}c.setProperty(az,false);a=c.getProperty(ba);if(a){a.hide()}this.activeItem=null}},focus:function(){if(!this.hasFocus()){this.setInitialFocus()}},blur:function(){var a;if(this.hasFocus()){a=ax.getFocusedMenuItem();if(a){a.blur()}}},hasFocus:function(){return(ax.getFocusedMenu()==this.getRoot())},subscribe:function(){function f(l,h,j){var i=h[0],k=i.cfg.getProperty(ba);if(k){k.subscribe.apply(k,j)}}function c(k,h,i){var j=this.cfg.getProperty(ba);if(j){j.subscribe.apply(j,i)}}aG.superclass.subscribe.apply(this,arguments);aG.superclass.subscribe.call(this,ac,f,arguments);var b=this.getItems(),d,e,a,g;if(b){d=b.length;if(d>0){g=d-1;do{e=b[g];a=e.cfg.getProperty(ba);if(a){a.subscribe.apply(a,arguments)}else{e.cfg.subscribeToConfigEvent(ba,c,arguments)}}while(g--)}}},initDefaultConfig:function(){aG.superclass.initDefaultConfig.call(this);var a=this.cfg;a.addProperty(bP.key,{handler:this.configVisible,value:bP.value,validator:bP.validator});a.addProperty(ae.key,{handler:this.configConstrainToViewport,value:ae.value,validator:ae.validator,supercedes:ae.supercedes});a.addProperty(al.key,{value:al.value,validator:al.validator,supercedes:al.supercedes});a.addProperty(a6.key,{handler:this.configPosition,value:a6.value,validator:a6.validator,supercedes:a6.supercedes});a.addProperty(bo.key,{value:bo.value,suppressEvent:bo.suppressEvent});a.addProperty(aE.key,{value:aE.value,validator:aE.validator,suppressEvent:aE.suppressEvent});a.addProperty(aZ.key,{value:aZ.value,validator:aZ.validator,suppressEvent:aZ.suppressEvent});a.addProperty(aH.key,{handler:this.configHideDelay,value:aH.value,validator:aH.validator,suppressEvent:aH.suppressEvent});a.addProperty(aC.key,{value:aC.value,validator:aC.validator,suppressEvent:aC.suppressEvent});a.addProperty(aJ.key,{value:aJ.value,validator:aJ.validator,suppressEvent:aJ.suppressEvent});a.addProperty(ag.key,{handler:this.configContainer,value:document.body,suppressEvent:ag.suppressEvent});a.addProperty(bL.key,{value:bL.value,validator:bL.validator,supercedes:bL.supercedes,suppressEvent:bL.suppressEvent});a.addProperty(bb.key,{value:bb.value,validator:bb.validator,supercedes:bb.supercedes,suppressEvent:bb.suppressEvent});a.addProperty(a1.key,{handler:this.configMaxHeight,value:a1.value,validator:a1.validator,suppressEvent:a1.suppressEvent,supercedes:a1.supercedes});a.addProperty(a2.key,{handler:this.configClassName,value:a2.value,validator:a2.validator,supercedes:a2.supercedes});a.addProperty(aX.key,{handler:this.configDisabled,value:aX.value,validator:aX.validator,suppressEvent:aX.suppressEvent});a.addProperty(bg.key,{handler:this.configShadow,value:bg.value,validator:bg.validator});a.addProperty(bF.key,{value:bF.value,validator:bF.validator})}})})();(function(){YAHOO.widget.MenuItem=function(a,b){if(a){if(b){this.parent=b.parent;this.value=b.value;this.id=b.id}this.init(a,b)}};var aN=YAHOO.util.Dom,a1=YAHOO.widget.Module,an=YAHOO.widget.Menu,bb=YAHOO.widget.MenuItem,bh=YAHOO.util.CustomEvent,a0=YAHOO.env.ua,a7=YAHOO.lang,bg="text",aw="#",au="-",az="helptext",aX="url",ac="target",aK="emphasis",ax="strongemphasis",bc="checked",aO="submenu",aD="disabled",aJ="selected",av="hassubmenu",ap="checked-disabled",ab="hassubmenu-disabled",ai="hassubmenu-selected",aq="checked-selected",aU="onclick",aB="classname",aa="",a2="OPTION",aP="OPTGROUP",aA="LI",ah="href",aT="SELECT",aj="DIV",bd='<em class="helptext">',bf="<em>",aC="</em>",al="<strong>",aM="</strong>",ag="preventcontextoverlap",a3="obj",ad="scope",aR="none",am="visible",aG=" ",aY="MenuItem",ao="click",aH="show",ay="hide",ar="li",af='<a href="#"></a>',aV=[["mouseOverEvent","mouseover"],["mouseOutEvent","mouseout"],["mouseDownEvent","mousedown"],["mouseUpEvent","mouseup"],["clickEvent",ao],["keyPressEvent","keypress"],["keyDownEvent","keydown"],["keyUpEvent","keyup"],["focusEvent","focus"],["blurEvent","blur"],["destroyEvent","destroy"]],aW={key:bg,value:aa,validator:a7.isString,suppressEvent:true},aS={key:az,supercedes:[bg],suppressEvent:true},aE={key:aX,value:aw,suppressEvent:true},ba={key:ac,suppressEvent:true},a9={key:aK,value:false,validator:a7.isBoolean,suppressEvent:true,supercedes:[bg]},a8={key:ax,value:false,validator:a7.isBoolean,suppressEvent:true,supercedes:[bg]},aZ={key:bc,value:false,validator:a7.isBoolean,suppressEvent:true,supercedes:[aD,aJ]},aF={key:aO,suppressEvent:true,supercedes:[aD,aJ]},be={key:aD,value:false,validator:a7.isBoolean,suppressEvent:true,supercedes:[bg,aJ]},a5={key:aJ,value:false,validator:a7.isBoolean,suppressEvent:true},aQ={key:aU,suppressEvent:true},ak={key:aB,value:null,validator:a7.isString,suppressEvent:true},aL={key:"keylistener",value:null,suppressEvent:true},aI=null,a6={};var ae=function(a,b){var d=a6[a];if(!d){a6[a]={};d=a6[a]}var c=d[b];if(!c){c=a+au+b;d[b]=c}return c};var a4=function(a){aN.addClass(this.element,ae(this.CSS_CLASS_NAME,a));aN.addClass(this._oAnchor,ae(this.CSS_LABEL_CLASS_NAME,a))};var at=function(a){aN.removeClass(this.element,ae(this.CSS_CLASS_NAME,a));aN.removeClass(this._oAnchor,ae(this.CSS_LABEL_CLASS_NAME,a))};bb.prototype={CSS_CLASS_NAME:"yuimenuitem",CSS_LABEL_CLASS_NAME:"yuimenuitemlabel",SUBMENU_TYPE:null,_oAnchor:null,_oHelpTextEM:null,_oSubmenu:null,_oOnclickAttributeValue:null,_sClassName:null,constructor:bb,index:null,groupIndex:null,parent:null,element:null,srcElement:null,value:null,browser:a1.prototype.browser,id:null,init:function(k,a){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=an}this.cfg=new YAHOO.util.Config(this);this.initDefaultConfig();var e=this.cfg,d=aw,i,b,c,j,g,h,f;if(a7.isString(k)){this._createRootNodeStructure();e.queueProperty(bg,k)}else{if(k&&k.tagName){switch(k.tagName.toUpperCase()){case a2:this._createRootNodeStructure();e.queueProperty(bg,k.text);e.queueProperty(aD,k.disabled);this.value=k.value;this.srcElement=k;break;case aP:this._createRootNodeStructure();e.queueProperty(bg,k.label);e.queueProperty(aD,k.disabled);this.srcElement=k;this._initSubTree();break;case aA:c=aN.getFirstChild(k);if(c){d=c.getAttribute(ah,2);j=c.getAttribute(ac);g=c.innerHTML}this.srcElement=k;this.element=k;this._oAnchor=c;e.setProperty(bg,g,true);e.setProperty(aX,d,true);e.setProperty(ac,j,true);this._initSubTree();break}}}if(this.element){h=(this.srcElement||this.element).id;if(!h){h=this.id||aN.generateId();this.element.id=h}this.id=h;aN.addClass(this.element,this.CSS_CLASS_NAME);aN.addClass(this._oAnchor,this.CSS_LABEL_CLASS_NAME);f=aV.length-1;do{b=aV[f];i=this.createEvent(b[1]);i.signature=bh.LIST;this[b[0]]=i}while(f--);if(a){e.applyConfig(a)}e.fireQueue()}},_createRootNodeStructure:function(){var b,a;if(!aI){aI=document.createElement(ar);aI.innerHTML=af}b=aI.cloneNode(true);b.className=this.CSS_CLASS_NAME;a=b.firstChild;a.className=this.CSS_LABEL_CLASS_NAME;this.element=b;this._oAnchor=a},_initSubTree:function(){var e=this.srcElement,b=this.cfg,g,a,c,d,f;if(e.childNodes.length>0){if(this.parent.lazyLoad&&this.parent.srcElement&&this.parent.srcElement.tagName.toUpperCase()==aT){b.setProperty(aO,{id:aN.generateId(),itemdata:e.childNodes})}else{g=e.firstChild;a=[];do{if(g&&g.tagName){switch(g.tagName.toUpperCase()){case aj:b.setProperty(aO,g);break;case a2:a[a.length]=g;break}}}while((g=g.nextSibling));c=a.length;if(c>0){d=new this.SUBMENU_TYPE(aN.generateId());b.setProperty(aO,d);for(f=0;f<c;f++){d.addItem((new d.ITEM_TYPE(a[f])))}}}}},configText:function(a,h,f){var i=h[0],g=this.cfg,c=this._oAnchor,j=g.getProperty(az),b=aa,e=aa,d=aa;if(i){if(j){b=bd+j+aC}if(g.getProperty(aK)){e=bf;d=aC}if(g.getProperty(ax)){e=al;d=aM}c.innerHTML=(e+i+d+b)}},configHelpText:function(a,b,c){this.cfg.refireEvent(bg)},configURL:function(b,c,d){var e=c[0];if(!e){e=aw}var a=this._oAnchor;if(a0.opera){a.removeAttribute(ah)}a.setAttribute(ah,e)},configTarget:function(a,b,c){var d=b[0],e=this._oAnchor;if(d&&d.length>0){e.setAttribute(ac,d)}else{e.removeAttribute(ac)}},configEmphasis:function(b,c,d){var e=c[0],a=this.cfg;if(e&&a.getProperty(ax)){a.setProperty(ax,false)}a.refireEvent(bg)},configStrongEmphasis:function(a,b,c){var d=b[0],e=this.cfg;if(d&&e.getProperty(aK)){e.setProperty(aK,false)}e.refireEvent(bg)},configChecked:function(b,c,d){var e=c[0],a=this.cfg;if(e){a4.call(this,bc)}else{at.call(this,bc)}a.refireEvent(bg);if(a.getProperty(aD)){a.refireEvent(aD)}if(a.getProperty(aJ)){a.refireEvent(aJ)}},configDisabled:function(b,c,d){var g=c[0],f=this.cfg,a=f.getProperty(aO),e=f.getProperty(bc);if(g){if(f.getProperty(aJ)){f.setProperty(aJ,false)}a4.call(this,aD);if(a){a4.call(this,ab)}if(e){a4.call(this,ap)}}else{at.call(this,aD);if(a){at.call(this,ab)}if(e){at.call(this,ap)}}},configSelected:function(b,c,d){var f=this.cfg,g=this._oAnchor,h=c[0],e=f.getProperty(bc),a=f.getProperty(aO);if(a0.opera){g.blur()}if(h&&!f.getProperty(aD)){a4.call(this,aJ);if(a){a4.call(this,ai)}if(e){a4.call(this,aq)}}else{at.call(this,aJ);if(a){at.call(this,ai)}if(e){at.call(this,aq)}}if(this.hasFocus()&&a0.opera){g.focus()}},_onSubmenuBeforeHide:function(a,b){var e=this.parent,d;function c(){e._oAnchor.blur();d.beforeHideEvent.unsubscribe(c)}if(e.hasFocus()){d=e.parent;d.beforeHideEvent.subscribe(c)}},configSubmenu:function(b,g,d){var e=g[0],f=this.cfg,h=this.parent&&this.parent.lazyLoad,c,a,i;if(e){if(e instanceof an){c=e;c.parent=this;c.lazyLoad=h}else{if(a7.isObject(e)&&e.id&&!e.nodeType){a=e.id;i=e;i.lazyload=h;i.parent=this;c=new this.SUBMENU_TYPE(a,i);f.setProperty(aO,c,true)}else{c=new this.SUBMENU_TYPE(e,{lazyload:h,parent:this});f.setProperty(aO,c,true)}}if(c){c.cfg.setProperty(ag,true);a4.call(this,av);if(f.getProperty(aX)===aw){f.setProperty(aX,(aw+c.id))}this._oSubmenu=c;if(a0.opera){c.beforeHideEvent.subscribe(this._onSubmenuBeforeHide)}}}else{at.call(this,av);if(this._oSubmenu){this._oSubmenu.destroy()}}if(f.getProperty(aD)){f.refireEvent(aD)}if(f.getProperty(aJ)){f.refireEvent(aJ)}},configOnClick:function(b,c,d){var a=c[0];if(this._oOnclickAttributeValue&&(this._oOnclickAttributeValue!=a)){this.clickEvent.unsubscribe(this._oOnclickAttributeValue.fn,this._oOnclickAttributeValue.obj);this._oOnclickAttributeValue=null}if(!this._oOnclickAttributeValue&&a7.isObject(a)&&a7.isFunction(a.fn)){this.clickEvent.subscribe(a.fn,((a3 in a)?a.obj:this),((ad in a)?a.scope:null));this._oOnclickAttributeValue=a}},configClassName:function(a,b,c){var d=b[0];if(this._sClassName){aN.removeClass(this.element,this._sClassName)}aN.addClass(this.element,d);this._sClassName=d},_dispatchClickEvent:function(){var a=this,b,c;if(!a.cfg.getProperty(aD)){b=aN.getFirstChild(a.element);if(a0.ie){b.fireEvent(aU)}else{if((a0.gecko&&a0.gecko>=1.9)||a0.opera||a0.webkit){c=document.createEvent("HTMLEvents");c.initEvent(ao,true,true)}else{c=document.createEvent("MouseEvents");c.initMouseEvent(ao,true,true,window,0,0,0,0,0,false,false,false,false,0,null)}b.dispatchEvent(c)}}},_createKeyListener:function(a,b,e){var f=this,c=f.parent;var d=new YAHOO.util.KeyListener(c.element.ownerDocument,e,{fn:f._dispatchClickEvent,scope:f,correctScope:true});if(c.cfg.getProperty(am)){d.enable()}c.subscribe(aH,d.enable,null,d);c.subscribe(ay,d.disable,null,d);f._keyListener=d;c.unsubscribe(aH,f._createKeyListener,e)},configKeyListener:function(b,c){var e=c[0],a=this,d=a.parent;if(a._keyData){d.unsubscribe(aH,a._createKeyListener,a._keyData);a._keyData=null}if(a._keyListener){d.unsubscribe(aH,a._keyListener.enable);d.unsubscribe(ay,a._keyListener.disable);a._keyListener.disable();a._keyListener=null}if(e){a._keyData=e;d.subscribe(aH,a._createKeyListener,e,a)}},initDefaultConfig:function(){var a=this.cfg;a.addProperty(aW.key,{handler:this.configText,value:aW.value,validator:aW.validator,suppressEvent:aW.suppressEvent});a.addProperty(aS.key,{handler:this.configHelpText,supercedes:aS.supercedes,suppressEvent:aS.suppressEvent});a.addProperty(aE.key,{handler:this.configURL,value:aE.value,suppressEvent:aE.suppressEvent});a.addProperty(ba.key,{handler:this.configTarget,suppressEvent:ba.suppressEvent});a.addProperty(a9.key,{handler:this.configEmphasis,value:a9.value,validator:a9.validator,suppressEvent:a9.suppressEvent,supercedes:a9.supercedes});a.addProperty(a8.key,{handler:this.configStrongEmphasis,value:a8.value,validator:a8.validator,suppressEvent:a8.suppressEvent,supercedes:a8.supercedes});a.addProperty(aZ.key,{handler:this.configChecked,value:aZ.value,validator:aZ.validator,suppressEvent:aZ.suppressEvent,supercedes:aZ.supercedes});a.addProperty(be.key,{handler:this.configDisabled,value:be.value,validator:be.validator,suppressEvent:be.suppressEvent});a.addProperty(a5.key,{handler:this.configSelected,value:a5.value,validator:a5.validator,suppressEvent:a5.suppressEvent});a.addProperty(aF.key,{handler:this.configSubmenu,supercedes:aF.supercedes,suppressEvent:aF.suppressEvent});a.addProperty(aQ.key,{handler:this.configOnClick,suppressEvent:aQ.suppressEvent});a.addProperty(ak.key,{handler:this.configClassName,value:ak.value,validator:ak.validator,suppressEvent:ak.suppressEvent});a.addProperty(aL.key,{handler:this.configKeyListener,value:aL.value,suppressEvent:aL.suppressEvent})},getNextEnabledSibling:function(){var a,e,d,f,g,c;function b(i,h){return i[h]||b(i,(h+1))}if(this.parent instanceof an){a=this.groupIndex;e=this.parent.getItemGroups();if(this.index<(e[a].length-1)){d=b(e[a],(this.index+1))}else{if(a<(e.length-1)){f=a+1}else{f=0}g=b(e,f);d=b(g,0)}c=(d.cfg.getProperty(aD)||d.element.style.display==aR)?d.getNextEnabledSibling():d}return c},getPreviousEnabledSibling:function(){var g,e,c,d,h,a;function f(i,j){return i[j]||f(i,(j-1))}function b(i,j){return i[j]?j:b(i,(j+1))}if(this.parent instanceof an){g=this.groupIndex;e=this.parent.getItemGroups();if(this.index>b(e[g],0)){c=f(e[g],(this.index-1))}else{if(g>b(e,0)){d=g-1}else{d=e.length-1}h=f(e,d);c=f(h,(h.length-1))}a=(c.cfg.getProperty(aD)||c.element.style.display==aR)?c.getPreviousEnabledSibling():c}return a},focus:function(){var a=this.parent,b=this._oAnchor,d=a.activeItem;function c(){try{if(!(a0.ie&&!document.hasFocus())){if(d){d.blurEvent.fire()}b.focus();this.focusEvent.fire()}}catch(e){}}if(!this.cfg.getProperty(aD)&&a&&a.cfg.getProperty(am)&&this.element.style.display!=aR){a7.later(0,this,c)}},blur:function(){var a=this.parent;if(!this.cfg.getProperty(aD)&&a&&a.cfg.getProperty(am)){a7.later(0,this,function(){try{this._oAnchor.blur();this.blurEvent.fire()}catch(b){}},0)}},hasFocus:function(){return(YAHOO.widget.MenuManager.getFocusedMenuItem()==this)},destroy:function(){var b=this.element,c,d,e,a;if(b){c=this.cfg.getProperty(aO);if(c){c.destroy()}d=b.parentNode;if(d){d.removeChild(b);this.destroyEvent.fire()}a=aV.length-1;do{e=aV[a];this[e[0]].unsubscribeAll()}while(a--);this.cfg.configChangedEvent.unsubscribeAll()}},toString:function(){var a=aY,b=this.id;if(b){a+=(aG+b)}return a}};a7.augmentProto(bb,YAHOO.util.EventProvider)})();(function(){var c="xy",b="mousedown",i="ContextMenu",e=" ";YAHOO.widget.ContextMenu=function(k,l){YAHOO.widget.ContextMenu.superclass.constructor.call(this,k,l)};var f=YAHOO.util.Event,j=YAHOO.env.ua,h=YAHOO.widget.ContextMenu,d={TRIGGER_CONTEXT_MENU:"triggerContextMenu",CONTEXT_MENU:(j.opera?b:"contextmenu"),CLICK:"click"},g={key:"trigger",suppressEvent:true};function a(k,l,m){this.cfg.setProperty(c,m);this.beforeShowEvent.unsubscribe(a,m)}YAHOO.lang.extend(h,YAHOO.widget.Menu,{_oTrigger:null,_bCancelled:false,contextEventTarget:null,triggerContextMenuEvent:null,init:function(k,l){h.superclass.init.call(this,k);this.beforeInitEvent.fire(h);if(l){this.cfg.applyConfig(l,true)}this.initEvent.fire(h)},initEvents:function(){h.superclass.initEvents.call(this);this.triggerContextMenuEvent=this.createEvent(d.TRIGGER_CONTEXT_MENU);this.triggerContextMenuEvent.signature=YAHOO.util.CustomEvent.LIST},cancel:function(){this._bCancelled=true},_removeEventHandlers:function(){var k=this._oTrigger;if(k){f.removeListener(k,d.CONTEXT_MENU,this._onTriggerContextMenu);if(j.opera){f.removeListener(k,d.CLICK,this._onTriggerClick)}}},_onTriggerClick:function(k,l){if(k.ctrlKey){f.stopEvent(k)}},_onTriggerContextMenu:function(m,l){var k;if(!(m.type==b&&!m.ctrlKey)){this.contextEventTarget=f.getTarget(m);this.triggerContextMenuEvent.fire(m);if(!this._bCancelled){f.stopEvent(m);YAHOO.widget.MenuManager.hideVisible();k=f.getXY(m);if(!YAHOO.util.Dom.inDocument(this.element)){this.beforeShowEvent.subscribe(a,k)}else{this.cfg.setProperty(c,k)}this.show()}this._bCancelled=false}},toString:function(){var k=i,l=this.id;if(l){k+=(e+l)}return k},initDefaultConfig:function(){h.superclass.initDefaultConfig.call(this);this.cfg.addProperty(g.key,{handler:this.configTrigger,suppressEvent:g.suppressEvent})},destroy:function(){this._removeEventHandlers();h.superclass.destroy.call(this)},configTrigger:function(k,l,m){var n=l[0];if(n){if(this._oTrigger){this._removeEventHandlers()}this._oTrigger=n;f.on(n,d.CONTEXT_MENU,this._onTriggerContextMenu,this,true);if(j.opera){f.on(n,d.CLICK,this._onTriggerClick,this,true)}}else{this._removeEventHandlers()}}})}());YAHOO.widget.ContextMenuItem=YAHOO.widget.MenuItem;(function(){var o=YAHOO.lang,e="static",f="dynamic,"+e,r="disabled",m="selected",q="autosubmenudisplay",l="submenu",p="visible",b=" ",k="submenutoggleregion",c="MenuBar";YAHOO.widget.MenuBar=function(s,t){YAHOO.widget.MenuBar.superclass.constructor.call(this,s,t)};function d(s){var t=false;if(o.isString(s)){t=(f.indexOf((s.toLowerCase()))!=-1)}return t}var a=YAHOO.util.Event,g=YAHOO.widget.MenuBar,h={key:"position",value:e,validator:d,supercedes:[p]},n={key:"submenualignment",value:["tl","bl"]},i={key:q,value:false,validator:o.isBoolean,suppressEvent:true},j={key:k,value:false,validator:o.isBoolean};o.extend(g,YAHOO.widget.Menu,{init:function(s,t){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuBarItem}g.superclass.init.call(this,s);this.beforeInitEvent.fire(g);if(t){this.cfg.applyConfig(t,true)}this.initEvent.fire(g)},CSS_CLASS_NAME:"yuimenubar",SUBMENU_TOGGLE_REGION_WIDTH:20,_onKeyDown:function(u,v,y){var w=v[0],x=v[1],s,z,t;if(x&&!x.cfg.getProperty(r)){z=x.cfg;switch(w.keyCode){case 37:case 39:if(x==this.activeItem&&!z.getProperty(m)){z.setProperty(m,true)}else{t=(w.keyCode==37)?x.getPreviousEnabledSibling():x.getNextEnabledSibling();if(t){this.clearActiveItem();t.cfg.setProperty(m,true);s=t.cfg.getProperty(l);if(s){s.show();s.setInitialFocus()}else{t.focus()}}}a.preventDefault(w);break;case 40:if(this.activeItem!=x){this.clearActiveItem();z.setProperty(m,true);x.focus()}s=z.getProperty(l);if(s){if(s.cfg.getProperty(p)){s.setInitialSelection();s.setInitialFocus()}else{s.show();s.setInitialFocus()}}a.preventDefault(w);break}}if(w.keyCode==27&&this.activeItem){s=this.activeItem.cfg.getProperty(l);if(s&&s.cfg.getProperty(p)){s.hide();this.activeItem.focus()}else{this.activeItem.cfg.setProperty(m,false);this.activeItem.blur()}a.preventDefault(w)}},_onClick:function(B,t,E){g.superclass._onClick.call(this,B,t,E);var C=t[1],y=true,z,A,x,v,s,F,D,w;var u=function(){if(F.cfg.getProperty(p)){F.hide()}else{F.show()}};if(C&&!C.cfg.getProperty(r)){A=t[0];x=a.getTarget(A);v=this.activeItem;s=this.cfg;if(v&&v!=C){this.clearActiveItem()}C.cfg.setProperty(m,true);F=C.cfg.getProperty(l);if(F){z=C.element;D=YAHOO.util.Dom.getX(z);w=D+(z.offsetWidth-this.SUBMENU_TOGGLE_REGION_WIDTH);if(s.getProperty(k)){if(a.getPageX(A)>w){u();a.preventDefault(A);y=false}}else{u()}}}return y},configSubmenuToggle:function(s,t){var u=t[0];if(u){this.cfg.setProperty(q,false)}},toString:function(){var s=c,t=this.id;if(t){s+=(b+t)}return s},initDefaultConfig:function(){g.superclass.initDefaultConfig.call(this);var s=this.cfg;s.addProperty(h.key,{handler:this.configPosition,value:h.value,validator:h.validator,supercedes:h.supercedes});s.addProperty(n.key,{value:n.value,suppressEvent:n.suppressEvent});s.addProperty(i.key,{value:i.value,validator:i.validator,suppressEvent:i.suppressEvent});s.addProperty(j.key,{value:j.value,validator:j.validator,handler:this.configSubmenuToggle})}})}());YAHOO.widget.MenuBarItem=function(b,a){YAHOO.widget.MenuBarItem.superclass.constructor.call(this,b,a)};YAHOO.lang.extend(YAHOO.widget.MenuBarItem,YAHOO.widget.MenuItem,{init:function(c,a){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.Menu}YAHOO.widget.MenuBarItem.superclass.init.call(this,c);var b=this.cfg;if(a){b.applyConfig(a,true)}b.fireQueue()},CSS_CLASS_NAME:"yuimenubaritem",CSS_LABEL_CLASS_NAME:"yuimenubaritemlabel",toString:function(){var a="MenuBarItem";if(this.cfg&&this.cfg.getProperty("text")){a+=(": "+this.cfg.getProperty("text"))}return a}});YAHOO.register("menu",YAHOO.widget.Menu,{version:"2.7.0",build:"1799"});(function(){var g=YAHOO.util.Dom,m=YAHOO.util.Event,i=YAHOO.lang,l=YAHOO.env.ua,b=YAHOO.widget.Overlay,j=YAHOO.widget.Menu,d={},k=null,e=null,c=null;function f(o,n,r,p){var s,q;if(i.isString(o)&&i.isString(n)){if(l.ie){q='<input type="'+o+'" name="'+n+'"';if(p){q+=" checked"}q+=">";s=document.createElement(q)}else{s=document.createElement("input");s.name=n;s.type=o;if(p){s.checked=true}}s.value=r}return s}function h(o,u){var n=o.nodeName.toUpperCase(),s=this,t,p,q;function v(w){if(!(w in u)){t=o.getAttributeNode(w);if(t&&("value" in t)){u[w]=t.value}}}function r(){v("type");if(u.type=="button"){u.type="push"}if(!("disabled" in u)){u.disabled=o.disabled}v("name");v("value");v("title")}switch(n){case"A":u.type="link";v("href");v("target");break;case"INPUT":r();if(!("checked" in u)){u.checked=o.checked}break;case"BUTTON":r();p=o.parentNode.parentNode;if(g.hasClass(p,this.CSS_CLASS_NAME+"-checked")){u.checked=true}if(g.hasClass(p,this.CSS_CLASS_NAME+"-disabled")){u.disabled=true}o.removeAttribute("value");o.setAttribute("type","button");break}o.removeAttribute("id");o.removeAttribute("name");if(!("tabindex" in u)){u.tabindex=o.tabIndex}if(!("label" in u)){q=n=="INPUT"?o.value:o.innerHTML;if(q&&q.length>0){u.label=q}}}function a(p){var o=p.attributes,n=o.srcelement,r=n.nodeName.toUpperCase(),q=this;if(r==this.NODE_NAME){p.element=n;p.id=n.id;g.getElementsBy(function(s){switch(s.nodeName.toUpperCase()){case"BUTTON":case"A":case"INPUT":h.call(q,s,o);break}},"*",n)}else{switch(r){case"BUTTON":case"A":case"INPUT":h.call(this,n,o);break}}}YAHOO.widget.Button=function(r,o){if(!b&&YAHOO.widget.Overlay){b=YAHOO.widget.Overlay}if(!j&&YAHOO.widget.Menu){j=YAHOO.widget.Menu}var q=YAHOO.widget.Button.superclass.constructor,p,n;if(arguments.length==1&&!i.isString(r)&&!r.nodeName){if(!r.id){r.id=g.generateId()}q.call(this,(this.createButtonElement(r.type)),r)}else{p={element:null,attributes:(o||{})};if(i.isString(r)){n=g.get(r);if(n){if(!p.attributes.id){p.attributes.id=r}p.attributes.srcelement=n;a.call(this,p);if(!p.element){p.element=this.createButtonElement(p.attributes.type)}q.call(this,p.element,p.attributes)}}else{if(r.nodeName){if(!p.attributes.id){if(r.id){p.attributes.id=r.id}else{p.attributes.id=g.generateId()}}p.attributes.srcelement=r;a.call(this,p);if(!p.element){p.element=this.createButtonElement(p.attributes.type)}q.call(this,p.element,p.attributes)}}}};YAHOO.extend(YAHOO.widget.Button,YAHOO.util.Element,{_button:null,_menu:null,_hiddenFields:null,_onclickAttributeValue:null,_activationKeyPressed:false,_activationButtonPressed:false,_hasKeyEventHandlers:false,_hasMouseEventHandlers:false,_nOptionRegionX:0,NODE_NAME:"SPAN",CHECK_ACTIVATION_KEYS:[32],ACTIVATION_KEYS:[13,32],OPTION_AREA_WIDTH:20,CSS_CLASS_NAME:"yui-button",RADIO_DEFAULT_TITLE:"Unchecked.  Click to check.",RADIO_CHECKED_TITLE:"Checked.  Click another button to uncheck",CHECKBOX_DEFAULT_TITLE:"Unchecked.  Click to check.",CHECKBOX_CHECKED_TITLE:"Checked.  Click to uncheck.",MENUBUTTON_DEFAULT_TITLE:"Menu collapsed.  Click to expand.",MENUBUTTON_MENU_VISIBLE_TITLE:"Menu expanded.  Click or press Esc to collapse.",SPLITBUTTON_DEFAULT_TITLE:("Menu collapsed.  Click inside option region or press down arrow key to show the menu."),SPLITBUTTON_OPTION_VISIBLE_TITLE:"Menu expanded.  Press Esc to hide the menu.",SUBMIT_TITLE:"Click to submit form.",_setType:function(n){if(n=="split"){this.on("option",this._onOption)}},_setLabel:function(o){this._button.innerHTML=o;var p,n=l.gecko;if(n&&n<1.9&&g.inDocument(this.get("element"))){p=this.CSS_CLASS_NAME;this.removeClass(p);i.later(0,this,this.addClass,p)}},_setTabIndex:function(n){this._button.tabIndex=n},_setTitle:function(o){var n=o;if(this.get("type")!="link"){if(!n){switch(this.get("type")){case"radio":n=this.RADIO_DEFAULT_TITLE;break;case"checkbox":n=this.CHECKBOX_DEFAULT_TITLE;break;case"menu":n="";break;case"split":n=this.SPLITBUTTON_DEFAULT_TITLE;break;case"submit":n=this.SUBMIT_TITLE;break}}if(n){this._button.title=n}}},_setDisabled:function(n){if(this.get("type")!="link"){if(n){if(this._menu){this._menu.hide()}if(this.hasFocus()){this.blur()}this._button.setAttribute("disabled","disabled");this.addStateCSSClasses("disabled");this.removeStateCSSClasses("hover");this.removeStateCSSClasses("active");this.removeStateCSSClasses("focus")}else{this._button.removeAttribute("disabled");this.removeStateCSSClasses("disabled")}}},_setHref:function(n){if(this.get("type")=="link"){this._button.href=n}},_setTarget:function(n){if(this.get("type")=="link"){this._button.setAttribute("target",n)}},_setChecked:function(o){var p=this.get("type"),n;if(p=="checkbox"||p=="radio"){if(o){this.addStateCSSClasses("checked");n=(p=="radio")?this.RADIO_CHECKED_TITLE:this.CHECKBOX_CHECKED_TITLE}else{this.removeStateCSSClasses("checked");n=(p=="radio")?this.RADIO_DEFAULT_TITLE:this.CHECKBOX_DEFAULT_TITLE}if(!this._hasDefaultTitle){this.set("title",n)}}},_setMenu:function(u){var p=this.get("lazyloadmenu"),r=this.get("element"),n,w=false,x,o,q;function v(){x.render(r.parentNode);this.removeListener("appendTo",v)}function t(){x.cfg.queueProperty("container",r.parentNode);this.removeListener("appendTo",t)}function s(){var y;if(x){g.addClass(x.element,this.get("menuclassname"));g.addClass(x.element,"yui-"+this.get("type")+"-button-menu");x.showEvent.subscribe(this._onMenuShow,null,this);x.hideEvent.subscribe(this._onMenuHide,null,this);x.renderEvent.subscribe(this._onMenuRender,null,this);if(j&&x instanceof j){if(p){y=this.get("container");if(y){x.cfg.queueProperty("container",y)}else{this.on("appendTo",t)}}x.cfg.queueProperty("clicktohide",false);x.keyDownEvent.subscribe(this._onMenuKeyDown,this,true);x.subscribe("click",this._onMenuClick,this,true);this.on("selectedMenuItemChange",this._onSelectedMenuItemChange);q=x.srcElement;if(q&&q.nodeName.toUpperCase()=="SELECT"){q.style.display="none";q.parentNode.removeChild(q)}}else{if(b&&x instanceof b){if(!k){k=new YAHOO.widget.OverlayManager()}k.register(x)}}this._menu=x;if(!w&&!p){if(g.inDocument(r)){x.render(r.parentNode)}else{this.on("appendTo",v)}}}}if(b){if(j){n=j.prototype.CSS_CLASS_NAME}if(u&&j&&(u instanceof j)){x=u;w=true;s.call(this)}else{if(b&&u&&(u instanceof b)){x=u;w=true;x.cfg.queueProperty("visible",false);s.call(this)}else{if(j&&i.isArray(u)){x=new j(g.generateId(),{lazyload:p,itemdata:u});this._menu=x;this.on("appendTo",s)}else{if(i.isString(u)){o=g.get(u);if(o){if(j&&g.hasClass(o,n)||o.nodeName.toUpperCase()=="SELECT"){x=new j(u,{lazyload:p});s.call(this)}else{if(b){x=new b(u,{visible:false});s.call(this)}}}}else{if(u&&u.nodeName){if(j&&g.hasClass(u,n)||u.nodeName.toUpperCase()=="SELECT"){x=new j(u,{lazyload:p});s.call(this)}else{if(b){if(!u.id){g.generateId(u)}x=new b(u,{visible:false});s.call(this)}}}}}}}}},_setOnClick:function(n){if(this._onclickAttributeValue&&(this._onclickAttributeValue!=n)){this.removeListener("click",this._onclickAttributeValue.fn);this._onclickAttributeValue=null}if(!this._onclickAttributeValue&&i.isObject(n)&&i.isFunction(n.fn)){this.on("click",n.fn,n.obj,n.scope);this._onclickAttributeValue=n}},_isActivationKey:function(n){var s=this.get("type"),o=(s=="checkbox"||s=="radio")?this.CHECK_ACTIVATION_KEYS:this.ACTIVATION_KEYS,q=o.length,r=false,p;if(q>0){p=q-1;do{if(n==o[p]){r=true;break}}while(p--)}return r},_isSplitButtonOptionKey:function(p){var o=(m.getCharCode(p)==40);var n=function(q){m.preventDefault(q);this.removeListener("keypress",n)};if(o){if(l.opera){this.on("keypress",n)}m.preventDefault(p)}return o},_addListenersToForm:function(){var t=this.getForm(),s=YAHOO.widget.Button.onFormKeyPress,r,n,q,p,o;if(t){m.on(t,"reset",this._onFormReset,null,this);m.on(t,"submit",this._onFormSubmit,null,this);n=this.get("srcelement");if(this.get("type")=="submit"||(n&&n.type=="submit")){q=m.getListeners(t,"keypress");r=false;if(q){p=q.length;if(p>0){o=p-1;do{if(q[o].fn==s){r=true;break}}while(o--)}}if(!r){m.on(t,"keypress",s)}}}},_showMenu:function(r){if(YAHOO.widget.MenuManager){YAHOO.widget.MenuManager.hideVisible()}if(k){k.hideAll()}var n=this._menu,q=this.get("menualignment"),p=this.get("focusmenu"),o;if(this._renderedMenu){n.cfg.setProperty("context",[this.get("element"),q[0],q[1]]);n.cfg.setProperty("preventcontextoverlap",true);n.cfg.setProperty("constraintoviewport",true)}else{n.cfg.queueProperty("context",[this.get("element"),q[0],q[1]]);n.cfg.queueProperty("preventcontextoverlap",true);n.cfg.queueProperty("constraintoviewport",true)}this.focus();if(j&&n&&(n instanceof j)){o=n.focus;n.focus=function(){};if(this._renderedMenu){n.cfg.setProperty("minscrollheight",this.get("menuminscrollheight"));n.cfg.setProperty("maxheight",this.get("menumaxheight"))}else{n.cfg.queueProperty("minscrollheight",this.get("menuminscrollheight"));n.cfg.queueProperty("maxheight",this.get("menumaxheight"))}n.show();n.focus=o;n.align();if(r.type=="mousedown"){m.stopPropagation(r)}if(p){n.focus()}}else{if(b&&n&&(n instanceof b)){if(!this._renderedMenu){n.render(this.get("element").parentNode)}n.show();n.align()}}},_hideMenu:function(){var n=this._menu;if(n){n.hide()}},_onMouseOver:function(o){var q=this.get("type"),n,p;if(q==="split"){n=this.get("element");p=(g.getX(n)+(n.offsetWidth-this.OPTION_AREA_WIDTH));this._nOptionRegionX=p}if(!this._hasMouseEventHandlers){if(q==="split"){this.on("mousemove",this._onMouseMove)}this.on("mouseout",this._onMouseOut);this._hasMouseEventHandlers=true}this.addStateCSSClasses("hover");if(q==="split"&&(m.getPageX(o)>p)){this.addStateCSSClasses("hoveroption")}if(this._activationButtonPressed){this.addStateCSSClasses("active")}if(this._bOptionPressed){this.addStateCSSClasses("activeoption")}if(this._activationButtonPressed||this._bOptionPressed){m.removeListener(document,"mouseup",this._onDocumentMouseUp)}},_onMouseMove:function(n){var o=this._nOptionRegionX;if(o){if(m.getPageX(n)>o){this.addStateCSSClasses("hoveroption")}else{this.removeStateCSSClasses("hoveroption")}}},_onMouseOut:function(n){var o=this.get("type");this.removeStateCSSClasses("hover");if(o!="menu"){this.removeStateCSSClasses("active")}if(this._activationButtonPressed||this._bOptionPressed){m.on(document,"mouseup",this._onDocumentMouseUp,null,this)}if(o==="split"&&(m.getPageX(n)>this._nOptionRegionX)){this.removeStateCSSClasses("hoveroption")}},_onDocumentMouseUp:function(p){this._activationButtonPressed=false;this._bOptionPressed=false;var q=this.get("type"),n,o;if(q=="menu"||q=="split"){n=m.getTarget(p);o=this._menu.element;if(n!=o&&!g.isAncestor(o,n)){this.removeStateCSSClasses((q=="menu"?"active":"activeoption"));this._hideMenu()}}m.removeListener(document,"mouseup",this._onDocumentMouseUp)},_onMouseDown:function(p){var q,o=true;function n(){this._hideMenu();this.removeListener("mouseup",n)}if((p.which||p.button)==1){if(!this.hasFocus()){this.focus()}q=this.get("type");if(q=="split"){if(m.getPageX(p)>this._nOptionRegionX){this.fireEvent("option",p);o=false}else{this.addStateCSSClasses("active");this._activationButtonPressed=true}}else{if(q=="menu"){if(this.isActive()){this._hideMenu();this._activationButtonPressed=false}else{this._showMenu(p);this._activationButtonPressed=true}}else{this.addStateCSSClasses("active");this._activationButtonPressed=true}}if(q=="split"||q=="menu"){this._hideMenuTimer=i.later(250,this,this.on,["mouseup",n])}}return o},_onMouseUp:function(p){var q=this.get("type"),n=this._hideMenuTimer,o=true;if(n){n.cancel()}if(q=="checkbox"||q=="radio"){this.set("checked",!(this.get("checked")))}this._activationButtonPressed=false;if(q!="menu"){this.removeStateCSSClasses("active")}if(q=="split"&&m.getPageX(p)>this._nOptionRegionX){o=false}return o},_onFocus:function(o){var n;this.addStateCSSClasses("focus");if(this._activationKeyPressed){this.addStateCSSClasses("active")}c=this;if(!this._hasKeyEventHandlers){n=this._button;m.on(n,"blur",this._onBlur,null,this);m.on(n,"keydown",this._onKeyDown,null,this);m.on(n,"keyup",this._onKeyUp,null,this);this._hasKeyEventHandlers=true}this.fireEvent("focus",o)},_onBlur:function(n){this.removeStateCSSClasses("focus");if(this.get("type")!="menu"){this.removeStateCSSClasses("active")}if(this._activationKeyPressed){m.on(document,"keyup",this._onDocumentKeyUp,null,this)}c=null;this.fireEvent("blur",n)},_onDocumentKeyUp:function(n){if(this._isActivationKey(m.getCharCode(n))){this._activationKeyPressed=false;m.removeListener(document,"keyup",this._onDocumentKeyUp)}},_onKeyDown:function(o){var n=this._menu;if(this.get("type")=="split"&&this._isSplitButtonOptionKey(o)){this.fireEvent("option",o)}else{if(this._isActivationKey(m.getCharCode(o))){if(this.get("type")=="menu"){this._showMenu(o)}else{this._activationKeyPressed=true;this.addStateCSSClasses("active")}}}if(n&&n.cfg.getProperty("visible")&&m.getCharCode(o)==27){n.hide();this.focus()}},_onKeyUp:function(n){var o;if(this._isActivationKey(m.getCharCode(n))){o=this.get("type");if(o=="checkbox"||o=="radio"){this.set("checked",!(this.get("checked")))}this._activationKeyPressed=false;if(this.get("type")!="menu"){this.removeStateCSSClasses("active")}}},_onClick:function(q){var s=this.get("type"),n,r,o,p;switch(s){case"radio":case"checkbox":if(!this._hasDefaultTitle){if(this.get("checked")){n=(s=="radio")?this.RADIO_CHECKED_TITLE:this.CHECKBOX_CHECKED_TITLE}else{n=(s=="radio")?this.RADIO_DEFAULT_TITLE:this.CHECKBOX_DEFAULT_TITLE}this.set("title",n)}break;case"submit":if(q.returnValue!==false){this.submitForm()}break;case"reset":r=this.getForm();if(r){r.reset()}break;case"menu":break;case"split":if(this._nOptionRegionX>0&&(m.getPageX(q)>this._nOptionRegionX)){p=false}else{this._hideMenu();o=this.get("srcelement");if(o&&o.type=="submit"&&q.returnValue!==false){this.submitForm()}}n=this._menu.cfg.getProperty("visible")?this.SPLITBUTTON_OPTION_VISIBLE_TITLE:this.SPLITBUTTON_DEFAULT_TITLE;this.set("title",n);break}return p},_onDblClick:function(o){var n=true;if(this.get("type")=="split"&&m.getPageX(o)>this._nOptionRegionX){n=false}return n},_onAppendTo:function(n){i.later(0,this,this._addListenersToForm)},_onFormReset:function(o){var p=this.get("type"),n=this._menu;if(p=="checkbox"||p=="radio"){this.resetValue("checked")}if(j&&n&&(n instanceof j)){this.resetValue("selectedMenuItem")}},_onFormSubmit:function(n){this.createHiddenFields()},_onDocumentMouseDown:function(q){var n=m.getTarget(q),p=this.get("element"),o=this._menu.element;if(n!=p&&!g.isAncestor(p,n)&&n!=o&&!g.isAncestor(o,n)){this._hideMenu();m.removeListener(document,"mousedown",this._onDocumentMouseDown)}},_onOption:function(n){if(this.hasClass("yui-split-button-activeoption")){this._hideMenu();this._bOptionPressed=false}else{this._showMenu(n);this._bOptionPressed=true}},_onMenuShow:function(o){m.on(document,"mousedown",this._onDocumentMouseDown,null,this);var n,p;if(this.get("type")=="split"){n=this.SPLITBUTTON_OPTION_VISIBLE_TITLE;p="activeoption";this.set("title",n)}else{p="active"}this.addStateCSSClasses(p)},_onMenuHide:function(p){var o=this._menu,n,q;if(this.get("type")=="split"){n=this.SPLITBUTTON_DEFAULT_TITLE;q="activeoption";this.set("title",n)}else{q="active"}this.removeStateCSSClasses(q);if(this.get("type")=="split"){this._bOptionPressed=false}},_onMenuKeyDown:function(p,o){var n=o[0];if(m.getCharCode(n)==27){this.focus();if(this.get("type")=="split"){this._bOptionPressed=false}}},_onMenuRender:function(p){var s=this.get("element"),o=s.parentNode,n=this._menu,r=n.element,q=n.srcElement;if(o!=r.parentNode){o.appendChild(r)}this._renderedMenu=true;if(q&&q.nodeName.toLowerCase()==="select"&&q.value){this.set("selectedMenuItem",n.getItem(q.selectedIndex))}},_onMenuClick:function(o,n){var q=n[1],p;if(q){this.set("selectedMenuItem",q);p=this.get("srcelement");if(p&&p.type=="submit"){this.submitForm()}this._hideMenu()}},_onSelectedMenuItemChange:function(n){var o=n.prevValue,p=n.newValue;if(o){g.removeClass(o.element,"yui-button-selectedmenuitem")}if(p){g.addClass(p.element,"yui-button-selectedmenuitem")}},createButtonElement:function(n){var p=this.NODE_NAME,o=document.createElement(p);o.innerHTML="<"+p+' class="first-child">'+(n=="link"?"<a></a>":'<button type="button"></button>')+"</"+p+">";return o},addStateCSSClasses:function(n){var o=this.get("type");if(i.isString(n)){if(n!="activeoption"&&n!="hoveroption"){this.addClass(this.CSS_CLASS_NAME+("-"+n))}this.addClass("yui-"+o+("-button-"+n))}},removeStateCSSClasses:function(n){var o=this.get("type");if(i.isString(n)){this.removeClass(this.CSS_CLASS_NAME+("-"+n));this.removeClass("yui-"+o+("-button-"+n))}},createHiddenFields:function(){this.removeHiddenFields();var v=this.getForm(),z,o,s,x,y,t,u,n,r,w,p,q=false;if(v&&!this.get("disabled")){o=this.get("type");s=(o=="checkbox"||o=="radio");if((s&&this.get("checked"))||(e==this)){z=f((s?o:"hidden"),this.get("name"),this.get("value"),this.get("checked"));if(z){if(s){z.style.display="none"}v.appendChild(z)}}x=this._menu;if(j&&x&&(x instanceof j)){y=this.get("selectedMenuItem");p=x.srcElement;q=(p&&p.nodeName.toUpperCase()=="SELECT");if(y){u=(y.value===null||y.value==="")?y.cfg.getProperty("text"):y.value;t=this.get("name");if(q){w=p.name}else{if(t){w=(t+"_options")}}if(u&&w){n=f("hidden",w,u);v.appendChild(n)}}else{if(q){v.appendChild(p)}}}if(z&&n){this._hiddenFields=[z,n]}else{if(!z&&n){this._hiddenFields=n}else{if(z&&!n){this._hiddenFields=z}}}r=this._hiddenFields}return r},removeHiddenFields:function(){var q=this._hiddenFields,o,p;function n(r){if(g.inDocument(r)){r.parentNode.removeChild(r)}}if(q){if(i.isArray(q)){o=q.length;if(o>0){p=o-1;do{n(q[p])}while(p--)}}else{n(q)}this._hiddenFields=null}},submitForm:function(){var q=this.getForm(),p=this.get("srcelement"),o=false,n;if(q){if(this.get("type")=="submit"||(p&&p.type=="submit")){e=this}if(l.ie){o=q.fireEvent("onsubmit")}else{n=document.createEvent("HTMLEvents");n.initEvent("submit",true,true);o=q.dispatchEvent(n)}if((l.ie||l.webkit)&&o){q.submit()}}return o},init:function(o,A){var q=A.type=="link"?"a":"button",v=A.srcelement,z=o.getElementsByTagName(q)[0],x;if(!z){x=o.getElementsByTagName("input")[0];if(x){z=document.createElement("button");z.setAttribute("type","button");x.parentNode.replaceChild(z,x)}}this._button=z;this._hasDefaultTitle=(A.title&&A.title.length>0);YAHOO.widget.Button.superclass.init.call(this,o,A);var t=this.get("id"),n=t+"-button";z.id=n;var u,w;var D=function(E){return(E.htmlFor===t)};var s=function(){w.setAttribute((l.ie?"htmlFor":"for"),n)};if(v&&this.get("type")!="link"){u=g.getElementsBy(D,"label");if(i.isArray(u)&&u.length>0){w=u[0]}}d[t]=this;this.addClass(this.CSS_CLASS_NAME);this.addClass("yui-"+this.get("type")+"-button");m.on(this._button,"focus",this._onFocus,null,this);this.on("mouseover",this._onMouseOver);this.on("mousedown",this._onMouseDown);this.on("mouseup",this._onMouseUp);this.on("click",this._onClick);var y=this.get("onclick");this.set("onclick",null);this.set("onclick",y);this.on("dblclick",this._onDblClick);if(w){this.on("appendTo",s)}this.on("appendTo",this._onAppendTo);var C=this.get("container"),p=this.get("element"),B=g.inDocument(p),r;if(C){if(v&&v!=p){r=v.parentNode;if(r){r.removeChild(v)}}if(i.isString(C)){m.onContentReady(C,this.appendTo,C,this)}else{this.on("init",function(){i.later(0,this,this.appendTo,C)})}}else{if(!B&&v&&v!=p){r=v.parentNode;if(r){this.fireEvent("beforeAppendTo",{type:"beforeAppendTo",target:r});r.replaceChild(p,v);this.fireEvent("appendTo",{type:"appendTo",target:r})}}else{if(this.get("type")!="link"&&B&&v&&v==p){this._addListenersToForm()}}}this.fireEvent("init",{type:"init",target:this})},initAttributes:function(o){var n=o||{};YAHOO.widget.Button.superclass.initAttributes.call(this,n);this.setAttributeConfig("type",{value:(n.type||"push"),validator:i.isString,writeOnce:true,method:this._setType});this.setAttributeConfig("label",{value:n.label,validator:i.isString,method:this._setLabel});this.setAttributeConfig("value",{value:n.value});this.setAttributeConfig("name",{value:n.name,validator:i.isString});this.setAttributeConfig("tabindex",{value:n.tabindex,validator:i.isNumber,method:this._setTabIndex});this.configureAttribute("title",{value:n.title,validator:i.isString,method:this._setTitle});this.setAttributeConfig("disabled",{value:(n.disabled||false),validator:i.isBoolean,method:this._setDisabled});this.setAttributeConfig("href",{value:n.href,validator:i.isString,method:this._setHref});this.setAttributeConfig("target",{value:n.target,validator:i.isString,method:this._setTarget});this.setAttributeConfig("checked",{value:(n.checked||false),validator:i.isBoolean,method:this._setChecked});this.setAttributeConfig("container",{value:n.container,writeOnce:true});this.setAttributeConfig("srcelement",{value:n.srcelement,writeOnce:true});this.setAttributeConfig("menu",{value:null,method:this._setMenu,writeOnce:true});this.setAttributeConfig("lazyloadmenu",{value:(n.lazyloadmenu===false?false:true),validator:i.isBoolean,writeOnce:true});this.setAttributeConfig("menuclassname",{value:(n.menuclassname||"yui-button-menu"),validator:i.isString,method:this._setMenuClassName,writeOnce:true});this.setAttributeConfig("menuminscrollheight",{value:(n.menuminscrollheight||90),validator:i.isNumber});this.setAttributeConfig("menumaxheight",{value:(n.menumaxheight||0),validator:i.isNumber});this.setAttributeConfig("menualignment",{value:(n.menualignment||["tl","bl"]),validator:i.isArray});this.setAttributeConfig("selectedMenuItem",{value:null});this.setAttributeConfig("onclick",{value:n.onclick,method:this._setOnClick});this.setAttributeConfig("focusmenu",{value:(n.focusmenu===false?false:true),validator:i.isBoolean})},focus:function(){if(!this.get("disabled")){this._button.focus()}},blur:function(){if(!this.get("disabled")){this._button.blur()}},hasFocus:function(){return(c==this)},isActive:function(){return this.hasClass(this.CSS_CLASS_NAME+"-active")},getMenu:function(){return this._menu},getForm:function(){var n=this._button,o;if(n){o=n.form}return o},getHiddenFields:function(){return this._hiddenFields},destroy:function(){var p=this.get("element"),o=p.parentNode,n=this._menu,r;if(n){if(k&&k.find(n)){k.remove(n)}n.destroy()}m.purgeElement(p);m.purgeElement(this._button);m.removeListener(document,"mouseup",this._onDocumentMouseUp);m.removeListener(document,"keyup",this._onDocumentKeyUp);m.removeListener(document,"mousedown",this._onDocumentMouseDown);var q=this.getForm();if(q){m.removeListener(q,"reset",this._onFormReset);m.removeListener(q,"submit",this._onFormSubmit)}this.unsubscribeAll();if(o){o.removeChild(p)}delete d[this.get("id")];r=g.getElementsByClassName(this.CSS_CLASS_NAME,this.NODE_NAME,q);if(i.isArray(r)&&r.length===0){m.removeListener(q,"keypress",YAHOO.widget.Button.onFormKeyPress)}},fireEvent:function(o,n){var p=arguments[0];if(this.DOM_EVENTS[p]&&this.get("disabled")){return false}return YAHOO.widget.Button.superclass.fireEvent.apply(this,arguments)},toString:function(){return("Button "+this.get("id"))}});YAHOO.widget.Button.onFormKeyPress=function(r){var p=m.getTarget(r),s=m.getCharCode(r),q=p.nodeName&&p.nodeName.toUpperCase(),n=p.type,t=false,v,x,o,w;function u(A){var z,y;switch(A.nodeName.toUpperCase()){case"INPUT":case"BUTTON":if(A.type=="submit"&&!A.disabled){if(!t&&!o){o=A}}break;default:z=A.id;if(z){v=d[z];if(v){t=true;if(!v.get("disabled")){y=v.get("srcelement");if(!x&&(v.get("type")=="submit"||(y&&y.type=="submit"))){x=v}}}}break}}if(s==13&&((q=="INPUT"&&(n=="text"||n=="password"||n=="checkbox"||n=="radio"||n=="file"))||q=="SELECT")){g.getElementsBy(u,"*",this);if(o){o.focus()}else{if(!o&&x){m.preventDefault(r);if(l.ie){x.get("element").fireEvent("onclick")}else{w=document.createEvent("HTMLEvents");w.initEvent("click",true,true);if(l.gecko<1.9){x.fireEvent("click",w)}else{x.get("element").dispatchEvent(w)}}}}}};YAHOO.widget.Button.addHiddenFieldsToForm=function(n){var s=g.getElementsByClassName(YAHOO.widget.Button.prototype.CSS_CLASS_NAME,"*",n),q=s.length,r,o,p;if(q>0){for(p=0;p<q;p++){o=s[p].id;if(o){r=d[o];if(r){r.createHiddenFields()}}}}};YAHOO.widget.Button.getButton=function(n){return d[n]}})();(function(){var c=YAHOO.util.Dom,b=YAHOO.util.Event,d=YAHOO.lang,a=YAHOO.widget.Button,e={};YAHOO.widget.ButtonGroup=function(j,h){var i=YAHOO.widget.ButtonGroup.superclass.constructor,k,g,f;if(arguments.length==1&&!d.isString(j)&&!j.nodeName){if(!j.id){f=c.generateId();j.id=f}i.call(this,(this._createGroupElement()),j)}else{if(d.isString(j)){g=c.get(j);if(g){if(g.nodeName.toUpperCase()==this.NODE_NAME){i.call(this,g,h)}}}else{k=j.nodeName.toUpperCase();if(k&&k==this.NODE_NAME){if(!j.id){j.id=c.generateId()}i.call(this,j,h)}}}};YAHOO.extend(YAHOO.widget.ButtonGroup,YAHOO.util.Element,{_buttons:null,NODE_NAME:"DIV",CSS_CLASS_NAME:"yui-buttongroup",_createGroupElement:function(){var f=document.createElement(this.NODE_NAME);return f},_setDisabled:function(g){var h=this.getCount(),f;if(h>0){f=h-1;do{this._buttons[f].set("disabled",g)}while(f--)}},_onKeyDown:function(k){var g=b.getTarget(k),i=b.getCharCode(k),h=g.parentNode.parentNode.id,j=e[h],f=-1;if(i==37||i==38){f=(j.index===0)?(this._buttons.length-1):(j.index-1)}else{if(i==39||i==40){f=(j.index===(this._buttons.length-1))?0:(j.index+1)}}if(f>-1){this.check(f);this.getButton(f).focus()}},_onAppendTo:function(h){var j=this._buttons,g=j.length,f;for(f=0;f<g;f++){j[f].appendTo(this.get("element"))}},_onButtonCheckedChange:function(g,f){var i=g.newValue,h=this.get("checkedButton");if(i&&h!=f){if(h){h.set("checked",false,true)}this.set("checkedButton",f);this.set("value",f.get("value"))}else{if(h&&!h.set("checked")){h.set("checked",true,true)}}},init:function(i,h){this._buttons=[];YAHOO.widget.ButtonGroup.superclass.init.call(this,i,h);this.addClass(this.CSS_CLASS_NAME);var j=this.getElementsByClassName("yui-radio-button");if(j.length>0){this.addButtons(j)}function f(k){return(k.type=="radio")}j=c.getElementsBy(f,"input",this.get("element"));if(j.length>0){this.addButtons(j)}this.on("keydown",this._onKeyDown);this.on("appendTo",this._onAppendTo);var g=this.get("container");if(g){if(d.isString(g)){b.onContentReady(g,function(){this.appendTo(g)},null,this)}else{this.appendTo(g)}}},initAttributes:function(g){var f=g||{};YAHOO.widget.ButtonGroup.superclass.initAttributes.call(this,f);this.setAttributeConfig("name",{value:f.name,validator:d.isString});this.setAttributeConfig("disabled",{value:(f.disabled||false),validator:d.isBoolean,method:this._setDisabled});this.setAttributeConfig("value",{value:f.value});this.setAttributeConfig("container",{value:f.container,writeOnce:true});this.setAttributeConfig("checkedButton",{value:null})},addButton:function(j){var l,k,g,f,h,i;if(j instanceof a&&j.get("type")=="radio"){l=j}else{if(!d.isString(j)&&!j.nodeName){j.type="radio";l=new a(j)}else{l=new a(j,{type:"radio"})}}if(l){f=this._buttons.length;h=l.get("name");i=this.get("name");l.index=f;this._buttons[f]=l;e[l.get("id")]=l;if(h!=i){l.set("name",i)}if(this.get("disabled")){l.set("disabled",true)}if(l.get("checked")){this.set("checkedButton",l)}k=l.get("element");g=this.get("element");if(k.parentNode!=g){g.appendChild(k)}l.on("checkedChange",this._onButtonCheckedChange,l,this)}return l},addButtons:function(g){var h,j,k,f;if(d.isArray(g)){h=g.length;k=[];if(h>0){for(f=0;f<h;f++){j=this.addButton(g[f]);if(j){k[k.length]=j}}}}return k},removeButton:function(h){var j=this.getButton(h),g,f;if(j){this._buttons.splice(h,1);delete e[j.get("id")];j.removeListener("checkedChange",this._onButtonCheckedChange);j.destroy();g=this._buttons.length;if(g>0){f=this._buttons.length-1;do{this._buttons[f].index=f}while(f--)}}},getButton:function(f){return this._buttons[f]},getButtons:function(){return this._buttons},getCount:function(){return this._buttons.length},focus:function(h){var j,g,f;if(d.isNumber(h)){j=this._buttons[h];if(j){j.focus()}}else{g=this.getCount();for(f=0;f<g;f++){j=this._buttons[f];if(!j.get("disabled")){j.focus();break}}}},check:function(f){var g=this.getButton(f);if(g){g.set("checked",true)}},destroy:function(){var j=this._buttons.length,h=this.get("element"),f=h.parentNode,g;if(j>0){g=this._buttons.length-1;do{this._buttons[g].destroy()}while(g--)}b.purgeElement(h);f.removeChild(h)},toString:function(){return("ButtonGroup "+this.get("id"))}})})();YAHOO.register("button",YAHOO.widget.Button,{version:"2.7.0",build:"1799"});(function(){var b=YAHOO.util.Dom,a=YAHOO.util.Event,c=YAHOO.lang;if(YAHOO.widget.Button){YAHOO.widget.ToolbarButtonAdvanced=YAHOO.widget.Button;YAHOO.widget.ToolbarButtonAdvanced.prototype.buttonType="rich";YAHOO.widget.ToolbarButtonAdvanced.prototype.checkedValue=null;YAHOO.widget.ToolbarButtonAdvanced.prototype.checkValue=function(f){if(!this.checkedValue||f!=this.checkedValue){this.checkedValue=f;var e=this.getMenu().getItems();if(e.length===0){this.getMenu()._onBeforeShow();e=this.getMenu().getItems()}for(var d=0;d<e.length;d++){if(e[d].value==f){e[d].cfg.setProperty("checked",true)}else{e[d].cfg.setProperty("checked",false)}}}}}else{YAHOO.widget.ToolbarButtonAdvanced=function(){}}YAHOO.widget.ToolbarButton=function(e,d){if(c.isObject(arguments[0])&&!b.get(e).nodeType){d=e}var g=(d||{});var f={element:null,attributes:g};if(!f.attributes.type){f.attributes.type="push"}f.element=document.createElement("span");f.element.setAttribute("unselectable","on");f.element.className="yui-button yui-"+f.attributes.type+"-button";f.element.innerHTML='<span class="first-child"><a href="#">LABEL</a></span>';f.element.firstChild.firstChild.tabIndex="-1";f.attributes.id=(f.attributes.id||b.generateId());f.element.id=f.attributes.id;YAHOO.widget.ToolbarButton.superclass.constructor.call(this,f.element,f.attributes)};YAHOO.extend(YAHOO.widget.ToolbarButton,YAHOO.util.Element,{buttonType:"normal",_handleMouseOver:function(){if(!this.get("disabled")){this.addClass("yui-button-hover");this.addClass("yui-"+this.get("type")+"-button-hover")}},_handleMouseOut:function(){this.removeClass("yui-button-hover");this.removeClass("yui-"+this.get("type")+"-button-hover")},checkValue:function(f){if(this.get("type")=="menu"){var e=this._button.options;for(var d=0;d<e.length;d++){if(e[d].value==f){e.selectedIndex=d}}}},init:function(e,d){YAHOO.widget.ToolbarButton.superclass.init.call(this,e,d);this.on("mouseover",this._handleMouseOver,this,true);this.on("mouseout",this._handleMouseOut,this,true);this.on("click",function(f){a.stopEvent(f);return false},this,true)},initAttributes:function(d){YAHOO.widget.ToolbarButton.superclass.initAttributes.call(this,d);this.setAttributeConfig("value",{value:d.value});this.setAttributeConfig("menu",{value:d.menu||false});this.setAttributeConfig("type",{value:d.type,writeOnce:true,method:function(h){var g,f;if(!this._button){this._button=this.get("element").getElementsByTagName("a")[0]}switch(h){case"select":case"menu":g=document.createElement("select");g.id=this.get("id");var j=this.get("menu");for(var e=0;e<j.length;e++){f=document.createElement("option");f.innerHTML=j[e].text;f.value=j[e].value;if(j[e].checked){f.selected=true}g.appendChild(f)}this._button.parentNode.replaceChild(g,this._button);a.on(g,"change",this._handleSelect,this,true);this._button=g;break}}});this.setAttributeConfig("disabled",{value:d.disabled||false,method:function(e){if(e){this.addClass("yui-button-disabled");this.addClass("yui-"+this.get("type")+"-button-disabled")}else{this.removeClass("yui-button-disabled");this.removeClass("yui-"+this.get("type")+"-button-disabled")}if((this.get("type")=="menu")||(this.get("type")=="select")){this._button.disabled=e}}});this.setAttributeConfig("label",{value:d.label,method:function(e){if(!this._button){this._button=this.get("element").getElementsByTagName("a")[0]}if(this.get("type")=="push"){this._button.innerHTML=e}}});this.setAttributeConfig("title",{value:d.title});this.setAttributeConfig("container",{value:null,writeOnce:true,method:function(e){this.appendTo(e)}})},_handleSelect:function(e){var d=a.getTarget(e);var f=d.options[d.selectedIndex].value;this.fireEvent("change",{type:"change",value:f})},getMenu:function(){return this.get("menu")},destroy:function(){a.purgeElement(this.get("element"),true);this.get("element").parentNode.removeChild(this.get("element"));for(var d in this){if(c.hasOwnProperty(this,d)){this[d]=null}}},fireEvent:function(e,d){if(this.DOM_EVENTS[e]&&this.get("disabled")){a.stopEvent(d);return}YAHOO.widget.ToolbarButton.superclass.fireEvent.call(this,e,d)},toString:function(){return"ToolbarButton ("+this.get("id")+")"}})})();(function(){var c=YAHOO.util.Dom,a=YAHOO.util.Event,d=YAHOO.lang;var b=function(f){var e=f;if(d.isString(f)){e=this.getButtonById(f)}if(d.isNumber(f)){e=this.getButtonByIndex(f)}if((!(e instanceof YAHOO.widget.ToolbarButton))&&(!(e instanceof YAHOO.widget.ToolbarButtonAdvanced))){e=this.getButtonByValue(f)}if((e instanceof YAHOO.widget.ToolbarButton)||(e instanceof YAHOO.widget.ToolbarButtonAdvanced)){return e}return false};YAHOO.widget.Toolbar=function(i,h){if(d.isObject(arguments[0])&&!c.get(i).nodeType){h=i}var k={};if(h){d.augmentObject(k,h)}var j={element:null,attributes:k};if(d.isString(i)&&c.get(i)){j.element=c.get(i)}else{if(d.isObject(i)&&c.get(i)&&c.get(i).nodeType){j.element=c.get(i)}}if(!j.element){j.element=document.createElement("DIV");j.element.id=c.generateId();if(k.container&&c.get(k.container)){c.get(k.container).appendChild(j.element)}}if(!j.element.id){j.element.id=((d.isString(i))?i:c.generateId())}var f=document.createElement("fieldset");var g=document.createElement("legend");g.innerHTML="Toolbar";f.appendChild(g);var e=document.createElement("DIV");j.attributes.cont=e;c.addClass(e,"yui-toolbar-subcont");f.appendChild(e);j.element.appendChild(f);j.element.tabIndex=-1;j.attributes.element=j.element;j.attributes.id=j.element.id;YAHOO.widget.Toolbar.superclass.constructor.call(this,j.element,j.attributes)};YAHOO.extend(YAHOO.widget.Toolbar,YAHOO.util.Element,{_addMenuClasses:function(h,e,j){c.addClass(this.element,"yui-toolbar-"+j.get("value")+"-menu");if(c.hasClass(j._button.parentNode.parentNode,"yui-toolbar-select")){c.addClass(this.element,"yui-toolbar-select-menu")}var f=this.getItems();for(var g=0;g<f.length;g++){c.addClass(f[g].element,"yui-toolbar-"+j.get("value")+"-"+((f[g].value)?f[g].value.replace(/ /g,"-").toLowerCase():f[g]._oText.nodeValue.replace(/ /g,"-").toLowerCase()));c.addClass(f[g].element,"yui-toolbar-"+j.get("value")+"-"+((f[g].value)?f[g].value.replace(/ /g,"-"):f[g]._oText.nodeValue.replace(/ /g,"-")));if(f[g].element.firstChild){c.addClass(f[g].element.firstChild,"yui-toolbar-"+j.get("value")+"-"+((f[g].value)?f[g].value.replace(/ /g,"-").toLowerCase():f[g]._oText.nodeValue.replace(/ /g,"-").toLowerCase()));c.addClass(f[g].element.firstChild,"yui-toolbar-"+j.get("value")+"-"+((f[g].value)?f[g].value.replace(/ /g,"-"):f[g]._oText.nodeValue.replace(/ /g,"-")))}}},buttonType:YAHOO.widget.ToolbarButton,dd:null,_rtl:false,_colorData:{"#111111":"Obsidian","#2D2D2D":"Dark Gray","#434343":"Shale","#5B5B5B":"Flint","#737373":"Gray","#8B8B8B":"Concrete","#A2A2A2":"Gray","#B9B9B9":"Titanium","#000000":"Black","#D0D0D0":"Light Gray","#E6E6E6":"Silver","#FFFFFF":"White","#BFBF00":"Pumpkin","#FFFF00":"Yellow","#FFFF40":"Banana","#FFFF80":"Pale Yellow","#FFFFBF":"Butter","#525330":"Raw Siena","#898A49":"Mildew","#AEA945":"Olive","#7F7F00":"Paprika","#C3BE71":"Earth","#E0DCAA":"Khaki","#FCFAE1":"Cream","#60BF00":"Cactus","#80FF00":"Chartreuse","#A0FF40":"Green","#C0FF80":"Pale Lime","#DFFFBF":"Light Mint","#3B5738":"Green","#668F5A":"Lime Gray","#7F9757":"Yellow","#407F00":"Clover","#8A9B55":"Pistachio","#B7C296":"Light Jade","#E6EBD5":"Breakwater","#00BF00":"Spring Frost","#00FF80":"Pastel Green","#40FFA0":"Light Emerald","#80FFC0":"Sea Foam","#BFFFDF":"Sea Mist","#033D21":"Dark Forrest","#438059":"Moss","#7FA37C":"Medium Green","#007F40":"Pine","#8DAE94":"Yellow Gray Green","#ACC6B5":"Aqua Lung","#DDEBE2":"Sea Vapor","#00BFBF":"Fog","#00FFFF":"Cyan","#40FFFF":"Turquoise Blue","#80FFFF":"Light Aqua","#BFFFFF":"Pale Cyan","#033D3D":"Dark Teal","#347D7E":"Gray Turquoise","#609A9F":"Green Blue","#007F7F":"Seaweed","#96BDC4":"Green Gray","#B5D1D7":"Soapstone","#E2F1F4":"Light Turquoise","#0060BF":"Summer Sky","#0080FF":"Sky Blue","#40A0FF":"Electric Blue","#80C0FF":"Light Azure","#BFDFFF":"Ice Blue","#1B2C48":"Navy","#385376":"Biscay","#57708F":"Dusty Blue","#00407F":"Sea Blue","#7792AC":"Sky Blue Gray","#A8BED1":"Morning Sky","#DEEBF6":"Vapor","#0000BF":"Deep Blue","#0000FF":"Blue","#4040FF":"Cerulean Blue","#8080FF":"Evening Blue","#BFBFFF":"Light Blue","#212143":"Deep Indigo","#373E68":"Sea Blue","#444F75":"Night Blue","#00007F":"Indigo Blue","#585E82":"Dockside","#8687A4":"Blue Gray","#D2D1E1":"Light Blue Gray","#6000BF":"Neon Violet","#8000FF":"Blue Violet","#A040FF":"Violet Purple","#C080FF":"Violet Dusk","#DFBFFF":"Pale Lavender","#302449":"Cool Shale","#54466F":"Dark Indigo","#655A7F":"Dark Violet","#40007F":"Violet","#726284":"Smoky Violet","#9E8FA9":"Slate Gray","#DCD1DF":"Violet White","#BF00BF":"Royal Violet","#FF00FF":"Fuchsia","#FF40FF":"Magenta","#FF80FF":"Orchid","#FFBFFF":"Pale Magenta","#4A234A":"Dark Purple","#794A72":"Medium Purple","#936386":"Cool Granite","#7F007F":"Purple","#9D7292":"Purple Moon","#C0A0B6":"Pale Purple","#ECDAE5":"Pink Cloud","#BF005F":"Hot Pink","#FF007F":"Deep Pink","#FF409F":"Grape","#FF80BF":"Electric Pink","#FFBFDF":"Pink","#451528":"Purple Red","#823857":"Purple Dino","#A94A76":"Purple Gray","#7F003F":"Rose","#BC6F95":"Antique Mauve","#D8A5BB":"Cool Marble","#F7DDE9":"Pink Granite","#C00000":"Apple","#FF0000":"Fire Truck","#FF4040":"Pale Red","#FF8080":"Salmon","#FFC0C0":"Warm Pink","#441415":"Sepia","#82393C":"Rust","#AA4D4E":"Brick","#800000":"Brick Red","#BC6E6E":"Mauve","#D8A3A4":"Shrimp Pink","#F8DDDD":"Shell Pink","#BF5F00":"Dark Orange","#FF7F00":"Orange","#FF9F40":"Grapefruit","#FFBF80":"Canteloupe","#FFDFBF":"Wax","#482C1B":"Dark Brick","#855A40":"Dirt","#B27C51":"Tan","#7F3F00":"Nutmeg","#C49B71":"Mustard","#E1C4A8":"Pale Tan","#FDEEE0":"Marble"},_colorPicker:null,STR_COLLAPSE:"Collapse Toolbar",STR_SPIN_LABEL:"Spin Button with value {VALUE}. Use Control Shift Up Arrow and Control Shift Down arrow keys to increase or decrease the value.",STR_SPIN_UP:"Click to increase the value of this input",STR_SPIN_DOWN:"Click to decrease the value of this input",_titlebar:null,browser:YAHOO.env.ua,_buttonList:null,_buttonGroupList:null,_sep:null,_sepCount:null,_dragHandle:null,_toolbarConfigs:{renderer:true},CLASS_CONTAINER:"yui-toolbar-container",CLASS_DRAGHANDLE:"yui-toolbar-draghandle",CLASS_SEPARATOR:"yui-toolbar-separator",CLASS_DISABLED:"yui-toolbar-disabled",CLASS_PREFIX:"yui-toolbar",init:function(f,e){YAHOO.widget.Toolbar.superclass.init.call(this,f,e)},initAttributes:function(e){YAHOO.widget.Toolbar.superclass.initAttributes.call(this,e);this.addClass(this.CLASS_CONTAINER);this.setAttributeConfig("buttonType",{value:e.buttonType||"basic",writeOnce:true,validator:function(f){switch(f){case"advanced":case"basic":return true}return false},method:function(f){if(f=="advanced"){if(YAHOO.widget.Button){this.buttonType=YAHOO.widget.ToolbarButtonAdvanced}else{this.buttonType=YAHOO.widget.ToolbarButton}}else{this.buttonType=YAHOO.widget.ToolbarButton}}});this.setAttributeConfig("buttons",{value:[],writeOnce:true,method:function(g){for(var f in g){if(d.hasOwnProperty(g,f)){if(g[f].type=="separator"){this.addSeparator()}else{if(g[f].group!==undefined){this.addButtonGroup(g[f])}else{this.addButton(g[f])}}}}}});this.setAttributeConfig("rtl",{value:e.rtl||this._rtl,writeOnce:true,method:function(f){this._rtl=f}});this.setAttributeConfig("disabled",{value:false,method:function(f){if(this.get("disabled")===f){return false}if(f){this.addClass(this.CLASS_DISABLED);this.set("draggable",false);this.disableAllButtons()}else{this.removeClass(this.CLASS_DISABLED);if(this._configs.draggable._initialConfig.value){this.set("draggable",true)}this.resetAllButtons()}}});this.setAttributeConfig("cont",{value:e.cont,readOnly:true});this.setAttributeConfig("grouplabels",{value:((e.grouplabels===false)?false:true),method:function(f){if(f){c.removeClass(this.get("cont"),(this.CLASS_PREFIX+"-nogrouplabels"))}else{c.addClass(this.get("cont"),(this.CLASS_PREFIX+"-nogrouplabels"))}}});this.setAttributeConfig("titlebar",{value:false,method:function(g){if(g){if(this._titlebar&&this._titlebar.parentNode){this._titlebar.parentNode.removeChild(this._titlebar)}this._titlebar=document.createElement("DIV");this._titlebar.tabIndex="-1";a.on(this._titlebar,"focus",function(){this._handleFocus()},this,true);c.addClass(this._titlebar,this.CLASS_PREFIX+"-titlebar");if(d.isString(g)){var f=document.createElement("h2");f.tabIndex="-1";f.innerHTML='<a href="#" tabIndex="0">'+g+"</a>";this._titlebar.appendChild(f);a.on(f.firstChild,"click",function(h){a.stopEvent(h)});a.on([f,f.firstChild],"focus",function(){this._handleFocus()},this,true)}if(this.get("firstChild")){this.insertBefore(this._titlebar,this.get("firstChild"))}else{this.appendChild(this._titlebar)}if(this.get("collapse")){this.set("collapse",true)}}else{if(this._titlebar){if(this._titlebar&&this._titlebar.parentNode){this._titlebar.parentNode.removeChild(this._titlebar)}}}}});this.setAttributeConfig("collapse",{value:false,method:function(h){if(this._titlebar){var g=null;var f=c.getElementsByClassName("collapse","span",this._titlebar);if(h){if(f.length>0){return true}g=document.createElement("SPAN");g.innerHTML="X";g.title=this.STR_COLLAPSE;c.addClass(g,"collapse");this._titlebar.appendChild(g);a.addListener(g,"click",function(){if(c.hasClass(this.get("cont").parentNode,"yui-toolbar-container-collapsed")){this.collapse(false)}else{this.collapse()}},this,true)}else{g=c.getElementsByClassName("collapse","span",this._titlebar);if(g[0]){if(c.hasClass(this.get("cont").parentNode,"yui-toolbar-container-collapsed")){this.collapse(false)}g[0].parentNode.removeChild(g[0])}}}}});this.setAttributeConfig("draggable",{value:(e.draggable||false),method:function(f){if(f&&!this.get("titlebar")){if(!this._dragHandle){this._dragHandle=document.createElement("SPAN");this._dragHandle.innerHTML="|";this._dragHandle.setAttribute("title","Click to drag the toolbar");this._dragHandle.id=this.get("id")+"_draghandle";c.addClass(this._dragHandle,this.CLASS_DRAGHANDLE);if(this.get("cont").hasChildNodes()){this.get("cont").insertBefore(this._dragHandle,this.get("cont").firstChild)}else{this.get("cont").appendChild(this._dragHandle)}this.dd=new YAHOO.util.DD(this.get("id"));this.dd.setHandleElId(this._dragHandle.id)}}else{if(this._dragHandle){this._dragHandle.parentNode.removeChild(this._dragHandle);this._dragHandle=null;this.dd=null}}if(this._titlebar){if(f){this.dd=new YAHOO.util.DD(this.get("id"));this.dd.setHandleElId(this._titlebar);c.addClass(this._titlebar,"draggable")}else{c.removeClass(this._titlebar,"draggable");if(this.dd){this.dd.unreg();this.dd=null}}}},validator:function(g){var f=true;if(!YAHOO.util.DD){f=false}return f}})},addButtonGroup:function(j){if(!this.get("element")){this._queue[this._queue.length]=["addButtonGroup",arguments];return false}if(!this.hasClass(this.CLASS_PREFIX+"-grouped")){this.addClass(this.CLASS_PREFIX+"-grouped")}var k=document.createElement("DIV");c.addClass(k,this.CLASS_PREFIX+"-group");c.addClass(k,this.CLASS_PREFIX+"-group-"+j.group);if(j.label){var f=document.createElement("h3");f.innerHTML=j.label;k.appendChild(f)}if(!this.get("grouplabels")){c.addClass(this.get("cont"),this.CLASS_PREFIX,"-nogrouplabels")}this.get("cont").appendChild(k);var h=document.createElement("ul");k.appendChild(h);if(!this._buttonGroupList){this._buttonGroupList={}}this._buttonGroupList[j.group]=h;for(var g=0;g<j.buttons.length;g++){var e=document.createElement("li");e.className=this.CLASS_PREFIX+"-groupitem";h.appendChild(e);if((j.buttons[g].type!==undefined)&&j.buttons[g].type=="separator"){this.addSeparator(e)}else{j.buttons[g].container=e;this.addButton(j.buttons[g])}}},addButtonToGroup:function(g,h,i){var f=this._buttonGroupList[h];var e=document.createElement("li");e.className=this.CLASS_PREFIX+"-groupitem";g.container=e;this.addButton(g,i);f.appendChild(e)},addButton:function(n,k){if(!this.get("element")){this._queue[this._queue.length]=["addButton",arguments];return false}if(!this._buttonList){this._buttonList=[]}if(!n.container){n.container=this.get("cont")}if((n.type=="menu")||(n.type=="split")||(n.type=="select")){if(d.isArray(n.menu)){for(var u in n.menu){if(d.hasOwnProperty(n.menu,u)){var A={fn:function(o,i,m){if(!n.menucmd){n.menucmd=n.value}n.value=((m.value)?m.value:m._oText.nodeValue)},scope:this};n.menu[u].onclick=A}}}}var v={},s=false;for(var q in n){if(d.hasOwnProperty(n,q)){if(!this._toolbarConfigs[q]){v[q]=n[q]}}}if(n.type=="select"){v.type="menu"}if(n.type=="spin"){v.type="push"}if(v.type=="color"){if(YAHOO.widget.Overlay){v=this._makeColorButton(v)}else{s=true}}if(v.menu){if((YAHOO.widget.Overlay)&&(n.menu instanceof YAHOO.widget.Overlay)){n.menu.showEvent.subscribe(function(){this._button=v})}else{for(var t=0;t<v.menu.length;t++){if(!v.menu[t].value){v.menu[t].value=v.menu[t].text}}if(this.browser.webkit){v.focusmenu=false}}}if(s){n=false}else{this._configs.buttons.value[this._configs.buttons.value.length]=n;var y=new this.buttonType(v);y.get("element").tabIndex="-1";y.get("element").setAttribute("role","button");y._selected=true;if(this.get("disabled")){y.set("disabled",true)}if(!n.id){n.id=y.get("id")}if(k){var g=y.get("element");var r=null;if(k.get){r=k.get("element").nextSibling}else{if(k.nextSibling){r=k.nextSibling}}if(r){r.parentNode.insertBefore(g,r)}}y.addClass(this.CLASS_PREFIX+"-"+y.get("value"));var x=document.createElement("span");x.className=this.CLASS_PREFIX+"-icon";y.get("element").insertBefore(x,y.get("firstChild"));if(y._button.tagName.toLowerCase()=="button"){y.get("element").setAttribute("unselectable","on");var z=document.createElement("a");z.innerHTML=y._button.innerHTML;z.href="#";z.tabIndex="-1";a.on(z,"click",function(i){a.stopEvent(i)});y._button.parentNode.replaceChild(z,y._button);y._button=z}if(n.type=="select"){if(y._button.tagName.toLowerCase()=="select"){x.parentNode.removeChild(x);var j=y._button;var w=y.get("element");w.parentNode.replaceChild(j,w);y._configs.element.value=j}else{y.addClass(this.CLASS_PREFIX+"-select")}}if(n.type=="spin"){if(!d.isArray(n.range)){n.range=[10,100]}this._makeSpinButton(y,n)}var e=y.get("title");var l=((e==undefined)?y.get("label"):e);y.get("element").setAttribute("title",l);if(n.type!="spin"){if((YAHOO.widget.Overlay)&&(v.menu instanceof YAHOO.widget.Overlay)){var h=function(o){var i=true;if(o.keyCode&&(o.keyCode==9)){i=false}if(i){if(this._colorPicker){this._colorPicker._button=n.value}var m=y.getMenu().element;if(c.getStyle(m,"visibility")=="hidden"){y.getMenu().show()}else{y.getMenu().hide()}}YAHOO.util.Event.stopEvent(o)};y.on("mousedown",h,n,this);y.on("keydown",h,n,this)}else{if((n.type!="menu")&&(n.type!="select")){y.on("keypress",this._buttonClick,n,this);y.removeListener("mousedown");y.on("mousedown",function(i){YAHOO.util.Event.stopEvent(i);this._buttonClick(i,n)},n,this);y.on("click",function(i){YAHOO.util.Event.stopEvent(i)})}else{y.on("mousedown",function(i){YAHOO.util.Event.stopEvent(i)});y.on("click",function(i){YAHOO.util.Event.stopEvent(i)});y.on("change",function(i){if(!i.target){if(!n.menucmd){n.menucmd=n.value}n.value=i.value;this._buttonClick(i,n)}},this,true);var p=this;y.on("appendTo",function(){var i=this;if(i.getMenu()&&i.getMenu().mouseDownEvent){i.getMenu().mouseDownEvent.subscribe(function(B,o){var m=o[1];YAHOO.util.Event.stopEvent(o[0]);i._onMenuClick(o[0],i);if(!n.menucmd){n.menucmd=n.value}n.value=((m.value)?m.value:m._oText.nodeValue);p._buttonClick.call(p,o[1],n);i._hideMenu();return false});i.getMenu().clickEvent.subscribe(function(o,m){YAHOO.util.Event.stopEvent(m[0])});i.getMenu().mouseUpEvent.subscribe(function(o,m){YAHOO.util.Event.stopEvent(m[0])})}})}}}else{y.on("mousedown",function(i){YAHOO.util.Event.stopEvent(i)});y.on("click",function(i){YAHOO.util.Event.stopEvent(i)})}if(this.browser.ie){}if(this.browser.webkit){y.hasFocus=function(){return true}}this._buttonList[this._buttonList.length]=y;if((n.type=="menu")||(n.type=="split")||(n.type=="select")){if(d.isArray(n.menu)){var f=y.getMenu();if(f&&f.renderEvent){f.renderEvent.subscribe(this._addMenuClasses,y);if(n.renderer){f.renderEvent.subscribe(n.renderer,y)}}}}}return n},addSeparator:function(e,h){if(!this.get("element")){this._queue[this._queue.length]=["addSeparator",arguments];return false}var f=((e)?e:this.get("cont"));if(!this.get("element")){this._queue[this._queue.length]=["addSeparator",arguments];return false}if(this._sepCount===null){this._sepCount=0}if(!this._sep){this._sep=document.createElement("SPAN");c.addClass(this._sep,this.CLASS_SEPARATOR);this._sep.innerHTML="|"}var g=this._sep.cloneNode(true);this._sepCount++;c.addClass(g,this.CLASS_SEPARATOR+"-"+this._sepCount);if(h){var i=null;if(h.get){i=h.get("element").nextSibling}else{if(h.nextSibling){i=h.nextSibling}else{i=h}}if(i){if(i==h){i.parentNode.appendChild(g)}else{i.parentNode.insertBefore(g,i)}}}else{f.appendChild(g)}return g},_createColorPicker:function(h){if(c.get(h+"_colors")){c.get(h+"_colors").parentNode.removeChild(c.get(h+"_colors"))}var e=document.createElement("div");e.className="yui-toolbar-colors";e.id=h+"_colors";e.style.display="none";a.on(window,"load",function(){document.body.appendChild(e)},this,true);this._colorPicker=e;var g="";for(var f in this._colorData){if(d.hasOwnProperty(this._colorData,f)){g+='<a style="background-color: '+f+'" href="#">'+f.replace("#","")+"</a>"}}g+="<span><em>X</em><strong></strong></span>";window.setTimeout(function(){e.innerHTML=g},0);a.on(e,"mouseover",function(m){var k=this._colorPicker;var l=k.getElementsByTagName("em")[0];var j=k.getElementsByTagName("strong")[0];var i=a.getTarget(m);if(i.tagName.toLowerCase()=="a"){l.style.backgroundColor=i.style.backgroundColor;j.innerHTML=this._colorData["#"+i.innerHTML]+"<br>"+i.innerHTML}},this,true);a.on(e,"focus",function(i){a.stopEvent(i)});a.on(e,"click",function(i){a.stopEvent(i)});a.on(e,"mousedown",function(j){a.stopEvent(j);var i=a.getTarget(j);if(i.tagName.toLowerCase()=="a"){var l=this.fireEvent("colorPickerClicked",{type:"colorPickerClicked",target:this,button:this._colorPicker._button,color:i.innerHTML,colorName:this._colorData["#"+i.innerHTML]});if(l!==false){var k={color:i.innerHTML,colorName:this._colorData["#"+i.innerHTML],value:this._colorPicker._button};this.fireEvent("buttonClick",{type:"buttonClick",target:this.get("element"),button:k})}this.getButtonByValue(this._colorPicker._button).getMenu().hide()}},this,true)},_resetColorPicker:function(){var f=this._colorPicker.getElementsByTagName("em")[0];var e=this._colorPicker.getElementsByTagName("strong")[0];f.style.backgroundColor="transparent";e.innerHTML=""},_makeColorButton:function(e){if(!this._colorPicker){this._createColorPicker(this.get("id"))}e.type="color";e.menu=new YAHOO.widget.Overlay(this.get("id")+"_"+e.value+"_menu",{visible:false,position:"absolute",iframe:true});e.menu.setBody("");e.menu.render(this.get("cont"));c.addClass(e.menu.element,"yui-button-menu");c.addClass(e.menu.element,"yui-color-button-menu");e.menu.beforeShowEvent.subscribe(function(){e.menu.cfg.setProperty("zindex",5);e.menu.cfg.setProperty("context",[this.getButtonById(e.id).get("element"),"tl","bl"]);this._resetColorPicker();var f=this._colorPicker;if(f.parentNode){f.parentNode.removeChild(f)}e.menu.setBody("");e.menu.appendToBody(f);this._colorPicker.style.display="block"},this,true);return e},_makeSpinButton:function(s,l){s.addClass(this.CLASS_PREFIX+"-spinbutton");var t=this,o=s._button.parentNode.parentNode,i=l.range,h=document.createElement("a"),g=document.createElement("a");h.href="#";g.href="#";h.tabIndex="-1";g.tabIndex="-1";h.className="up";h.title=this.STR_SPIN_UP;h.innerHTML=this.STR_SPIN_UP;g.className="down";g.title=this.STR_SPIN_DOWN;g.innerHTML=this.STR_SPIN_DOWN;o.appendChild(h);o.appendChild(g);var n=YAHOO.lang.substitute(this.STR_SPIN_LABEL,{VALUE:s.get("label")});var m=s.get("title");s.set("title",m);var r=function(u){u=((u<i[0])?i[0]:u);u=((u>i[1])?i[1]:u);return u};var q=this.browser;var f=false;var k=this.STR_SPIN_LABEL;if(this._titlebar&&this._titlebar.firstChild){f=this._titlebar.firstChild}var e=function(v){YAHOO.util.Event.stopEvent(v);if(!s.get("disabled")&&(v.keyCode!=9)){var w=parseInt(s.get("label"),10);w++;w=r(w);s.set("label",""+w);var u=YAHOO.lang.substitute(k,{VALUE:s.get("label")});var x=s.get("title");s.set("title",x);if(!q.webkit&&f){}t._buttonClick(v,l)}};var p=function(v){YAHOO.util.Event.stopEvent(v);if(!s.get("disabled")&&(v.keyCode!=9)){var w=parseInt(s.get("label"),10);w--;w=r(w);s.set("label",""+w);var u=YAHOO.lang.substitute(k,{VALUE:s.get("label")});var x=s.get("title");s.set("title",x);if(!q.webkit&&f){}t._buttonClick(v,l)}};var j=function(u){if(u.keyCode==38){e(u)}else{if(u.keyCode==40){p(u)}else{if(u.keyCode==107&&u.shiftKey){e(u)}else{if(u.keyCode==109&&u.shiftKey){p(u)}}}}};s.on("keydown",j,this,true);a.on(h,"mousedown",function(u){a.stopEvent(u)},this,true);a.on(g,"mousedown",function(u){a.stopEvent(u)},this,true);a.on(h,"click",e,this,true);a.on(g,"click",p,this,true)},_buttonClick:function(n,f){var e=true;if(n&&n.type=="keypress"){if(n.keyCode==9){e=false}else{if((n.keyCode===13)||(n.keyCode===0)||(n.keyCode===32)){}else{e=false}}}if(e){var p=true,h=false;f.isSelected=this.isSelected(f.id);if(f.value){h=this.fireEvent(f.value+"Click",{type:f.value+"Click",target:this.get("element"),button:f});if(h===false){p=false}}if(f.menucmd&&p){h=this.fireEvent(f.menucmd+"Click",{type:f.menucmd+"Click",target:this.get("element"),button:f});if(h===false){p=false}}if(p){this.fireEvent("buttonClick",{type:"buttonClick",target:this.get("element"),button:f})}if(f.type=="select"){var l=this.getButtonById(f.id);if(l.buttonType=="rich"){var k=f.value;for(var j=0;j<f.menu.length;j++){if(f.menu[j].value==f.value){k=f.menu[j].text;break}}l.set("label",'<span class="yui-toolbar-'+f.menucmd+"-"+(f.value).replace(/ /g,"-").toLowerCase()+'">'+k+"</span>");var o=l.getMenu().getItems();for(var g=0;g<o.length;g++){if(o[g].value.toLowerCase()==f.value.toLowerCase()){o[g].cfg.setProperty("checked",true)}else{o[g].cfg.setProperty("checked",false)}}}}if(n){a.stopEvent(n)}}},_keyNav:null,_navCounter:null,_navigateButtons:function(f){switch(f.keyCode){case 37:case 39:if(f.keyCode==37){this._navCounter--}else{this._navCounter++}if(this._navCounter>(this._buttonList.length-1)){this._navCounter=0}if(this._navCounter<0){this._navCounter=(this._buttonList.length-1)}if(this._buttonList[this._navCounter]){var e=this._buttonList[this._navCounter].get("element");if(this.browser.ie){e=this._buttonList[this._navCounter].get("element").getElementsByTagName("a")[0]}if(this._buttonList[this._navCounter].get("disabled")){this._navigateButtons(f)}else{e.focus()}}break}},_handleFocus:function(){if(!this._keyNav){var e="keypress";if(this.browser.ie){e="keydown"}a.on(this.get("element"),e,this._navigateButtons,this,true);this._keyNav=true;this._navCounter=-1}},getButtonById:function(g){var e=this._buttonList.length;for(var f=0;f<e;f++){if(this._buttonList[f]&&this._buttonList[f].get("id")==g){return this._buttonList[f]}}return false},getButtonByValue:function(n){var h=this.get("buttons");var f=h.length;for(var k=0;k<f;k++){if(h[k].group!==undefined){for(var e=0;e<h[k].buttons.length;e++){if((h[k].buttons[e].value==n)||(h[k].buttons[e].menucmd==n)){return this.getButtonById(h[k].buttons[e].id)}if(h[k].buttons[e].menu){for(var l=0;l<h[k].buttons[e].menu.length;l++){if(h[k].buttons[e].menu[l].value==n){return this.getButtonById(h[k].buttons[e].id)}}}}}else{if((h[k].value==n)||(h[k].menucmd==n)){return this.getButtonById(h[k].id)}if(h[k].menu){for(var g=0;g<h[k].menu.length;g++){if(h[k].menu[g].value==n){return this.getButtonById(h[k].id)}}}}}return false},getButtonByIndex:function(e){if(this._buttonList[e]){return this._buttonList[e]}else{return false}},getButtons:function(){return this._buttonList},disableButton:function(f){var e=b.call(this,f);if(e){if(!e.get("disabled")){e.set("disabled",true)}}else{return false}},enableButton:function(f){if(this.get("disabled")){return false}var e=b.call(this,f);if(e){if(e.get("disabled")){e.set("disabled",false)}}else{return false}},isSelected:function(f){var e=b.call(this,f);if(e){return e._selected}return false},selectButton:function(i,g){var f=b.call(this,i);if(f){if(!f._selected||g){f.addClass("yui-button-selected");f.addClass("yui-button-"+f.get("value")+"-selected");f._selected=true;if(g){if(f.buttonType=="rich"){var h=f.getMenu().getItems();for(var e=0;e<h.length;e++){if(h[e].value==g){h[e].cfg.setProperty("checked",true);f.set("label",'<span class="yui-toolbar-'+f.get("value")+"-"+(g).replace(/ /g,"-").toLowerCase()+'">'+h[e]._oText.nodeValue+"</span>")}else{h[e].cfg.setProperty("checked",false)}}}}}}else{return false}},deselectButton:function(f){var e=b.call(this,f);if(e){if(e._selected){e.removeClass("yui-button-selected");e.removeClass("yui-button-"+e.get("value")+"-selected");e.removeClass("yui-button-hover");e._selected=false}}else{return false}},deselectAllButtons:function(){var e=this._buttonList.length;for(var f=0;f<e;f++){this.deselectButton(this._buttonList[f])}},disableAllButtons:function(){if(this.get("disabled")){return false}var e=this._buttonList.length;for(var f=0;f<e;f++){this.disableButton(this._buttonList[f])}},enableAllButtons:function(){if(this.get("disabled")){return false}var e=this._buttonList.length;for(var f=0;f<e;f++){this.enableButton(this._buttonList[f])}},resetAllButtons:function(j){if(!d.isObject(j)){j={}}if(this.get("disabled")){return false}var e=this._buttonList.length;for(var f=0;f<e;f++){var h=this._buttonList[f];if(h){var g=h._configs.disabled._initialConfig.value;if(j[h.get("id")]){this.enableButton(h);this.selectButton(h)}else{if(g){this.disableButton(h)}else{this.enableButton(h)}this.deselectButton(h)}}}},destroyButton:function(j){var g=b.call(this,j);if(g){var h=g.get("id");g.destroy();var e=this._buttonList.length;for(var f=0;f<e;f++){if(this._buttonList[f]&&this._buttonList[f].get("id")==h){this._buttonList[f]=null}}}else{return false}},destroy:function(){this.get("element").innerHTML="";this.get("element").className="";for(var e in this){if(d.hasOwnProperty(this,e)){this[e]=null}}return true},collapse:function(f){var e=c.getElementsByClassName("collapse","span",this._titlebar);if(f===false){c.removeClass(this.get("cont").parentNode,"yui-toolbar-container-collapsed");if(e[0]){c.removeClass(e[0],"collapsed")}this.fireEvent("toolbarExpanded",{type:"toolbarExpanded",target:this})}else{if(e[0]){c.addClass(e[0],"collapsed")}c.addClass(this.get("cont").parentNode,"yui-toolbar-container-collapsed");this.fireEvent("toolbarCollapsed",{type:"toolbarCollapsed",target:this})}},toString:function(){return"Toolbar (#"+this.get("element").id+") with "+this._buttonList.length+" buttons."}})})();(function(){var c=YAHOO.util.Dom,a=YAHOO.util.Event,d=YAHOO.lang,b=YAHOO.widget.Toolbar;YAHOO.widget.SimpleEditor=function(h,n){var g={};if(d.isObject(h)&&(!h.tagName)&&!n){d.augmentObject(g,h);h=document.createElement("textarea");this.DOMReady=true;if(g.container){var l=c.get(g.container);l.appendChild(h)}else{document.body.appendChild(h)}}else{if(n){d.augmentObject(g,n)}}var i={element:null,attributes:g},f=null;if(d.isString(h)){f=h}else{if(i.attributes.id){f=i.attributes.id}else{this.DOMReady=true;f=c.generateId(h)}}i.element=h;var j=null;if(g.floatingEditor){j=document.createElement("DIV");i.attributes.element_parent_cont=new YAHOO.util.Element(j,{id:f+"_parent_container"})}var k=document.createElement("DIV");i.attributes.element_cont=new YAHOO.util.Element(k,{id:f+"_container"});if(j!=null){i.attributes.element_parent_cont.appendChild(k)}var e=document.createElement("div");c.addClass(e,"first-child");i.attributes.element_cont.appendChild(e);if(!i.attributes.toolbar_cont){i.attributes.toolbar_cont=document.createElement("DIV");i.attributes.toolbar_cont.id=f+"_toolbar";e.appendChild(i.attributes.toolbar_cont)}var m=document.createElement("DIV");e.appendChild(m);i.attributes.editor_wrapper=m;YAHOO.widget.SimpleEditor.superclass.constructor.call(this,i.element,i.attributes)};YAHOO.extend(YAHOO.widget.SimpleEditor,YAHOO.util.Element,{_undo_button:null,_redo_button:null,_fn_button:null,_fs_button:null,_button_click_event:false,_keyPressMonitor:false,_resizeConfig:{handles:["br"],autoRatio:true,status:true,proxy:true,useShim:true,setSize:false},_setupResize:function(){if(!YAHOO.util.DD||!YAHOO.util.Resize){return false}if(this.get("resize")){var e={};d.augmentObject(e,this._resizeConfig);this.resize=new YAHOO.util.Resize(this.get("element_cont").get("element"),e);this.resize.on("resize",function(g){var l=this.get("animate");this.set("animate",false);this.set("width",g.width+"px");var i=g.height,j=(this.toolbar.get("element").clientHeight+2),k=0;if(this.dompath){k=(this.dompath.clientHeight+1)}var f=(i-j-k);this.set("height",f+"px");this.get("element_cont").setStyle("height","");this.set("animate",l)},this,true)}},resize:null,_setupDD:function(){if(!YAHOO.util.DD){return false}if(this.get("drag")){var f=this.get("drag"),e=YAHOO.util.DD;if(f==="proxy"){e=YAHOO.util.DDProxy}this.dd=new e(this.get("element_cont").get("element"));this.toolbar.addClass("draggable");this.dd.setHandleElId(this.toolbar._titlebar)}},dd:null,_lastCommand:null,_undoNodeChange:function(){},_storeUndo:function(){},_checkKey:function(f,l){var g=false;var j=0;if(l.altKey){j++}if(!this.browser.mac&&l.ctrlKey){j++}if(l.shiftKey){j++}if(this.browser.mac&&l.metaKey){j++}if((l.keyCode===f.key)){if(f.mods&&(f.mods.length>0)){var m=0;for(var h=0;h<f.mods.length;h++){if(this.browser.mac){if(f.mods[h]=="ctrl"){f.mods[h]="meta"}}if(l[f.mods[h]+"Key"]===true){m++}}if(m===f.mods.length&&j===f.mods.length){g=true}}else{g=true}}return g},_isSpecialKey:function(g){var f=false;if(g.ctrlKey||g.shiftKey||g.metaKey){switch(g.keyCode){case 16:case 17:case 93:f=false;break;default:f=true;break}}else{if(g.keyCode==9||g.keyCode==13||g.keyCode==27){f=true}}return f},_keyMap:{SELECT_ALL:{key:65,mods:["ctrl"]},CLOSE_WINDOW:{key:87,mods:["shift","ctrl"]},FOCUS_TOOLBAR:{key:27,mods:["shift"]},FOCUS_AFTER:{key:27},FONT_SIZE_UP:{key:38,mods:["shift","ctrl"]},FONT_SIZE_DOWN:{key:40,mods:["shift","ctrl"]},CREATE_LINK:{key:76,mods:["shift","ctrl"]},CREATE_ANCHOR:{key:65,mods:["shift","ctrl"]},BOLD:{key:66,mods:["shift","ctrl"]},ITALIC:{key:73,mods:["shift","ctrl"]},UNDERLINE:{key:85,mods:["shift","ctrl"]},UNDO:{key:90,mods:["ctrl"]},REDO:{key:89,mods:["ctrl"]},JUSTIFY_LEFT:{key:219,mods:["shift","ctrl"]},JUSTIFY_CENTER:{key:220,mods:["shift","ctrl"]},JUSTIFY_RIGHT:{key:221,mods:["shift","ctrl"]}},_cleanClassName:function(e){return e.replace(/ /g,"-").toLowerCase()},_textarea:null,_docType:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">',editorDirty:null,_defaultCSS:"html { height: 95%; } body { padding: 7px; background-color: #fff; font: 14px arial,helvetica,clean,sans-serif; } a, a:visited, a:hover { color: blue !important; text-decoration: underline !important; cursor: text !important; } .warning-localfile { border-bottom: 1px dashed red !important; } .yui-busy { cursor: wait !important; } img.selected { border: 2px dotted #808080; } img { cursor: pointer !important; border: none; } body.ptags.webkit div.yui-wk-p { margin: 11px 0; } body.ptags.webkit div.yui-wk-div { margin: 0; } .yui-anchor {background-color:yellow;border-color:blue; border-style:dashed; border-width:1px;}",_defaultToolbar:null,_insertImageButton:false,_rtl:false,_singleline:false,_bookmarks:[],_enableSpellChecker:false,_externalURLFieldID:-1,_externalURLFieldLabel:"...",_externalURLFieldWidth:0,_lastButton:null,_baseHREF:function(){var e=document.location.href;if(e.indexOf("?")!==-1){e=e.substring(0,e.indexOf("?"))}e=e.substring(0,e.lastIndexOf("/"))+"/";return e}(),_lastImage:null,_blankImageLoaded:null,_fixNodesTimer:null,_nodeChangeTimer:null,_lastNodeChangeEvent:null,_lastNodeChange:0,_rendered:null,DOMReady:null,_selection:null,_mask:null,_showingHiddenElements:null,currentWindow:null,currentEvent:null,operaEvent:null,currentFont:null,currentElement:null,dompath:null,beforeElement:null,afterElement:null,invalidHTML:{form:true,input:true,button:true,select:true,link:true,html:true,body:true,iframe:true,script:true,style:true,textarea:true},toolbar:null,_contentTimer:null,_contentTimerCounter:0,_disabled:["createlink"],_alwaysDisabled:{},_alwaysEnabled:{},_semantic:{bold:true,italic:true,underline:true},_tag2cmd:{b:"bold",strong:"bold",i:"italic",em:"italic",u:"underline",sup:"superscript",sub:"subscript",img:"insertimage",a:"createlink",ul:"insertunorderedlist",ol:"insertorderedlist"},_createIframe:function(){var k=document.createElement("iframe");k.id=this.get("id")+"_editor";var j="ltr";if(this.get("rtl")){j="rtl"}var g={dir:j,border:"0",frameBorder:"0",marginWidth:"0",marginHeight:"0",leftMargin:"0",topMargin:"0",allowTransparency:"true",width:"100%"};if(this.get("autoHeight")){g.scrolling="no"}for(var h in g){if(d.hasOwnProperty(g,h)){k.setAttribute(h,g[h])}}var f="javascript:;";if(this.browser.ie){f="javascript:false;"}k.setAttribute("src",f);var e=new YAHOO.util.Element(k);e.setStyle("visibility","hidden");return e},_isElement:function(f,e){if(f&&f.tagName&&(f.tagName.toLowerCase()==e)){return true}if(f&&f.getAttribute&&(f.getAttribute("tag")==e)){return true}return false},_hasParent:function(f,e){if(!f||!f.parentNode){return false}while(f.parentNode){if(this._isElement(f,e)){return f}if(f.parentNode){f=f.parentNode}else{return false}}return false},_getDoc:function(){return this.get("iframe").get("element").contentWindow.document},_getWindow:function(){return this.get("iframe").get("element").contentWindow},focus:function(f){this._getWindow().focus();if(f&&this.browser.ie&&this.browser.ie<11){var e=this;setTimeout(function(){var g=e._getDoc().body.createTextRange();g.collapse(true);g.select()},5)}},_focusWindow:function(){this.focus()},_hasSelection:function(){var g=this._getSelection();var e=this._getRange(g);var f=false;if(!g||!e){return f}if((this.browser.ie&&this.browser.ie<11)||this.browser.opera){if(e.text){f=true}if(e.html){f=true}}else{if(this.browser.webkit){if(g+""!==""){f=true}}else{if(g&&(g.toString()!=="")&&(g!==undefined)){f=true}}}return f},_getSelectionHtml:function(){var h="";var l=this._getWindow();var k=this._getDoc();if(typeof l.getSelection!="undefined"){var j=l.getSelection();if(j.rangeCount){var f=k.createElement("div");for(var g=0,e=j.rangeCount;g<e;++g){f.appendChild(j.getRangeAt(g).cloneContents())}h=f.innerHTML}}else{if(typeof k.selection!="undefined"){if(k.selection.type=="Text"){h=k.selection.createRange().htmlText}}}return h},_getSelectionParentElement:function(){var f=null;var h=this._getWindow();var e=this._getDoc();if(h.getSelection){var g=h.getSelection();if(g.rangeCount){f=g.getRangeAt(0).startContainer;if(f&&f.nodeType!=1&&f.parentElement){f=f.parentElement}if(f&&f.nodeType!=1){f=f.parentNode}}}else{if(e.selection&&e.selection.type!="Control"){f=e.selection.createRange().parentElement()}}return f},_getSelection:function(){var e=null;if(this._getDoc()&&this._getWindow()){if(this._getDoc().selection){e=this._getDoc().selection}else{e=this._getWindow().getSelection()}if(this.browser.webkit){if(e.baseNode){this._selection={};this._selection.baseNode=e.baseNode;this._selection.baseOffset=e.baseOffset;this._selection.extentNode=e.extentNode;this._selection.extentOffset=e.extentOffset}else{if(this._selection!==null){e=this._getWindow().getSelection();e.setBaseAndExtent(this._selection.baseNode,this._selection.baseOffset,this._selection.extentNode,this._selection.extentOffset);this._selection=null}}}}return e},_selectNode:function(g,j){if(!g){return false}var h=this._getSelection(),f=null;if(this.browser.ie){try{f=this._getDoc().body.createTextRange();f.moveToElementText(g);if(j){f.collapse(false)}f.select()}catch(i){}}else{if(this.browser.webkit){if(j){h.setBaseAndExtent(g,1,g,g.innerText.length)}else{h.setBaseAndExtent(g,0,g,g.innerText.length)}}else{if(this.browser.opera){h=this._getWindow().getSelection();f=this._getDoc().createRange();f.selectNode(g);h.removeAllRanges();h.addRange(f)}else{f=this._getDoc().createRange();f.selectNodeContents(g);if(j){f.collapse(false)}h.removeAllRanges();h.addRange(f)}}}this.nodeChange()},_placeCursor:function(f,h){if(!f){return false}var e=h?$(f).prev():$(f).next();if(!e||e.length===0||$(e).is("table")){h?$(f).before('<span id="yui_cursor_pos" class="yui-non">&nbsp;</span>&nbsp;'):$(f).after('<span id="yui_cursor_pos" class="yui-non">&nbsp;</span>&nbsp;');var g=$(this._getDoc()).find("#yui_cursor_pos");if(g&&g.length>0){$(g).removeAttr("id");this._selectNode(g[0],true)}}else{this._selectNode(e[0],true)}},_getRange:function(f){var g=f;if(!g){g=this._getSelection()}if(g===null){return null}if(this.browser.webkit&&!g.getRangeAt){var j=this._getDoc().createRange();try{j.setStart(g.anchorNode,g.anchorOffset);j.setEnd(g.focusNode,g.focusOffset)}catch(i){j=this._getWindow().getSelection()+""}return j}if((this.browser.ie&&this.browser.ie<11)||this.browser.opera){try{return g.createRange()}catch(h){return null}}if(g.rangeCount>0){return g.getRangeAt(0)}return null},_autoSelectCurrentLine:function(k){var f=false;if(this.browser.ie){var j=k.htmlText;var g=k.text;if(g==""){var h=this._getRange();var e=true;var i=g;while(e&&k.moveStart("character",-1)!=0){g=k.text;j=k.htmlText;if(!j){j=""}if(i==g||g.indexOf("\n")>=0||g.indexOf("\r")>=0||j.indexOf("<br>")>=0||j.indexOf("<BR>")>=0||j.indexOf("<P ")>=0||j.indexOf("<P>")>=0||j.indexOf("<p ")>=0||j.indexOf("<p>")>=0){e=false;if(i!=g){k.moveStart("character",1)}}i=g}e=true;g=k.text;i=g;while(e&&k.moveEnd("character",1)!=0){g=k.text;j=k.htmlText;if(!j){j=""}if(i==g||g.indexOf("\n")>=0||g.indexOf("\r")>=0||j.indexOf("<br>")>=0||j.indexOf("<BR>")>=0||j.indexOf("<P ")>=0||j.indexOf("<P>")>=0||j.indexOf("<p ")>=0||j.indexOf("<p>")>=0){e=false;if(i!=g){k.moveEnd("character",-1)}}i=g}j=k.html;g=k.text;if(!g||g==""){k=h}else{f=true}}}return f},_setDesignMode:function(f){if(this.get("setDesignMode")){try{this._getDoc().designMode=((f.toLowerCase()=="off")?"off":"on")}catch(g){}}},_toggleDesignMode:function(){var f=this._getDoc().designMode.toLowerCase(),e="on";if(f=="on"){e="off"}this._setDesignMode(e);return e},_focused:null,_handleFocus:function(f){if(!this._focused){this._focused=true;this.fireEvent("editorWindowFocus",{type:"editorWindowFocus",target:this})}},_handleBlur:function(f){if(this._focused){this._focused=false;this.fireEvent("editorWindowBlur",{type:"editorWindowBlur",target:this})}},_initEditorEvents:function(){var f=this._getDoc(),e=this._getWindow();this._removeEditorEvents();a.on(f,"mouseup",this._handleMouseUp,this,true);a.on(f,"mousedown",this._handleMouseDown,this,true);a.on(f,"click",this._handleClick,this,true);a.on(f,"dblclick",this._handleDoubleClick,this,true);var g=this.browser.ie?f:e;a.on(g,"keypress",this._handleKeyPress,this,true);a.on(g,"keyup",this._handleKeyUp,this,true);a.on(g,"keydown",this._handleKeyDown,this,true);a.on(e,"focus",this._handleFocus,this,true);a.on(e,"blur",this._handleBlur,this,true)},_removeEditorEvents:function(){var f=this._getDoc(),e=this._getWindow();a.removeListener(f,"mouseup",this._handleMouseUp);a.removeListener(f,"mousedown",this._handleMouseDown);a.removeListener(f,"click",this._handleClick);a.removeListener(f,"dblclick",this._handleDoubleClick);var g=this.browser.ie?f:e;a.removeListener(g,"keypress",this._handleKeyPress);a.removeListener(g,"keyup",this._handleKeyUp);a.removeListener(g,"keydown",this._handleKeyDown);a.removeListener(e,"focus",this._handleFocus);a.removeListener(e,"blur",this._handleBlur)},_fixWebkitDivs:function(){if(this.browser.webkit){var e=this._getDoc().body.getElementsByTagName("div");c.addClass(e,"yui-wk-div")}},_initEditor:function(){if(this._editorInit){return}this._editorInit=true;if(this.browser.ie){this._getDoc().body.style.margin="0"}if(!this.get("disabled")){if(this._getDoc().designMode.toLowerCase()!="on"){this._setDesignMode("on");this._contentTimerCounter=0}}if(!this._getDoc().body){this._contentTimerCounter=0;this._editorInit=false;this._checkLoaded();return false}if(!this._button_click_event){this.toolbar.on("buttonClick",this._handleToolbarClick,this,true);this._button_click_event=true}if(!this.get("disabled")){this._initEditorEvents();this.toolbar.set("disabled",false)}this.fireEvent("editorContentLoaded",{type:"editorLoaded",target:this});this._fixWebkitDivs();if(this.get("dompath")){var e=this;setTimeout(function(){e._writeDomPath.call(e);e._setupResize.call(e)},150)}var g=[];for(var f in this.browser){if(this.browser[f]){g.push(f)}}if(this.get("ptags")){g.push("ptags")}c.addClass(this._getDoc().body,g.join(" "));this.nodeChange(true)},_checkLoaded:function(){this._editorInit=false;this._contentTimerCounter++;if(this._contentTimer){clearTimeout(this._contentTimer)}if(this._contentTimerCounter>500){return false}var h=false;try{if(this._getDoc()&&this._getDoc().body){if(this.browser.ie&&this.browser.ie<11){if(this._getDoc().body.readyState=="complete"){h=true}this._selectNode(this._getDoc().body.childNodes[this._getDoc().body.childNodes.length-1])}else{if(this._getDoc().body._rteLoaded===true){h=true}}}}catch(g){h=false}if(h===true){this._initEditor()}else{var f=this;this._contentTimer=setTimeout(function(){f._checkLoaded.call(f)},20)}},_setInitialContent:function(){var i=((this._textarea)?this.get("element").value:this.get("element").innerHTML),l=null;if(i===""&&this.browser.gecko){i="<br>"}var k=this.get("rtl")?"rtl":"ltr";var g=d.substitute(this.get("html"),{DIRECTION:k,TITLE:this.STR_TITLE,CONTENT:this._cleanIncomingHTML(i),CSS:this.get("css"),HIDDEN_CSS:((this.get("hiddencss"))?this.get("hiddencss"):"/* No Hidden CSS */"),EXTRA_CSS:((this.get("extracss"))?this.get("extracss"):"/* No Extra CSS */")}),f=true;g=g.replace(/RIGHT_BRACKET/gi,"{");g=g.replace(/LEFT_BRACKET/gi,"}");if(document.compatMode!="BackCompat"){g=this._docType+"\n"+g}else{}if(this.browser.ie||this.browser.webkit||this.browser.opera||(navigator.userAgent.indexOf("Firefox/1.5")!=-1)){try{if(this.browser.ie&&!this.get("singleline")){g=g+"<br>"}if(this.browser.air){l=this._getDoc().implementation.createHTMLDocument();var m=this._getDoc();m.open();m.close();l.open();l.write(g);l.close();var h=m.importNode(l.getElementsByTagName("html")[0],true);m.replaceChild(h,m.getElementsByTagName("html")[0]);m.body._rteLoaded=true}else{l=this._getDoc();l.open();l.write(g);l.close()}}catch(j){f=false}}else{this.get("iframe").get("element").src="data:text/html;charset=utf-8,"+encodeURIComponent(g)}this.get("iframe").setStyle("visibility","");if(f){this._checkLoaded()}},_setMarkupType:function(e){switch(this.get("markup")){case"css":this._setEditorStyle(true);break;case"default":this._setEditorStyle(false);break;case"semantic":case"xhtml":if(this._semantic[e]){this._setEditorStyle(false)}else{this._setEditorStyle(true)}break}},_setEditorStyle:function(f){try{this._getDoc().execCommand("useCSS",false,!f)}catch(e){}},_getSelectedElement:function(){var k=this._getDoc(),h=null,i=null,l=null,g=true;if(this.browser.ie&&this.browser.ie<11){this.currentEvent=this._getWindow().event;if(this.currentEvent==null||typeof this.currentEvent=="undefined"){this.currentEvent=null}h=this._getRange();if(h){l=h.item?h.item(0):h.parentElement();if(this._hasSelection()){}if(l===k.body){l=null}}if((this.currentEvent!==null)&&(this.currentEvent.keyCode===0)){l=a.getTarget(this.currentEvent)}}else{i=this._getSelection();h=this._getRange(i);if(!i||!h){return null}if(!this._hasSelection()&&this.browser.webkit3){}if(this.browser.gecko){if(h.startContainer){if(h.startContainer.nodeType===3){l=h.startContainer.parentNode}else{if(h.startContainer.nodeType===1){l=h.startContainer}}if(this.currentEvent){var f=a.getTarget(this.currentEvent);if(!this._isElement(f,"html")){if(l!==f){l=f}}}}}if(g){if(i.anchorNode&&(i.anchorNode.nodeType==3)){if(i.anchorNode.parentNode){l=i.anchorNode.parentNode}if(navigator.userAgent.indexOf("Chrome")==-1){if(i.anchorNode.nextSibling!=i.focusNode.nextSibling){l=i.anchorNode.nextSibling}}}if(this._isElement(l,"br")){l=null}if(!l){l=h.commonAncestorContainer;if(!h.collapsed){if(h.startContainer==h.endContainer){if(h.startOffset-h.endOffset<2){if(h.startContainer.hasChildNodes()){l=h.startContainer.childNodes[h.startOffset]}}}}}}}if(this.currentEvent!==null){try{switch(this.currentEvent.type){case"click":case"mousedown":case"mouseup":if(this.browser.webkit&&navigator.userAgent.indexOf("Chrome")==-1){l=a.getTarget(this.currentEvent)}break;default:break}}catch(j){}}else{if((this.currentElement&&this.currentElement[0])&&(!this.browser.ie)){}}if(this.browser.opera||this.browser.webkit){if(this.currentEvent&&!l){l=YAHOO.util.Event.getTarget(this.currentEvent)}}if(!l||!l.tagName){l=k.body}if(this._isElement(l,"html")){l=k.body}if(this._isElement(l,"body")){l=k.body}if(l&&!l.parentNode){l=k.body}if(l===undefined){l=null}return l},_getDomPath:function(e){if(!e){e=this._getSelectedElement()}var f=[];while(e!==null){if(e.ownerDocument!=this._getDoc()){e=null;break}if(e.nodeName&&e.nodeType&&(e.nodeType==1)){f[f.length]=e}if(this._isElement(e,"body")){break}e=e.parentNode}if(f.length===0){if(this._getDoc()&&this._getDoc().body){f[0]=this._getDoc().body}}return f.reverse()},_getCurrentLength:function(f){var e=this.cleanHTML();return(e?e.length:0)},_writeDomPath:function(){var m="";var e=this.get("maxLength");var k=this.getEditorHTML();var f=k?k.length:0;if(f>e&&e>0){var r=this.STR_MAX_LENGTH_EXCEEDED+" ("+this.STR_LENGTH+": "+f+")";m='<span style="color: red;" title="'+r+'">'+r+"</span>"}else{if(this.get("dompathfull")){var q=this._getDomPath(),n=[],l="",r="";for(var g=0;g<q.length;g++){var p=q[g].tagName.toLowerCase();if((p=="ol")&&(q[g].type)){p+=":"+q[g].type}if(c.hasClass(q[g],"yui-tag")){p=q[g].getAttribute("tag")}if((this.get("markup")=="semantic")||(this.get("markup")=="xhtml")){switch(p){case"b":p="strong";break;case"i":p="em";break}}if(!c.hasClass(q[g],"yui-non")){if(c.hasClass(q[g],"yui-tag")){r=p}else{l=((q[g].className!=="")?"."+q[g].className.replace(/ /g,"."):"");if((l.indexOf("yui")!=-1)||(l.toLowerCase().indexOf("apple-style-span")!=-1)){l=""}r=p+((q[g].id)?"#"+q[g].id:"")+l}switch(p){case"body":r="body";break;case"a":if(q[g].getAttribute("href",2)){r+=":"+q[g].getAttribute("href",2).replace("mailto:","").replace("http://","").replace("https://","")}break;case"img":var j=q[g].height;var o=q[g].width;if(q[g].style.height){j=parseInt(q[g].style.height,10)}if(q[g].style.width){o=parseInt(q[g].style.width,10)}r+="("+o+"x"+j+")";break}if(r.length>10){r='<span title="'+r+'">'+r.substring(0,10)+"...</span>"}else{r='<span title="'+r+'">'+r+"</span>"}n[n.length]=r}}r=" ("+this.STR_LENGTH+": "+f+")";r='<span title="'+r+'">'+r+"</span>";m=n.join(" "+this.SEP_DOMPATH+" ");m=m+r}else{r=" ("+this.STR_LENGTH+": "+f+")";r='<span title="'+r+'">'+r+"</span>";m=r}}if(this.dompath&&this.dompath.innerHTML!=m){if(this.get("rtl")){this.dompath.dir="rtl";this.dompath.style.textAlign="right"}this.dompath.innerHTML=m;this.fireEvent("dompathContentChanged",{type:"dompath",target:this})}},_fixNodes:function(){try{var n=this._getDoc(),k=[];for(var f in this.invalidHTML){if(YAHOO.lang.hasOwnProperty(this.invalidHTML,f)){if(f.toLowerCase()!="span"){var g=n.body.getElementsByTagName(f);if(g.length){for(var j=0;j<g.length;j++){k.push(g[j])}}}}}for(var l=0;l<k.length;l++){if(k[l].parentNode){if(d.isObject(this.invalidHTML[k[l].tagName.toLowerCase()])&&this.invalidHTML[k[l].tagName.toLowerCase()].keepContents){this._swapEl(k[l],"span",function(e){e.className="yui-non"})}else{k[l].parentNode.removeChild(k[l])}}}var o=this._getDoc().getElementsByTagName("img");c.addClass(o,"yui-img")}catch(m){}},_isNonEditable:function(h){if(this.get("allowNoEdit")){var g=a.getTarget(h);if(this._isElement(g,"html")){g=null}var l=this._getDomPath(g);for(var f=(l.length-1);f>-1;f--){if(c.hasClass(l[f],this.CLASS_NOEDIT)){try{this._getDoc().execCommand("enableObjectResizing",false,"false")}catch(k){}this.nodeChange();a.stopEvent(h);return true}}try{this._getDoc().execCommand("enableObjectResizing",false,"true")}catch(j){}}return false},_setCurrentEvent:function(e){this.currentEvent=e},_handleClick:function(g){var f=this.fireEvent("beforeEditorClick",{type:"beforeEditorClick",target:this,ev:g});if(f===false){return false}if(this._isNonEditable(g)){return false}this._setCurrentEvent(g);if(this.currentWindow){this.closeWindow()}if(this.currentWindow){this.closeWindow()}if(this.browser.webkit){var e=a.getTarget(g);if(this._isElement(e,"a")||this._isElement(e.parentNode,"a")){a.stopEvent(g);this.nodeChange()}}else{this.nodeChange()}this.fireEvent("editorClick",{type:"editorClick",target:this,ev:g})},_handleMouseUp:function(g){var f=this.fireEvent("beforeEditorMouseUp",{type:"beforeEditorMouseUp",target:this,ev:g});if(f===false){return false}if(this._isNonEditable(g)){return false}var e=this;if(this.browser.opera){var h=a.getTarget(g);if(this._isElement(h,"img")){this.nodeChange();if(this.operaEvent){clearTimeout(this.operaEvent);this.operaEvent=null;this._handleDoubleClick(g)}else{this.operaEvent=window.setTimeout(function(){e.operaEvent=false},700)}}}if(this.browser.webkit||this.browser.opera){if(this.browser.webkit){a.stopEvent(g)}}this.nodeChange();this.fireEvent("editorMouseUp",{type:"editorMouseUp",target:this,ev:g})},_handleMouseDown:function(f){var e=this.fireEvent("beforeEditorMouseDown",{type:"beforeEditorMouseDown",target:this,ev:f});if(e===false){return false}if(this._isNonEditable(f)){return false}this._setCurrentEvent(f);var g=a.getTarget(f);if(this.browser.webkit&&this._hasSelection()&&f.button!=2){var h=this._getSelection();if(!this.browser.webkit3){h.collapse(true)}else{h.collapseToStart()}}if(this.browser.webkit&&this._lastImage){c.removeClass(this._lastImage,"selected");this._lastImage=null}if(this._isElement(g,"img")||this._isElement(g,"a")){if(this.browser.webkit){a.stopEvent(f);if(this._isElement(g,"img")){c.addClass(g,"selected");this._lastImage=g}}if(this.currentWindow){this.closeWindow()}this.nodeChange()}this.fireEvent("editorMouseDown",{type:"editorMouseDown",target:this,ev:f})},_handleDoubleClick:function(f){var e=this.fireEvent("beforeEditorDoubleClick",{type:"beforeEditorDoubleClick",target:this,ev:f});if(e===false){return false}if(this._isNonEditable(f)){return false}this._setCurrentEvent(f);var g=a.getTarget(f);if(this._isElement(g,"img")){this.currentElement[0]=g;this.toolbar.fireEvent("insertimageClick",{type:"insertimageClick",target:this.toolbar});this.fireEvent("afterExecCommand",{type:"afterExecCommand",target:this})}else{if(this._hasParent(g,"a")){this.currentElement[0]=this._hasParent(g,"a");var h=this.currentElement[0].getAttribute("name");if(h&&h.length>0){this.toolbar.fireEvent("createanchorClick",{type:"createanchorClick",target:this.toolbar})}else{this.toolbar.fireEvent("createlinkClick",{type:"createlinkClick",target:this.toolbar})}this.fireEvent("afterExecCommand",{type:"afterExecCommand",target:this})}}this.nodeChange();this.fireEvent("editorDoubleClick",{type:"editorDoubleClick",target:this,ev:f})},_handleKeyUp:function(g){var f=this.fireEvent("beforeEditorKeyUp",{type:"beforeEditorKeyUp",target:this,ev:g});if(f===false){return false}if(this._isNonEditable(g)){return false}if(!(g.ctrlKey||g.shiftKey||g.metaKey)){this._storeUndo()}this._setCurrentEvent(g);if(this._isSpecialKey(g)){switch(g.keyCode){case this._keyMap.SELECT_ALL.key:if(this._checkKey(this._keyMap.SELECT_ALL,g)){this.nodeChange()}break;case 32:case 35:case 36:case 37:case 38:case 39:case 40:case 46:case 8:case this._keyMap.CLOSE_WINDOW.key:if((g.keyCode==this._keyMap.CLOSE_WINDOW.key)&&this.currentWindow){if(this._checkKey(this._keyMap.CLOSE_WINDOW,g)){this.closeWindow()}}else{if(!this.browser.ie){if(this._nodeChangeTimer){clearTimeout(this._nodeChangeTimer)}var e=this;this._nodeChangeTimer=setTimeout(function(){e._nodeChangeTimer=null;e.nodeChange.call(e)},100)}else{this.nodeChange()}this.editorDirty=true}break}}this.fireEvent("editorKeyUp",{type:"editorKeyUp",target:this,ev:g})},_addSelection:function(e){if(this.browser.webkit){var f=window.getSelection();f.addRange(e)}else{if(e.select){e.select()}else{if(this._getSelection()){var f=this._getSelection();if(f.addRange){f.addRange(e)}}}}},_clearSelection:function(){var e=this._getSelection();if(e&&e.empty){e.empty()}else{if(e&&e.removeAllRanges){e.removeAllRanges()}}},_createRange:function(){if(document.body&&document.body.createTextRange){return document.body.createTextRange()}else{if(document.createRange){return document.createRange()}}return null},_selectRange:function(i,f,e,h){this._clearSelection();if(this.browser.webkit){this._getSelection().setBaseAndExtent(i,f,e,h)}else{var g=this._createRange();if(g){g.setStart(i,f);g.setEnd(e,h);this._addSelection(g)}}return this._getRange()},_isElementURLBookmark:function(f){if(f&&this._isElement(f,"a")){var e=f.getAttribute("href",2);return(e&&e.indexOf("#")==0)}return false},_isElementURLJavascript:function(f){if(f&&this._isElement(f,"a")){var e=f.getAttribute("href",2);return(e&&e.indexOf("javascript")==0)}return false},_getElementURLSpecial:function(e){if(e&&this._isElement(e,"a")){return e.getAttribute("href",2)}return""},_isSpecialURL:function(e){return false},_getElementURLBookmark:function(f){if(this._isElementURLBookmark(f)){var e=decodeURIComponent(f.getAttribute("href"));if(e&&e.indexOf("#")===0){return e}}return null},_findURL:function(o){if(o&&(!this._isElement(o,"a")||c.hasClass(o,"yui-url-sync"))&&o.childNodes&&o.childNodes.length>0){var t="";for(var g=0;g<o.childNodes.length;g++){var m=o.childNodes[g];if(m){if(this.browser.ie&&"tagName" in m&&this._isElement(m,"a")){var q=m.getAttribute("target");var r=m.getAttribute("isDialogLink");var k=this._isElementURLBookmark(m);if(!k&&q===null&&r==null){m.setAttribute("target","_blank")}}if(!this.browser.ie){t=m.nodeValue;if(t&&t.length>0&&m.nodeType==3){var f="";var s=0;var l=[];var j=0;for(j=0;j<=t.length;j++){if(t.charCodeAt(j)==32||t.charAt(j)==" "||t.charAt(j)=="\t"||t.charAt(j)=="\n"||t.charAt(j)=="\r"){this._buildURLWord(l,f,s);s=j+1;f=""}else{f+=t.charAt(j)}}if(f.length>0){this._buildURLWord(l,f,s)}while(l.length>0){var h=l.pop();this._buildURL(o.childNodes[g],h)}}else{if(this._isElement(m,"a")&&c.hasClass(m,"yui-url-sync")){var p=$(m).text();var e=$(m).attr("href");if(e&&e.length>0){e=decodeURIComponent(e)}if(e!==p&&p.indexOf(e)<0&&e.indexOf(p)<0){if((p.indexOf("://")==-1)&&(p.substring(0,1)!="/")&&(p.substring(0,6).toLowerCase()!="mailto")){if((p.indexOf("@")!=-1)&&(p.substring(0,6).toLowerCase()!="mailto")){p="mailto:"+p}else{if(p.substring(0,1)!="#"){p="http://"+p}}}}$(m).attr("href",encodeURIComponent(p))}}}}}}},_buildURLWord:function(f,g,h){g=g.replace(/\s+$/,"");if(g&&g.length>0&&this._isURL(g)){var e={word:g,start:h};f.push(e)}},_buildURL:function(e,h){try{var j=h.start;var i=h.word;this._selectRange(e,j,e,j+i.length);if((i.indexOf("://")==-1)&&(i.substring(0,1)!="/")&&(i.substring(0,6).toLowerCase()!="mailto")){if((i.indexOf("@")!=-1)&&(i.substring(0,6).toLowerCase()!="mailto")){i="mailto:"+i}else{if(i.substring(0,1)!="#"){i="http://"+i}}}this._getDoc().execCommand("createlink",false,i);var g=e.parentNode;if(g.getAttribute("target")==null){g.setAttribute("target","_blank")}this._clearSelection();this.nodeChange();return}catch(f){}},_handleKeyPress:function(g){var f=this.fireEvent("beforeEditorKeyPress",{type:"beforeEditorKeyPress",target:this,ev:g});if(f===false){return false}if(this.get("allowNoEdit")){if(g&&g.keyCode&&(g.keyCode==63272)){a.stopEvent(g)}}if(this._isNonEditable(g)){return false}this._setCurrentEvent(g);if(!(g.ctrlKey||g.shiftKey||g.metaKey)){this._storeUndo()}if(this.browser.opera){if(g.keyCode===13){var e=this._getSelectedElement();if(!this._isElement(e,"li")){this.execCommand("inserthtml","<br>");a.stopEvent(g)}}}if(this.browser.webkit){if(!this.browser.webkit3){if(g.keyCode&&(g.keyCode==122)&&(g.metaKey)){if(this._hasParent(this._getSelectedElement(),"li")){a.stopEvent(g)}}}this._listFix(g)}this._fixListDupIds();this.fireEvent("editorKeyPress",{type:"editorKeyPress",target:this,ev:g})},_handleKeyDown:function(D){var F=this.fireEvent("beforeEditorKeyDown",{type:"beforeEditorKeyDown",target:this,ev:D});if(F===false){return false}var B=null,f=null;if(this._isNonEditable(D)){return false}this._setCurrentEvent(D);if(this.currentWindow){this.closeWindow()}if(this.currentWindow){this.closeWindow()}if(this._isSpecialKey(D)){var t=false,y=null,v=null,x=false;switch(D.keyCode){case this._keyMap.CREATE_ANCHOR.key:var e=this._getSelectedElement();if(this._hasSelection()||(e&&this._isElement(e,"a"))){if(this._checkKey(this._keyMap.CREATE_ANCHOR,D)){var g=true;if(this.get("limitCommands")){if(!this.toolbar.getButtonByValue("createanchor")){g=false}}if(g){a.stopEvent(D);this._handleCreateAnchorClick();this.execCommand("createanchor","");t=false;break}}}case this._keyMap.SELECT_ALL.key:if(!this._checkKey(this._keyMap.CREATE_ANCHOR,D)&&this._checkKey(this._keyMap.SELECT_ALL,D)){this.nodeChange()}break;case this._keyMap.FOCUS_TOOLBAR.key:if(this._checkKey(this._keyMap.FOCUS_TOOLBAR,D)){var C=this.toolbar.getElementsByTagName("h2")[0];if(C&&C.firstChild){C.firstChild.focus()}}else{if(this._checkKey(this._keyMap.FOCUS_AFTER,D)){this.afterElement.focus()}}a.stopEvent(D);t=false;break;case this._keyMap.CREATE_LINK.key:if(this._hasSelection()){if(this._checkKey(this._keyMap.CREATE_LINK,D)){var g=true;if(this.get("limitCommands")){if(!this.toolbar.getButtonByValue("createlink")){g=false}}if(g){a.stopEvent(D);this._handleCreateLinkClick();this.execCommand("createlink","");t=false}}}break;case this._keyMap.UNDO.key:if(this._checkKey(this._keyMap.UNDO,D)){y="undo";t=true}break;case this._keyMap.REDO.key:if(this._checkKey(this._keyMap.REDO,D)){y="redo";t=true}break;case this._keyMap.BOLD.key:if(this._checkKey(this._keyMap.BOLD,D)){y="bold";t=true}break;case this._keyMap.FONT_SIZE_UP.key:case this._keyMap.FONT_SIZE_DOWN.key:var q=false,A=false;if(this._checkKey(this._keyMap.FONT_SIZE_UP,D)){q=true}if(this._checkKey(this._keyMap.FONT_SIZE_DOWN,D)){A=true}if(q||A){var m=this.toolbar.getButtonByValue("fontsize"),l=parseInt(m.get("label"),10),n=(l+1);if(A){n=(l-1)}y="fontsize";v=n+"px";t=true}break;case this._keyMap.ITALIC.key:if(this._checkKey(this._keyMap.ITALIC,D)){y="italic";t=true}break;case this._keyMap.UNDERLINE.key:if(this._checkKey(this._keyMap.UNDERLINE,D)){y="underline";t=true}break;case 9:if(this.browser.ie){f=this._getRange();B=this._getSelectedElement();if(!this._isElement(B,"li")){if(this.browser.ie<11){if(f){f.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;");f.collapse(false);f.select()}}else{this.execCommand("inserthtml","&nbsp;&nbsp;&nbsp;&nbsp;")}a.stopEvent(D)}}if(this.browser.gecko>1.8){B=this._getSelectedElement();if(this._isElement(B,"li")){if(D.shiftKey){this._getDoc().execCommand("outdent",null,"")}else{this._getDoc().execCommand("indent",null,"")}}else{if(!this._hasSelection()){this.execCommand("inserthtml","&nbsp;&nbsp;&nbsp;&nbsp;")}}a.stopEvent(D)}break;case 13:var s=null,z=0;if(this.get("ptags")&&!D.shiftKey){if(this.browser.gecko){B=this._getSelectedElement();if(!this._hasParent(B,"li")){if(this._hasParent(B,"p")){s=this._getDoc().createElement("p");s.innerHTML="&nbsp;";c.insertAfter(s,B);this._selectNode(s.firstChild)}else{if(this._isElement(B,"body")){this.execCommand("insertparagraph",null);var u=this._getDoc().body.getElementsByTagName("p");for(z=0;z<u.length;z++){if(u[z].getAttribute("_moz_dirty")!==null){s=this._getDoc().createElement("p");s.innerHTML="&nbsp;";c.insertAfter(s,u[z]);this._selectNode(s.firstChild);u[z].removeAttribute("_moz_dirty")}}}else{t=true;y="insertparagraph"}}a.stopEvent(D)}}if(this.browser.webkit){B=this._getSelectedElement();if(!this._hasParent(B,"li")){this.execCommand("insertparagraph",null);var w=this._getDoc().body.getElementsByTagName("div");for(z=0;z<w.length;z++){if(!c.hasClass(w[z],"yui-wk-div")){c.addClass(w[z],"yui-wk-p")}}a.stopEvent(D)}}}else{if(this.browser.webkit){B=this._getSelectedElement();if(!this._hasParent(B,"li")){if(this.browser.webkit4){this.execCommand("insertlinebreak")}else{this.execCommand("inserthtml",'<var id="yui-br"></var>');var r=this._getDoc().getElementById("yui-br"),E=this._getDoc().createElement("br"),o=this._getDoc().createElement("span");r.parentNode.replaceChild(E,r);o.className="yui-non";o.innerHTML="&nbsp;";c.insertAfter(o,E);this._selectNode(o)}a.stopEvent(D)}}if(this.browser.ie){f=this._getRange();B=this._getSelectedElement();var k=false;if(this._isElement(B,"font")){var j=B;while(!k&&j.parentNode&&!this._isElement(j.parentNode,"body")){j=j.parentNode;k=this._isElement(j,"li")}}if(!k&&!this._isElement(B,"li")&&!this._isElement(B.parentNode,"li")){if(this.browser.ie<11){f=this._getRange();if(f){f.pasteHTML("<br>");f.collapse(false);f.select()}}else{this.execCommand("inserthtml","<br>")}a.stopEvent(D)}}}break}}if(this.browser.ie){this._listFix(D)}if(t&&y){this.execCommand(y,v);a.stopEvent(D);this.nodeChange()}if(!(D.ctrlKey||D.shiftKey||D.metaKey)){this._storeUndo()}this.fireEvent("editorKeyDown",{type:"editorKeyDown",target:this,ev:D})},_fixListRunning:null,_fixListDupIds:function(){if(this._fixListRunning){return false}if(this._getDoc()&&this._getDoc().body){this._fixListRunning=true;var e=this._getDoc().body.getElementsByTagName("li"),f=0,g={};for(f=0;f<e.length;f++){if(e[f].id){if(g[e[f].id]){e[f].id=""}g[e[f].id]=true}}this._fixListRunning=false}},_listFix:function(k){var g=null,j=null,e=false,f=null;if(k.keyCode&&((!this.browser.webkit3&&(k.keyCode==25))||((this.browser.webkit3||!this.browser.webkit)&&((k.keyCode==9)&&k.shiftKey)))){g=this._getSelectedElement();if(this._hasParent(g,"li")){g=this._hasParent(g,"li");if(this._hasParent(g,"ul")||this._hasParent(g,"ol")){j=this._hasParent(g,"ul");if(!j){j=this._hasParent(g,"ol")}if(this._isElement(j.previousSibling,"li")){j.removeChild(g);j.parentNode.insertBefore(g,j.nextSibling);if(this.browser.ie){f=this._getDoc().body.createTextRange();f.moveToElementText(g);f.collapse(false);f.select()}if(this.browser.webkit){this._selectNode(g.firstChild)}a.stopEvent(k)}}}}if(k.keyCode&&((k.keyCode==9)&&(!k.shiftKey))){var i=this._getSelectedElement();if(this._hasParent(i,"li")){e=this._hasParent(i,"li").innerHTML}if(this.browser.webkit){this._getDoc().execCommand("inserttext",false,"\t")}g=this._getSelectedElement();if(this._hasParent(g,"li")){j=this._hasParent(g,"li");var l=this._getDoc().createElement(j.parentNode.tagName.toLowerCase());if(this.browser.webkit){var h=c.getElementsByClassName("Apple-tab-span","span",j);if(h[0]){j.removeChild(h[0]);j.innerHTML=d.trim(j.innerHTML);if(e){j.innerHTML='<span class="yui-non">'+e+"</span>&nbsp;"}else{j.innerHTML='<span class="yui-non">&nbsp;</span>&nbsp;'}}}else{if(e){j.innerHTML=e+"&nbsp;"}else{j.innerHTML="&nbsp;"}}j.parentNode.replaceChild(l,j);l.appendChild(j);if(this.browser.webkit){this._getSelection().setBaseAndExtent(j.firstChild,1,j.firstChild,j.firstChild.innerText.length);if(!this.browser.webkit3){j.parentNode.parentNode.style.display="list-item";setTimeout(function(){j.parentNode.parentNode.style.display="block"},1)}}else{if(this.browser.ie){f=this._getDoc().body.createTextRange();f.moveToElementText(j);f.collapse(false);f.select()}else{this._selectNode(j)}}a.stopEvent(k)}if(this.browser.webkit){a.stopEvent(k)}this.nodeChange()}},nodeChange:function(e){var f=this;this._storeUndo();if(this.get("nodeChangeDelay")){window.setTimeout(function(){f._nodeChange.apply(f,arguments)},100)}else{this._nodeChange()}},_nodeChange:function(g){var k=parseInt(this.get("nodeChangeThreshold"),10),r=Math.round(new Date().getTime()/1000),u=this;if(g===true){this._lastNodeChange=0}if((this._lastNodeChange+k)<r){if(this._fixNodesTimer===null){this._fixNodesTimer=window.setTimeout(function(){u._fixNodes.call(u);u._fixNodesTimer=null},0)}}this._lastNodeChange=r;if(this.currentEvent){try{this._lastNodeChangeEvent=this.currentEvent.type}catch(D){}}var C=this.fireEvent("beforeNodeChange",{type:"beforeNodeChange",target:this});if(C===false){return false}if(this.get("dompath")){window.setTimeout(function(){u._writeDomPath.call(u)},0)}if(!this.get("disabled")){if(this.STOP_NODE_CHANGE){this.STOP_NODE_CHANGE=false;return false}else{if(this._undo_button==null){this._undo_button=this.toolbar.getButtonByValue("undo")}if(this._redo_button==null){this._redo_button=this.toolbar.getButtonByValue("redo")}if(this._fn_button==null){this._fn_button=this.toolbar.getButtonByValue("fontname")}if(this._fs_button==null){this._fs_button=this.toolbar.getButtonByValue("fontsize")}var w=this._getSelection(),t=this._getRange(w),f=this._getSelectedElement(),p=this._fn_button,o=this._fs_button,m=this._undo_button,h=this._redo_button;var q={};if(this._lastButton){q[this._lastButton.id]=true}if(!this._isElement(f,"body")){if(p){q[p.get("id")]=true}if(o){q[o.get("id")]=true}}if(h){delete q[h.get("id")]}this.toolbar.resetAllButtons(q);for(var E=0;E<this._disabled.length;E++){var s=this.toolbar.getButtonByValue(this._disabled[E]);if(s&&s.get){if(this._lastButton&&(s.get("id")===this._lastButton.id)){}else{if(!this._hasSelection()&&!this.get("insert")){switch(this._disabled[E]){case"fontname":case"fontsize":break;default:this.toolbar.disableButton(s)}}else{if(!this._alwaysDisabled[this._disabled[E]]){this.toolbar.enableButton(s)}}if(!this._alwaysEnabled[this._disabled[E]]){this.toolbar.deselectButton(s)}}}}var v=this._getDomPath();var F=null,z=null;for(var A=0;A<v.length;A++){F=v[A].tagName.toLowerCase();if(v[A].getAttribute("tag")){F=v[A].getAttribute("tag").toLowerCase()}if(F==="a"&&v[A].getAttribute("name")!=null&&v[A].getAttribute("name").length>0){z="createanchor"}else{z=this._tag2cmd[F]}if(z===undefined){z=[]}if(!d.isArray(z)){z=[z]}if(v[A].style.fontWeight.toLowerCase()=="bold"){z[z.length]="bold"}if(v[A].style.fontStyle.toLowerCase()=="italic"){z[z.length]="italic"}if(v[A].style.textDecoration.toLowerCase()=="underline"){z[z.length]="underline"}if(v[A].style.textDecoration.toLowerCase()=="line-through"){z[z.length]="strikethrough"}if(z.length>0){for(var y=0;y<z.length;y++){this.toolbar.selectButton(z[y]);this.toolbar.enableButton(z[y])}}switch(v[A].style.textAlign.toLowerCase()){case"left":case"right":case"center":case"justify":var x=v[A].style.textAlign.toLowerCase();if(v[A].style.textAlign.toLowerCase()=="justify"){x="full"}this.toolbar.selectButton("justify"+x);this.toolbar.enableButton("justify"+x);break}}if(p){var B=p._configs.label._initialConfig.value;p.set("label",'<span class="yui-toolbar-fontname-'+this._cleanClassName(B)+'">'+B+"</span>");this._updateMenuChecked("fontname",B)}if(o){o.set("label",o._configs.label._initialConfig.value)}var n=this.toolbar.getButtonByValue("heading");if(n){n.set("label",n._configs.label._initialConfig.value);this._updateMenuChecked("heading","none")}var l=this.toolbar.getButtonByValue("insertimage");if(l&&this.currentWindow&&(this.currentWindow.name=="insertimage")){this.toolbar.disableButton(l)}if(this._lastButton&&this._lastButton.isSelected){this.toolbar.deselectButton(this._lastButton.id)}this._undoNodeChange()}}this.fireEvent("afterNodeChange",{type:"afterNodeChange",target:this})},_updateMenuChecked:function(e,f,h){if(!h){h=this.toolbar}var g=h.getButtonByValue(e);g.checkValue(f)},_handleToolbarClick:function(f){var h="";var i="";var g=f.button.value;if(f.button.menucmd){h=g;g=f.button.menucmd}this._lastButton=f.button;if(this.STOP_EXEC_COMMAND){this.STOP_EXEC_COMMAND=false;return false}else{this.execCommand(g,h);if(!this.browser.webkit){var e=this;if(!e.get("panel").cfg.getProperty("visible")){setTimeout(function(){e.focus.call(e)},5)}}}a.stopEvent(f)},_setupAfterElement:function(){if(!this.beforeElement){this.beforeElement=document.createElement("h2");this.beforeElement.className="yui-editor-skipheader";this.beforeElement.tabIndex="-1";this.beforeElement.innerHTML=this.STR_BEFORE_EDITOR;this.get("element_cont").get("firstChild").insertBefore(this.beforeElement,this.toolbar.get("nextSibling"))}if(!this.afterElement){this.afterElement=document.createElement("h2");this.afterElement.className="yui-editor-skipheader";this.afterElement.tabIndex="-1";this.afterElement.innerHTML=this.STR_LEAVE_EDITOR;this.get("element_cont").get("firstChild").appendChild(this.afterElement)}},_disableEditor:function(j){var i,h,g,e;if(!this.get("disabled_iframe")){i=this._createIframe();i.set("id","disabled_"+this.get("iframe").get("id"));i.setStyle("height","100%");i.setStyle("display","none");i.setStyle("visibility","visible");this.set("disabled_iframe",i);h=this.get("iframe").get("parentNode");h.appendChild(i.get("element"))}if(!i){i=this.get("disabled_iframe")}if(j){this._orgIframe=this.get("iframe");if(this.toolbar){this.toolbar.set("disabled",true)}g=this.getEditorHTML();e=this.get("iframe").get("offsetHeight");i.setStyle("visibility","");i.setStyle("position","");i.setStyle("top","");i.setStyle("left","");this._orgIframe.setStyle("visibility","hidden");this._orgIframe.setStyle("position","absolute");this._orgIframe.setStyle("top","-99999px");this._orgIframe.setStyle("left","-99999px");this.set("iframe",i);this._setInitialContent(true);if(!this._mask){this._mask=document.createElement("DIV");c.addClass(this._mask,"yui-editor-masked");if(this.browser.ie){this._mask.style.height=e+"px"}this.get("iframe").get("parentNode").appendChild(this._mask)}this.on("editorContentReloaded",function(){this._getDoc().body._rteLoaded=false;this.setEditorHTML(g);i.setStyle("display","block");this.unsubscribeAll("editorContentReloaded")})}else{if(this._mask){this._mask.parentNode.removeChild(this._mask);this._mask=null;if(this.toolbar){this.toolbar.set("disabled",false)}i.setStyle("visibility","hidden");i.setStyle("position","absolute");i.setStyle("top","-99999px");i.setStyle("left","-99999px");this._orgIframe.setStyle("visibility","");this._orgIframe.setStyle("position","");this._orgIframe.setStyle("top","");this._orgIframe.setStyle("left","");this.set("iframe",this._orgIframe);this.focus();var f=this;window.setTimeout(function(){f.nodeChange.call(f)},100)}}},SEP_DOMPATH:"<",STR_OK:"OK",STR_CANCEL:"Cancel",STR_LENGTH:"length",STR_MAX_LENGTH_EXCEEDED:"Maximum Length Exceeded.",STR_LEAVE_EDITOR:"You have left the Rich Text Editor.",STR_BEFORE_EDITOR:"This text field can contain stylized text and graphics. To cycle through all formatting options, use the keyboard shortcut Shift + Escape to place focus on the toolbar and navigate between options with your arrow keys. To exit this text editor use the Escape key and continue tabbing. <h4>Common formatting keyboard shortcuts:</h4><ul><li>Control Shift B sets text to bold</li> <li>Control Shift I sets text to italic</li> <li>Control Shift U underlines text</li> <li>Control Shift L adds an HTML link</li></ul>",STR_TITLE:"Rich Text Area.",STR_IMAGE_HERE:"Image URL Here",STR_IMAGE_URL:"Image URL",STR_LINK_URL:"Link URL",STR_NO_BOOKMARKS:"No Bookmarks...",STR_BOOKMARKS_TOOLTIP:"List of Bookmarks found on this page.",STR_ANCHOR_URL:"Bookmark Name",STR_LABEL_BOLD:"Bold",STR_LABEL_ITALIC:"Italic",STR_LABEL_UNDERLINE:"Underline",STR_LABEL_STRIKE:"Strike Through",STR_LABEL_FONT_COLOR:"Font Color",STR_LABEL_BACKGROUND_COLOR:"Background Color",STR_LABEL_CREATE_UNORDERED_LIST:"Create an Unordered List",STR_LABEL_CREATE_ORDERED_LIST:"Create an Ordered List",STR_LABEL_HTML_LINK:"HTML Link",STR_LABEL_ANCHOR_LINK:"Insert or Change Bookmark",STR_LABEL_INSERT_IMAGE:"Insert or Change Image",STOP_EXEC_COMMAND:false,STOP_NODE_CHANGE:false,CLASS_NOEDIT:"yui-noedit",CLASS_PARENT_CONTAINER:"yui-editor-parent-container",CLASS_CONTAINER:"yui-editor-container",CLASS_EDITABLE:"yui-editor-editable",CLASS_EDITABLE_CONT:"yui-editor-editable-container",CLASS_PREFIX:"yui-editor",browser:function(){var e=YAHOO.env.ua;if(e.webkit>=420){e.webkit3=e.webkit}else{e.webkit3=0}if(e.webkit>=530){e.webkit4=e.webkit}else{e.webkit4=0}e.mac=false;if(navigator.userAgent.indexOf("Macintosh")!==-1){e.mac=true}return e}(),init:function(f,e){if(!this._defaultToolbar){this._defaultToolbar={collapse:true,titlebar:false,draggable:false,buttons:[{group:"fontstyle",buttons:[{type:"select",label:"Arial",value:"fontname",disabled:false,menu:[{text:"Arial",checked:true},{text:"Arial Black"},{text:"Comic Sans MS"},{text:"Courier New"},{text:"Lucida Console"},{text:"Tahoma"},{text:"Times New Roman"},{text:"Trebuchet MS"},{text:"Verdana"}]},{type:"spin",label:"13",value:"fontsize",range:[9,75],disabled:false}]},{type:"separator"},{group:"textstyle",buttons:[{type:"push",label:this.STR_LABEL_BOLD+" (Ctrl + Shift + B)",value:"bold"},{type:"push",label:this.STR_LABEL_ITALIC+" (Ctrl + Shift + I )",value:"italic"},{type:"push",label:this.STR_LABEL_UNDERLINE+" (Ctrl + Shift + U)",value:"underline"},{type:"push",label:this.STR_LABEL_STRIKE,value:"strikethrough"},{type:"separator"},{type:"color",label:this.STR_LABEL_FONT_COLOR,value:"forecolor",disabled:false},{type:"color",label:this.STR_LABEL_BACKGROUND_COLOR,value:"backcolor",disabled:false}]},{type:"separator"},{group:"indentlist",buttons:[{type:"push",label:this.STR_LABEL_CREATE_UNORDERED_LIST,value:"insertunorderedlist"},{type:"push",label:this.STR_LABEL_CREATE_ORDERED_LIST,value:"insertorderedlist"}]},{type:"separator"},{group:"insertitem",buttons:[{type:"push",label:this.STR_LABEL_HTML_LINK+" (Crtl + Shift + L)",value:"createlink",disabled:false},{type:"push",label:this.STR_LABEL_ANCHOR_LINK+" (Crtl + Shift + A)",value:"createanchor",disabled:false},{type:"push",label:this.STR_LABEL_INSERT_IMAGE,value:"insertimage"}]},{type:"separator"},{group:"redo_undo",label:"&nbsp;",buttons:[{type:"push",label:this.STR_LABEL_UNDO+" (Crtl + Z)",value:"undo"},{type:"push",label:this.STR_LABEL_REDO+" (Crtl + Y)",value:"redo"}]}]}}YAHOO.widget.SimpleEditor.superclass.init.call(this,f,e);YAHOO.widget.EditorInfo._instances[this.get("id")]=this;this.currentElement=[];this.on("contentReady",function(){this.DOMReady=true;this.fireQueue()},this,true)},initAttributes:function(e){YAHOO.widget.SimpleEditor.superclass.initAttributes.call(this,e);var f=this;this.setAttributeConfig("setDesignMode",{value:((e.setDesignMode===false)?false:true)});this.setAttributeConfig("nodeChangeDelay",{value:((e.nodeChangeDelay===false)?false:true)});this.setAttributeConfig("maxUndo",{writeOnce:true,value:e.maxUndo||30});this.setAttributeConfig("floatingEditor",{writeOnce:true,value:e.floatingEditor||false});this.setAttributeConfig("ptags",{writeOnce:true,value:e.ptags||false});this.setAttributeConfig("insert",{writeOnce:true,value:e.insert||true,method:function(l){if(l){var k={fontname:true,fontsize:true,forecolor:true,backcolor:true};var j=this._defaultToolbar.buttons;for(var h=0;h<j.length;h++){if(j[h].buttons){for(var g=0;g<j[h].buttons.length;g++){if(j[h].buttons[g].value){if(k[j[h].buttons[g].value]){delete j[h].buttons[g].disabled}}}}}}}});this.setAttributeConfig("container",{writeOnce:true,value:e.container||false});this.setAttributeConfig("plainText",{writeOnce:true,value:e.plainText||false});this.setAttributeConfig("iframe",{value:null});this.setAttributeConfig("disabled_iframe",{value:null});this.setAttributeConfig("textarea",{value:null,writeOnce:true});this.setAttributeConfig("nodeChangeThreshold",{value:e.nodeChangeThreshold||3,validator:YAHOO.lang.isNumber});this.setAttributeConfig("allowNoEdit",{value:e.allowNoEdit||false,validator:YAHOO.lang.isBoolean});this.setAttributeConfig("maxLength",{value:e.maxLength||0,validator:YAHOO.lang.isNumber});this.setAttributeConfig("limitCommands",{value:e.limitCommands||false,validator:YAHOO.lang.isBoolean});this.setAttributeConfig("element_cont",{value:e.element_cont});this.setAttributeConfig("element_parent_cont",{value:e.element_parent_cont});this.setAttributeConfig("editor_wrapper",{value:e.editor_wrapper||null,writeOnce:true});this.setAttributeConfig("height",{value:e.height||c.getStyle(f.get("element"),"height"),method:function(g){if(this._rendered){if(this.get("animate")){var h=new YAHOO.util.Anim(this.get("iframe").get("parentNode"),{height:{to:parseInt(g,10)}},0.5);h.animate()}else{c.setStyle(this.get("iframe").get("parentNode"),"height",g)}}}});this.setAttributeConfig("autoHeight",{value:e.autoHeight||false,method:function(g){if(g){if(this.get("iframe")){this.get("iframe").get("element").setAttribute("scrolling","no")}this.on("afterNodeChange",this._handleAutoHeight,this,true);this.on("editorKeyDown",this._handleAutoHeight,this,true);this.on("editorKeyPress",this._handleAutoHeight,this,true)}else{if(this.get("iframe")){this.get("iframe").get("element").setAttribute("scrolling","auto")}this.unsubscribe("afterNodeChange",this._handleAutoHeight);this.unsubscribe("editorKeyDown",this._handleAutoHeight);this.unsubscribe("editorKeyPress",this._handleAutoHeight)}}});this.setAttributeConfig("width",{value:e.width||c.getStyle(this.get("element"),"width"),method:function(g){if(this._rendered){if(this.get("animate")){var h=new YAHOO.util.Anim(this.get("element_cont").get("element"),{width:{to:parseInt(g,10)}},0.5);h.animate()}else{this.get("element_cont").setStyle("width",g)}}}});this.setAttributeConfig("blankimage",{value:e.blankimage||this._getBlankImage()});this.setAttributeConfig("css",{value:e.css||this._defaultCSS,writeOnce:true});this.setAttributeConfig("html",{value:e.html||'<html dir="{DIRECTION}"><head><title>{TITLE}</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><base href="'+this._baseHREF+'"><style>{CSS}</style><style>{HIDDEN_CSS}</style><style>{EXTRA_CSS}</style></head><body onload="document.body._rteLoaded = true;">{CONTENT}</body></html>',writeOnce:true});this.setAttributeConfig("extracss",{value:e.extracss||"",writeOnce:true});this.setAttributeConfig("handleSubmit",{value:e.handleSubmit||false,method:function(g){if(this.get("element").form){if(!this._formButtons){this._formButtons=[]}if(g){a.on(this.get("element").form,"submit",this._handleFormSubmit,this,true);var h=this.get("element").form.getElementsByTagName("input");for(var k=0;k<h.length;k++){var j=h[k].getAttribute("type");if(j&&(j.toLowerCase()=="submit")){a.on(h[k],"click",this._handleFormButtonClick,this,true);this._formButtons[this._formButtons.length]=h[k]}}}else{a.removeListener(this.get("element").form,"submit",this._handleFormSubmit);if(this._formButtons){a.removeListener(this._formButtons,"click",this._handleFormButtonClick)}}}}});this.setAttributeConfig("disabled",{value:false,method:function(g){if(this._rendered){this._disableEditor(g)}}});this.setAttributeConfig("rtl",{value:e.rtl||this._rtl,writeOnce:true,method:function(g){this._rtl=g}});this.setAttributeConfig("singleline",{value:e.singleline||this._singleline,writeOnce:false,method:function(g){this._singleline=g}});this.setAttributeConfig("bookmarks",{value:e.bookmarks||this._bookmarks,writeOnce:false,method:function(g){this._bookmarks=g}});this.setAttributeConfig("enableSpellChecker",{value:e.enableSpellChecker||this._enableSpellChecker,writeOnce:false,method:function(g){this._enableSpellChecker=g}});this.setAttributeConfig("externalURLFieldID",{value:e.externalURLFieldID||this._externalURLFieldID,writeOnce:false,method:function(g){this._externalURLFieldID=g}});this.setAttributeConfig("externalURLFieldLabel",{value:e.externalURLFieldLabel||this._externalURLFieldLabel,writeOnce:false,method:function(g){this._externalURLFieldLabel=g}});this.setAttributeConfig("externalURLFieldWidth",{value:e.externalURLFieldWidth||this._externalURLFieldWidth,writeOnce:false,method:function(g){this._externalURLFieldWidth=g}});this.setAttributeConfig("dompathfull",{value:e.dompathfull||this._dompathfull,writeOnce:false,method:function(g){this._dompathfull=g}});this.setAttributeConfig("saveEl",{value:this.get("element")});this.setAttributeConfig("toolbar_cont",{value:null,writeOnce:true});this.setAttributeConfig("toolbar",{value:e.toolbar||this._defaultToolbar,writeOnce:true,method:function(g){if(!g.buttonType){g.buttonType=this._defaultToolbar.buttonType}this._defaultToolbar=g}});this.setAttributeConfig("insertImageButton",{value:e.insertImageButton||this._insertImageButton,writeOnce:true,method:function(g){this._insertImageButton=g}});this.setAttributeConfig("animate",{value:((e.animate)?((YAHOO.util.Anim)?true:false):false),validator:function(h){var g=true;if(!YAHOO.util.Anim){g=false}return g}});this.setAttributeConfig("panel",{value:null,writeOnce:true,validator:function(h){var g=true;if(!YAHOO.widget.Overlay){g=false}return g}});this.setAttributeConfig("focusAtStart",{value:e.focusAtStart||false,writeOnce:true,method:function(g){if(g){this.on("editorContentLoaded",function(){var h=this;setTimeout(function(){h.focus.call(h);h.editorDirty=false},400)},this,true)}}});this.setAttributeConfig("dompath",{value:e.dompath||false,method:function(h){if(h&&!this.dompath){this.dompath=document.createElement("DIV");this.dompath.id=this.get("id")+"_dompath";c.addClass(this.dompath,"dompath");this.get("element_cont").get("firstChild").appendChild(this.dompath);if(this.get("iframe")){this._writeDomPath()}if(!this.dompath.innerHTML||this.dompath.innerHTML.length==0){var g='<span title="body" style="visibility:hidden">body</span>';this.dompath.innerHTML=g}}else{if(!h&&this.dompath){this.dompath.parentNode.removeChild(this.dompath);this.dompath=null}}}});this.setAttributeConfig("markup",{value:e.markup||"semantic",validator:function(g){switch(g.toLowerCase()){case"semantic":case"css":case"default":case"xhtml":return true}return false}});this.setAttributeConfig("removeLineBreaks",{value:e.removeLineBreaks||false,validator:YAHOO.lang.isBoolean});this.setAttributeConfig("drag",{writeOnce:true,value:e.drag||false});this.setAttributeConfig("resize",{writeOnce:true,value:e.resize||false});this.setAttributeConfig("filterWord",{value:e.filterWord||false,validator:YAHOO.lang.isBoolean})},_getBlankImage:function(){if(!this.DOMReady){this._queue[this._queue.length]=["_getBlankImage",arguments];return""}var e="";var f=new RegExp('"',"g");if(!this._blankImageLoaded){if(YAHOO.widget.EditorInfo.blankImage){this.set("blankimage",YAHOO.widget.EditorInfo.blankImage);this._blankImageLoaded=true}else{var g=document.createElement("div");g.style.position="absolute";g.style.top="-9999px";g.style.left="-9999px";g.className=this.CLASS_PREFIX+"-blankimage";document.body.appendChild(g);e=YAHOO.util.Dom.getStyle(g,"background-image");e=e.replace("url(","").replace(")","").replace(f,"");e=e.replace("app:/","");this.set("blankimage",e);this._blankImageLoaded=true;g.parentNode.removeChild(g);YAHOO.widget.EditorInfo.blankImage=e}}else{e=this.get("blankimage")}return e},_handleAutoHeight:function(){var j=this._getDoc(),f=j.body,k=j.documentElement;var e=parseInt(c.getStyle(this.get("editor_wrapper"),"height"),10);var g=f.scrollHeight;if(this.browser.webkit){g=k.scrollHeight}if(g<parseInt(this.get("height"),10)){g=parseInt(this.get("height"),10)}if((e!=g)&&(g>=parseInt(this.get("height"),10))){var i=this.get("animate");this.set("animate",false);this.set("height",g+"px");this.set("animate",i);if(this.browser.ie){this.get("iframe").setStyle("height","99%");this.get("iframe").setStyle("zoom","1");var h=this;window.setTimeout(function(){h.get("iframe").setStyle("height","100%")},1)}}},_formButtons:null,_formButtonClicked:null,_handleFormButtonClick:function(f){var e=a.getTarget(f);this._formButtonClicked=e},_handleFormSubmit:function(h){this.saveHTML();var g=this.get("element").form,e=this._formButtonClicked||false;a.removeListener(g,"submit",this._handleFormSubmit);if(YAHOO.env.ua.ie){if(e&&!e.disabled){e.click()}}else{if(e&&!e.disabled){e.click()}var f=document.createEvent("HTMLEvents");f.initEvent("submit",true,true);g.dispatchEvent(f);if(YAHOO.env.ua.webkit){if(YAHOO.lang.isFunction(g.submit)){g.submit()}}}},_handleFontSize:function(g){var e=this.toolbar.getButtonById(g.button.id);var f=e.get("label")+"px";this.execCommand("fontsize",f);return false},_handleColorPicker:function(g){var f=g.button;var e="#"+g.color;if((f=="forecolor")||(f=="backcolor")){this.execCommand(f,e)}},_handleAlign:function(h){var g=null;for(var e=0;e<h.button.menu.length;e++){if(h.button.menu[e].value==h.button.value){g=h.button.menu[e].value}}var f=this._getSelection();this.execCommand(g,f);return false},_handleAfterNodeChange:function(){if(this._fn_button==null){this._fn_button=this.toolbar.getButtonByValue("fontname")}if(this._fs_button==null){this._fs_button=this.toolbar.getButtonByValue("fontsize")}var w=this._getDomPath(),r=null,l=null,s=null,g=false,n=this._fn_button,p=this._fs_button,e=this.toolbar.getButtonByValue("heading");var q=new RegExp("'","g");for(var k=0;k<w.length;k++){r=w[k];var v=r.tagName.toLowerCase();if(r.getAttribute("tag")){v=r.getAttribute("tag")}if(this.browser.webkit){while(r.className&&r.className=="Apple-style-span"&&r.parentNode){r=r.parentNode}}l=r.getAttribute("face");if(c.getStyle(r,"font-family")){l=c.getStyle(r,"font-family");l=l.replace(q,"")}if(v.substring(0,1)=="h"){if(e){for(var m=0;m<e._configs.menu.value.length;m++){if(e._configs.menu.value[m].value.toLowerCase()==v){e.set("label",e._configs.menu.value[m].text)}}this._updateMenuChecked("heading",v)}}}if(n){for(var u=0;u<n._configs.menu.value.length;u++){if(l&&n._configs.menu.value[u].text.toLowerCase()==l.toLowerCase()){g=true;l=n._configs.menu.value[u].text}}if(!g){l=n._configs.label._initialConfig.value}var t='<span class="yui-toolbar-fontname-'+this._cleanClassName(l)+'">'+l+"</span>";if(n.get("label")!=t){n.set("label",t);this._updateMenuChecked("fontname",l)}}if(p){s=parseInt(c.getStyle(r,"fontSize"),10);if((s===null)||isNaN(s)){s=p._configs.label._initialConfig.value}p.set("label",""+s)}if(!this._isElement(r,"body")&&!this._isElement(r,"img")&&this._hasSelection()){this.toolbar.enableButton(n);this.toolbar.enableButton(p)}if(this._hasParent(r,"table")||(!this._isElement(r,"body")&&!this._isElement(r,"img")&&this._hasSelection())){this.toolbar.enableButton("forecolor");this.toolbar.enableButton("backcolor");var f=this._hasParent(r,"td");if(f){var o=f.getAttribute("align");if(!o||o.length==0){o="left"}o=o.toLowerCase();switch(o){case"left":case"right":case"center":case"justify":if(o=="justify"||o=="full"){o="left"}this.toolbar.selectButton("justify"+o);this.toolbar.enableButton("justify"+o);break}}}if(this._isElement(r,"img")){if(YAHOO.widget.Overlay){this.toolbar.enableButton("createlink")}}if(this._hasParent(r,"blockquote")){this.toolbar.selectButton("indent");this.toolbar.disableButton("indent");this.toolbar.enableButton("outdent")}if(this._hasParent(r,"ol")||this._hasParent(r,"ul")){this.toolbar.disableButton("indent")}if(this._hasSelection()){var j=this._getSelectionHtml();if(j&&(j.indexOf("<img")>=0||j.indexOf("<table")>=0||j.indexOf("<td")>=0||j.indexOf("<tr")>=0||j.indexOf("<a")>0)){this.toolbar.disableButton("createanchor")}}this._lastButton=null},_handleInsertImageClick:function(){if(this.get("limitCommands")){if(!this.toolbar.getButtonByValue("insertimage")){return false}}this.toolbar.set("disabled",true);var e=function(){var f=this.currentElement[0],h="http://";if(!f){f=this._getSelectedElement()}if(f){if(f.getAttribute("src")){h=f.getAttribute("src",2);if(h.indexOf(this.get("blankimage"))!=-1){h=this.STR_IMAGE_HERE}}}var g=prompt(this.STR_IMAGE_URL+": ",h);if((g!=="")&&(g!==null)){f.setAttribute("src",g)}else{if(g===""){f.parentNode.removeChild(f);this.currentElement=[];this.nodeChange()}else{if((g===null)){h=f.getAttribute("src",2);if(h.indexOf(this.get("blankimage"))!=-1){f.parentNode.removeChild(f);this.currentElement=[];this.nodeChange()}}}}this.closeWindow();this.toolbar.set("disabled",false);this.unsubscribe("afterExecCommand",e,this,true)};this.on("afterExecCommand",e,this,true)},_handleInsertImageWindowClose:function(){this.nodeChange()},_isLocalFile:function(e){if((e)&&(e!=="")&&((e.indexOf("file:/")!=-1)||(e.indexOf(":\\")!=-1))){return true}return false},_isMissingBookmark:function(f){if(f&&f.indexOf("#")==0){f=f.substring(1);if(this._bookmarks&&this._bookmarks.length){for(var e=0;e<this._bookmarks.length;e++){if(this._bookmarks[e]===f){return false}}}return $(this._getDoc()).find('a[name="'+f+'"]').length<=0}return false},_isDuplicateBookmark:function(f){if(f&&f.length>0){var g=0;if(this._bookmarks&&this._bookmarks.length){for(var e=0;e<this._bookmarks.length;e++){if(this._bookmarks[e]==f){g++}}}g+=$(this._getDoc()).find('a[name="'+f+'"]').length;return g>1}return false},_isURL:function(g){if((g)&&(g!=="")){var e="((ftp|www|http|https|gopher|mailto|news|nntp|telnet|wais|files|prospero|aim|webcal)[:.A-Za-z0-9/](([A-Za-z0-9$_.+!*(),;/?:@&~=-])|%[A-Fa-f0-9]{2})+)";var f=new RegExp(e,"gim");return f.test(g)}return false},_handleCreateLinkClick:function(){if(this.get("limitCommands")){if(!this.toolbar.getButtonByValue("createlink")){return false}}this.toolbar.set("disabled",true);var e=function(){var h=this.currentElement[0],g="";if(h){if(h.getAttribute("href",2)!==null){g=h.getAttribute("href",2)}}var j=prompt(this.STR_LINK_URL+": ",g);if((j!=="")&&(j!==null)){var i=j;if((i.indexOf("://")==-1)&&(i.substring(0,1)!="/")&&(i.substring(0,6).toLowerCase()!="mailto")){if((i.indexOf("@")!=-1)&&(i.substring(0,6).toLowerCase()!="mailto")){i="mailto:"+i}else{if(i.substring(0,1)!="#"){}}}h.setAttribute("href",i)}else{if(j!==null){var f=this._getDoc().createElement("span");f.innerHTML=h.innerHTML;c.addClass(f,"yui-non");h.parentNode.replaceChild(f,h)}}this.closeWindow();this.toolbar.set("disabled",false);this.unsubscribe("afterExecCommand",e,this,true)};this.on("afterExecCommand",e,this)},_handleCreateLinkWindowClose:function(){this.nodeChange();this.currentElement=[]},_handleCreateAnchorClick:function(){if(this.get("limitCommands")){if(!this.toolbar.getButtonByValue("createanchor")){return false}}this.toolbar.set("disabled",true);var e=function(){var h=this.currentElement[0],g="";if(h){if(h.getAttribute("name")!==null){g=h.getAttribute("name")}}var j=prompt(this.STR_ANCHOR_URL+": ",g);if((j!=="")&&(j!==null)){var i=j;h.setAttribute("name",i)}else{if(j!==null){var f=this._getDoc().createElement("span");f.innerHTML=h.innerHTML;c.addClass(f,"yui-non");h.parentNode.replaceChild(f,h)}}this.closeWindow();this.toolbar.set("disabled",false);this.unsubscribe("afterExecCommand",e,this,true)};this.on("afterExecCommand",e,this)},_handleCreateAnchorWindowClose:function(){this.nodeChange();this.currentElement=[]},render:function(){if(this._rendered){return false}if(!this.DOMReady){this._queue[this._queue.length]=["render",arguments];return false}if(this.get("element")){if(this.get("element").tagName){this._textarea=true;if(this.get("element").tagName.toLowerCase()!=="textarea"){this._textarea=false}}else{return false}}else{return false}this._rendered=true;var e=this;window.setTimeout(function(){e._render.call(e)},4)},_render:function(){var e=this;this.set("textarea",this.get("element"));var g=this.get("floatingEditor");if(g){this.get("element_parent_cont").setStyle("display","none");this.get("element_parent_cont").addClass(this.CLASS_PARENT_CONTAINER)}this.get("element_cont").setStyle("display","none");this.get("element_cont").addClass(this.CLASS_CONTAINER);this.set("iframe",this._createIframe());window.setTimeout(function(){e._setInitialContent.call(e)},10);this.get("editor_wrapper").appendChild(this.get("iframe").get("element"));if(this.get("disabled")){this._disableEditor(true)}var f=this.get("toolbar");if(f instanceof b){this.toolbar=f;this.toolbar.set("disabled",true)}else{f.disabled=true;this.toolbar=new b(this.get("toolbar_cont"),f)}this.fireEvent("toolbarLoaded",{type:"toolbarLoaded",target:this.toolbar});this.toolbar.on("toolbarCollapsed",function(){if(this.currentWindow){this.moveWindow()}},this,true);this.toolbar.on("toolbarExpanded",function(){if(this.currentWindow){this.moveWindow()}},this,true);this.toolbar.on("fontsizeClick",this._handleFontSize,this,true);this.toolbar.on("colorPickerClicked",function(h){this._handleColorPicker(h);return false},this,true);this.toolbar.on("alignClick",this._handleAlign,this,true);this.on("afterNodeChange",this._handleAfterNodeChange,this,true);this.toolbar.on("insertimageClick",this._handleInsertImageClick,this,true);this.on("windowinsertimageClose",this._handleInsertImageWindowClose,this,true);this.toolbar.on("createlinkClick",this._handleCreateLinkClick,this,true);this.on("windowcreatelinkClose",this._handleCreateLinkWindowClose,this,true);this.toolbar.on("createanchorClick",this._handleCreateAnchorClick,this,true);this.on("windowcreateanchorClose",this._handleCreateAnchorWindowClose,this,true);if(g){this.get("parentNode").replaceChild(this.get("element_parent_cont").get("element"),this.get("element"))}else{this.get("parentNode").replaceChild(this.get("element_cont").get("element"),this.get("element"))}this.setStyle("visibility","hidden");this.setStyle("position","absolute");this.setStyle("top","-9999px");this.setStyle("left","-9999px");this.get("element_cont").appendChild(this.get("element"));this.get("element_cont").setStyle("display","block");if(g){this.get("element_parent_cont").setStyle("display","block")}c.addClass(this.get("iframe").get("parentNode"),this.CLASS_EDITABLE_CONT);this.get("iframe").addClass(this.CLASS_EDITABLE);this.get("element_cont").setStyle("width",this.get("width"));if(g){this.get("element_parent_cont").setStyle("width",this.get("width"))}c.setStyle(this.get("iframe").get("parentNode"),"height",this.get("height"));this.get("iframe").setStyle("width","100%");this.get("iframe").setStyle("height","100%");this._setupDD();window.setTimeout(function(){e._setupAfterElement.call(e)},0);this.fireEvent("afterRender",{type:"afterRender",target:this})},execCommand:function(g,f){var e=this.execCommandSpecial(g,f);if(!e){return false}this.on("afterExecCommand",function(){this.unsubscribeAll("afterExecCommand");this.nodeChange()},this,true);this.fireEvent("afterExecCommand",{type:"afterExecCommand",target:this})},execCommandSpecial:function(i,h){var l=this.fireEvent("beforeExecCommand",{type:"beforeExecCommand",target:this,args:arguments});if((l===false)||(this.STOP_EXEC_COMMAND)){this.STOP_EXEC_COMMAND=false;return false}this._lastCommand=i;this._setMarkupType(i);if(this.browser.ie){this._getWindow().focus()}var f=true;if(this.get("limitCommands")){if(!this.toolbar.getButtonByValue(i)){f=false}}this.editorDirty=true;if((typeof this["cmd_"+i.toLowerCase()]=="function")&&f){var k=this["cmd_"+i.toLowerCase()](h);f=k[0];if(k[1]){i=k[1]}if(k[2]){h=k[2]}}if(f){try{this._getDoc().execCommand(i,false,h)}catch(j){}}else{}var g=this._getSelectedElement();if(g&&this.browser.ie&&this.browser.ie<11&&(g.tagName=="STRONG"||g.tagName=="EM"||g.tagName=="U")&&(this._getDoc().getElementsByTagName("FONT").length!==0)){g.style.fontFamily=YAHOO.util.Dom.getStyle(this._getDoc().getElementsByTagName("FONT"),"font-family");g.style.fontSize=YAHOO.util.Dom.getStyle(this._getDoc().getElementsByTagName("FONT"),"font-size")}return true},cmd_bold:function(h){if(!this.browser.webkit){var g=this._getSelectedElement();if(g&&this._isElement(g,"span")&&this._hasSelection()){if(g.style.fontWeight=="bold"){g.style.fontWeight="";var e=this._getDoc().createElement("b"),f=g.parentNode;f.replaceChild(e,g);e.appendChild(g)}}}return[this._hasSelection()]},cmd_italic:function(h){if(!this.browser.webkit){var g=this._getSelectedElement();if(g&&this._isElement(g,"span")&&this._hasSelection()){if(g.style.fontStyle=="italic"){g.style.fontStyle="";var e=this._getDoc().createElement("i"),f=g.parentNode;f.replaceChild(e,g);e.appendChild(g)}}}return[this._hasSelection()]},cmd_underline:function(f){if(!this.browser.webkit&&!this.browser.ie){var e=this._getSelectedElement();if(e&&this._isElement(e,"span")&&!this._hasParent(e,"u")){if(this.browser.gecko){var g=e.style.textDecoration;if(!g){g=""}if(g==="underline"){g="none"}else{if(g.indexOf("underline")>=0){g=g.replace("underline","")}else{if(g.length===0||g==="none"){g="underline"}else{g+=" underline"}}}e.style.textDecoration=YAHOO.lang.trim(g)}else{if(e.style.textDecoration=="underline"){e.style.textDecoration="none"}else{e.style.textDecoration="underline"}}return[false]}}return[this._hasSelection()]},cmd_backcolor:function(i){var f=true,g=this._getSelectedElement(),h="backcolor";if(this.browser.gecko||this.browser.opera){this._setEditorStyle(true);h="hilitecolor"}if(g&&!this._hasSelection()&&this._hasParent(g,"table")){var e=null;e=this._hasParent(g,"td");if(e==null){e=this._hasParent(g,"tr");if(e==null){e=this._hasParent(g,"table")}}if(e){e.style.backgroundColor=i;f=false}}else{if(!this._isElement(g,"body")&&!this._hasSelection()){g.style.backgroundColor=i;this._selectNode(g);f=false}else{if(!this._hasSelection()&&this.get("insert")){g=this._createInsertElement({backgroundColor:i});f=false}else{f=true}}}return[f,h]},cmd_forecolor:function(k){var f=true,i=this._getSelectedElement();if(i&&!this._hasSelection()&&this._hasParent(i,"table")){var e=null;e=this._hasParent(i,"td");if(e==null){e=this._hasParent(i,"tr");if(e==null){e=this._hasParent(i,"table")}}if(e){e.style.borderLeftColor=k;e.style.borderRightColor=k;e.style.borderTopColor=k;e.style.borderBottomColor=k;f=false}}else{if(!this._isElement(i,"body")&&!this._hasSelection()){c.setStyle(i,"color",k);this._selectNode(i);f=false}else{if(!this._hasSelection()&&this.get("insert")){i=this._createInsertElement({color:k});f=false}else{f=true;if(this.browser.ie){var j=this._getSelection();if(j){var h=this._getRange(j);if(h){var g=this;setTimeout(function(){g._addSelection(h)},1)}}}}}}return[f]},cmd_unlink:function(e){this._swapEl(this.currentElement[0],"span",function(f){f.className="yui-non"});return[false]},cmd_createlink:function(g){var f=this._getSelectedElement(),e=null;if(this._hasParent(f,"a")){this.currentElement[0]=this._hasParent(f,"a")}else{if(!this._isElement(f,"a")){this._createCurrentElement("a");e=this._swapEl(this.currentElement[0],"a");this.currentElement[0]=e;this.currentElement[0].setAttribute("target","_blank")}else{this.currentElement[0]=f}}return[false]},cmd_createanchor:function(g){var f=this._getSelectedElement(),e=null;if(this._hasParent(f,"a")){this.currentElement[0]=this._hasParent(f,"a")}else{if(this._isElement(f,"li")){e=this._getDoc().createElement("a");e.innerHTML=f.innerHTML;f.innerHTML="";f.appendChild(e);this.currentElement[0]=e}else{if(!this._isElement(f,"a")){this._createCurrentElement("a");e=this._swapEl(this.currentElement[0],"a");this.currentElement[0]=e;this.currentElement[0].setAttribute("target",null)}else{this.currentElement[0]=f}}}return[false]},cmd_insertimage:function(k){var e=true,f=null,j="insertimage",h=this._getSelectedElement();if(k===""){k=this.get("blankimage")}if(this._isElement(h,"img")){this.currentElement[0]=h;e=false}else{var m="border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: black; border-right-color: black; border-bottom-color: black; border-left-color: black;";if(this._getDoc().queryCommandEnabled(j)){this._getDoc().execCommand(j,false,k);var l=this._getDoc().getElementsByTagName("img");for(var g=0;g<l.length;g++){if(!YAHOO.util.Dom.hasClass(l[g],"yui-img")){YAHOO.util.Dom.addClass(l[g],"yui-img");l[g].setAttribute("style",m);this.currentElement[0]=l[g]}}e=false}else{if(h==this._getDoc().body){f=this._getDoc().createElement("img");f.setAttribute("src",k);f.setAttribute("style",m);YAHOO.util.Dom.addClass(f,"yui-img");this._getDoc().body.appendChild(f)}else{this._createCurrentElement("img");f=this._getDoc().createElement("img");f.setAttribute("src",k);f.setAttribute("style",m);YAHOO.util.Dom.addClass(f,"yui-img");this.currentElement[0].parentNode.replaceChild(f,this.currentElement[0])}this.currentElement[0]=f;e=false}}return[e]},cmd_inserthtml:function(l){var g=true,h="inserthtml",j=null,k=null;if(this.browser.webkit&&!this._getDoc().queryCommandEnabled(h)){this._createCurrentElement("img");j=this._getDoc().createElement("span");j.innerHTML=l;this.currentElement[0].parentNode.replaceChild(j,this.currentElement[0]);g=false}else{if(this.browser.ie&&this.browser.ie<11){k=this._getRange();if(k.item){k.item(0).outerHTML=l}else{k.pasteHTML(l)}g=false}else{if(this.browser.ie>=11){var m=this._getSelection();var i=m.getRangeAt(0);i.deleteContents();var n,e;if(l.indexOf("<")==0&&l.indexOf("<")==l.lastIndexOf("<")&&l.indexOf(">")==l.length-1&&l.indexOf(" ")==-1){n=this._getDoc().createElement(l.substring(1,l.length-1));e=n}else{n=this._getDoc().createElement("span");n.innerHTML=l;var o=this._getDoc().createDocumentFragment(),f;while((f=n.firstChild)){e=o.appendChild(f)}n=o}i.insertNode(n);i.setStartAfter(e);i.setEndAfter(e);i.collapse(false);m.removeAllRanges();m.addRange(i)}}}return[g]},cmd_list:function(L){var C=true,H=null,v=0,g=null,B="",K=this._getSelectedElement(),D="insertorderedlist";if(L=="ul"){D="insertunorderedlist"}if((this.browser.webkit&&!this.browser.webkit4)||(this.browser.opera)){if(this._isElement(K,"li")&&this._isElement(K.parentNode,L)){g=K.parentNode;H=this._getDoc().createElement("span");YAHOO.util.Dom.addClass(H,"yui-non");B="";var f=g.getElementsByTagName("li"),m=((this.browser.opera&&this.get("ptags"))?"p":"div");for(v=0;v<f.length;v++){B+="<"+m+">"+f[v].innerHTML+"</"+m+">"}H.innerHTML=B;this.currentElement[0]=g;this.currentElement[0].parentNode.replaceChild(H,this.currentElement[0])}else{this._createCurrentElement(L.toLowerCase());H=this._getDoc().createElement(L);for(v=0;v<this.currentElement.length;v++){var n=this._getDoc().createElement("li");n.innerHTML=this.currentElement[v].innerHTML+'<span class="yui-non">&nbsp;</span>&nbsp;';H.appendChild(n);if(v>0){this.currentElement[v].parentNode.removeChild(this.currentElement[v])}}var A=((this.browser.opera)?"<BR>":"<br>"),z=H.firstChild.innerHTML.split(A),G,I;if(z.length>0){H.innerHTML="";for(G=0;G<z.length;G++){I=this._getDoc().createElement("li");I.innerHTML=z[G];H.appendChild(I)}}this.currentElement[0].parentNode.replaceChild(H,this.currentElement[0]);this.currentElement[0]=H;var h=this.currentElement[0].firstChild;h=c.getElementsByClassName("yui-non","span",h)[0];if(this.browser.webkit){this._getSelection().setBaseAndExtent(h,1,h,h.innerText.length)}}C=false}else{g=this._getSelectedElement();var F=(L=="ul")?"ol":"ul";if(this._isElement(g,"li")&&this._isElement(g.parentNode,L)||(this.browser.ie&&this._isElement(this._getRange().parentElement,"li"))||(this.browser.ie&&this._isElement(g,"ul"))||(this.browser.ie&&this._isElement(g,"ol"))){if(this.browser.ie){if((this.browser.ie&&this._isElement(g,"ul"))||(this.browser.ie&&this._isElement(g,"ol"))){g=g.getElementsByTagName("li")[0]}if(!this._isElement(g.parentNode,L)&&(this._isElement(g.parentNode,"ul")||this._isElement(g.parentNode,"ol"))){var J=this._getDoc().createElement(L);J.innerHTML=g.parentNode.innerHTML;g.parentNode.parentNode.replaceChild(J,g.parentNode)}else{B="";var l=g.parentNode.getElementsByTagName("li");for(var E=0;E<l.length;E++){B+=l[E].innerHTML+"<br>"}var J=this._getDoc().createElement("span");J.innerHTML=B;g.parentNode.parentNode.replaceChild(J,g.parentNode)}}else{this.nodeChange();this._getDoc().execCommand(D,"",g.parentNode);this.nodeChange()}C=false}else{if(this.browser.ie&&this._isElement(g,"li")&&this._isElement(g.parentNode,F)){var J=this._getDoc().createElement(L);J.innerHTML=g.parentNode.innerHTML;g.parentNode.parentNode.replaceChild(J,g.parentNode);C=false}}if(this.browser.opera){var y=this;window.setTimeout(function(){var j=y._getDoc().getElementsByTagName("li");for(var t=0;t<j.length;t++){if(j[t].innerHTML.toLowerCase()=="<br>"){j[t].parentNode.parentNode.removeChild(j[t].parentNode)}}},30)}if(this.browser.ie&&this.browser.ie<11&&C){var s="";var q=this._getRange();var k=this._autoSelectCurrentLine(q);if(!k){q=this._getRange()}var o=q.html;var p=q.text;if(o){s="<li>"+o+"</li>"}else{var u=p.split("\n");if(u.length>1){s="";for(var x=0;x<u.length;x++){var r=u[x].replace(/^\s\s*/,"").replace(/\s\s*$/,"");s+="<li>"+r+"</li>"}}else{if(p===""||k){s='<li id="new_list_item">'+p+"</li>"}else{s="<li>"+p+"</li>"}}}q.pasteHTML("<"+L+">"+s+"</"+L+">");var e=this._getDoc().getElementById("new_list_item");if(e){var w=this._getDoc().body.createTextRange();w.moveToElementText(e);w.collapse(false);w.select();e.id=""}C=false}}return C},cmd_insertorderedlist:function(e){return[this.cmd_list("ol")]},cmd_insertunorderedlist:function(e){return[this.cmd_list("ul")]},cmd_fontname:function(j){var e=true,h=this._getSelectedElement();this.currentFont=j;if(h&&h.tagName&&!this._hasSelection()&&!this._isElement(h,"body")&&!this.get("insert")){YAHOO.util.Dom.setStyle(h,"font-family",j);e=false}else{if(this.get("insert")&&!this._hasSelection()){var g=this._createInsertElement({fontFamily:j});e=false}else{if(!this.browser.ie){var i=this._getSelectionParentElement();var k="";if(i&&this._isElement(i,"span")){k=i.style.textDecoration}this._createCurrentElement("span",{textDecoration:k,fontFamily:j,fontSize:h.style.fontSize,color:h.style.color,backgroundColor:h.style.backgroundColor});this._updateChildrenStyle(this.currentElement[0],{textDecoration:k,fontFamily:j})}else{this._createCurrentElement("span",{fontFamily:j,fontSize:h.style.fontSize,color:h.style.color,backgroundColor:h.style.backgroundColor});this._updateChildrenStyle(this.currentElement[0],{fontFamily:j})}var f=this;setTimeout(function(){f._selectNode(f.currentElement[0])},1);e=false}}return[e]},cmd_fontsize:function(k){var g=null,i=true;g=this._getSelectedElement();if(this.browser.webkit){if(this.currentElement[0]){if(Object.getPrototypeOf(g)==Object.getPrototypeOf(this.currentElement[0])){YAHOO.util.Dom.setStyle(g,"fontSize",k);this.currentElement[0]=g}}}if(i){if(!this._isElement(this._getSelectedElement(),"body")&&(!this._hasSelection())){g=this._getSelectedElement();YAHOO.util.Dom.setStyle(g,"fontSize",k);if(this.get("insert")&&this.browser.ie){var h=this._getRange();h.collapse(false);h.select()}else{this._selectNode(g)}}else{if(this.currentElement&&(this.currentElement.length>0)&&(!this._hasSelection())&&(!this.get("insert"))){YAHOO.util.Dom.setStyle(this.currentElement,"fontSize",k)}else{if(this.get("insert")&&!this._hasSelection()){g=this._createInsertElement({fontSize:k});this.currentElement[0]=g;this._selectNode(this.currentElement[0])}else{var j;var f;if(!(this.browser.ie&&this.browser.ie<11)&&this._isElement(g,"body")){g=g.firstChild}if(this._isElement(g,"ul")||this._isElement(g,"ol")||this._isElement(g,"li")){if(this._isElement(g,"ul")||this._isElement(g,"ol")){j=g}else{if(this._isElement(g,"li")){j=g.parentElement}}f=j;this._updateChildrenStyle(j,{fontSize:k});var e=this;setTimeout(function(){e._selectNode(f)},1)}else{if(!this.browser.ie){g=g.parentElement}else{g=g.parentNode}if(this.browser.ie){this._createCurrentElement("span",{fontSize:k,fontFamily:g.currentStyle.fontFamily,color:g.currentStyle.color,backgroundColor:g.currentStyle.backgroundColor})}else{this._createCurrentElement("span",{fontSize:k,fontFamily:g.style.fontFamily,color:g.style.color,backgroundColor:g.style.backgroundColor})}this._updateChildrenStyle(this.currentElement[0],{fontSize:k});var e=this;setTimeout(function(){e._selectNode(e.currentElement[0])},1)}}}}}return[false]},_swapEl:function(f,e,h){var g=this._getDoc().createElement(e);if(f){g.innerHTML=f.innerHTML}if(typeof h=="function"){h.call(this,g)}if(f){f.parentNode.replaceChild(g,f)}return g},_createInsertElement:function(e){this._createCurrentElement("span",e);var f=this.currentElement[0];if(this.browser.webkit){f.innerHTML='<span class="yui-non">&nbsp;</span>';f=f.firstChild;this._getSelection().setBaseAndExtent(f,1,f,f.innerText.length)}else{if(this.browser.ie||this.browser.opera){f.innerHTML="&nbsp;"}}this.focus();this._selectNode(f,true);return f},_updateChildrenStyle:function(g,i){if(g&&g.firstChild){var h=g.firstChild;while(h){this._updateChildrenStyle(h,i);var f=h.tagName;if(typeof h.tagName!="undefined"&&h.tagName&&h.tagName!=""){f=f.toLowerCase();switch(f){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":break;default:if(typeof h.style!="undefined"&&h.style){for(var e in i){if(YAHOO.lang.hasOwnProperty(i,e)){h.style[e]=i[e]}}}break}}h=h.nextSibling}}},_createCurrentElement:function(h,n){h=((h)?h:"a");var y=null,g=[],l=this._getDoc();if(this.currentFont){if(!n){n={}}n.fontFamily=this.currentFont;this.currentFont=null}this.currentElement=[];var r=function(i,o){var j=null;i=((i)?i:"span");i=i.toLowerCase();switch(i){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":j=l.createElement(i);break;default:j=l.createElement(i);if(i==="span"){YAHOO.util.Dom.addClass(j,"yui-tag-"+i);YAHOO.util.Dom.addClass(j,"yui-tag");j.setAttribute("tag",i)}for(var e in o){if(YAHOO.lang.hasOwnProperty(o,e)){j.style[e]=o[e]}}break}return j};if(!this._hasSelection()){if(this._getDoc().queryCommandEnabled("insertimage")){this._getDoc().execCommand("insertimage",false,"yui-tmp-img");var q=this._getDoc().getElementsByTagName("img");for(var x=0;x<q.length;x++){if(q[x].getAttribute("src",2)=="yui-tmp-img"){g=r(h,n);q[x].parentNode.replaceChild(g,q[x]);this.currentElement[this.currentElement.length]=g}}}else{if(this.currentEvent){y=YAHOO.util.Event.getTarget(this.currentEvent)}else{y=this._getDoc().body}}if(y){g=r(h,n);if(this._isElement(y,"body")||this._isElement(y,"html")){if(this._isElement(y,"html")){y=this._getDoc().body}y.appendChild(g)}else{if(y.nextSibling){y.parentNode.insertBefore(g,y.nextSibling)}else{y.parentNode.appendChild(g)}}this.currentElement[this.currentElement.length]=g;this.currentEvent=null;if(this.browser.webkit){this._getSelection().setBaseAndExtent(g,0,g,0);if(this.browser.webkit3){this._getSelection().collapseToStart()}else{this._getSelection().collapse(true)}}}}else{this._setEditorStyle(true);this._getDoc().execCommand("fontname",false,"yui-tmp");var f=[],u,C=["font","span","i","b","u","caption"];if(!this._isElement(this._getSelectedElement(),"body")){C[C.length]=this._getDoc().getElementsByTagName(this._getSelectedElement().tagName);C[C.length]=this._getDoc().getElementsByTagName(this._getSelectedElement().parentNode.tagName)}for(var p=0;p<C.length;p++){var m=this._getDoc().getElementsByTagName(C[p]);for(var B=0;B<m.length;B++){f[f.length]=m[B]}}for(var z=0;z<f.length;z++){if((YAHOO.util.Dom.getStyle(f[z],"font-family")=="yui-tmp")||(f[z].face&&(f[z].face=="yui-tmp"))){if(h!=="span"){g=r(h,n)}else{g=r(f[z].tagName,n)}g.innerHTML=f[z].innerHTML;if(this._isElement(f[z],"ol")||(this._isElement(f[z],"ul"))){var s=f[z].getElementsByTagName("li")[0];f[z].style.fontFamily="inherit";s.style.fontFamily="inherit";g.innerHTML=s.innerHTML;s.innerHTML="";s.appendChild(g);this.currentElement[this.currentElement.length]=g}else{if(this._isElement(f[z],"li")){f[z].innerHTML="";f[z].appendChild(g);f[z].style.fontFamily="inherit";this.currentElement[this.currentElement.length]=g}else{if(f[z].parentNode){if(this._isElement(f[z],"span")&&this._isElement(g,"span")){var v=f[z].getAttribute("style");if(v&&v.length>0){g.setAttribute("style",v);for(var w in n){if(YAHOO.lang.hasOwnProperty(n,w)){g.style[w]=n[w]}}}}f[z].parentNode.replaceChild(g,f[z]);this.currentElement[this.currentElement.length]=g;this.currentEvent=null;if(this.browser.webkit){this._getSelection().setBaseAndExtent(g,0,g,0);if(this.browser.webkit3){this._getSelection().collapseToStart()}else{this._getSelection().collapse(true)}}if(this.browser.ie&&this.browser.ie<11&&n&&n.fontSize){this._getSelection().empty()}if(this.browser.gecko||this.browser.ie>=11){this._getSelection().collapseToStart()}}}}}}var A=this.currentElement.length;for(var t=0;t<A;t++){if((t+1)!=A){if(this.currentElement[t]&&this.currentElement[t].nextSibling){if(this._isElement(this.currentElement[t],"br")){this.currentElement[this.currentElement.length]=this.currentElement[t].nextSibling}}}}}},saveHTML:function(){var f=this.cleanHTML();if(this._textarea){this.get("element").value=f}else{this.get("element").innerHTML=f}if(this.get("saveEl")!==this.get("element")){var e=this.get("saveEl");if(d.isString(e)){e=c.get(e)}if(e){if(e.tagName.toLowerCase()==="textarea"){e.value=f}else{e.innerHTML=f}}}return f},setEditorHTML:function(f){var e=this._cleanIncomingHTML(f);e=e.replace(/RIGHT_BRACKET/gi,"{");e=e.replace(/LEFT_BRACKET/gi,"}");if(this.browser.ie&&!this.get("singleline")){this._getDoc().body.innerHTML=e+"<br>"}else{this._getDoc().body.innerHTML=e}if(this.get("rtl")&&this._getDoc().body.dir!="rtl"){this._getDoc().body.dir="rtl";if(this._getDoc().body.parentNode){this._getDoc().body.parentNode.dir="rtl"}}if(this.browser.ie||this.browser.gecko){var g=this._getDoc();if(this.browser.ie){$(g.body).find("font[style]").each(function(){var h=$(this).css("color");if(h){$(this).attr("color",h);$(this).css("color","");changed=true}})}$(g.body).find("span[style]").each(function(){if($(this).length){var h=$(this)[0].style.textDecoration;var i=false;if(h&&h.length>0&&h.indexOf("line-through")>=0){$(this).addClass("yui_strike_replace");h=h.replace(/line-through/g,"");i=true}if(h&&h.length>0&&h.indexOf("underline")>=0){$(this).addClass("yui_underline_replace");h=h.replace(/underline/g,"");i=true}if(i){$(this)[0].style.textDecoration=h}}});$(g.body).find(".yui_strike_replace,.yui_underline_replace").each(function(){$(this).replaceWith(function(){var j=null;var h=null;if($(this).is(".yui_strike_replace")){$(this).removeClass("yui_strike_replace");j=g.createElement("strike");h=j}if($(this).is(".yui_underline_replace")){$(this).removeClass("yui_underline_replace");var o=g.createElement("u");if(h!=null){$(h).append(o);h=o}else{j=o;h=j}}var m=$(this)[0].style.textDecoration;var l=(!m||m.length==0||m=="none")&&!$(this).parent(".expDataA,expTitleText").length;if(l){if(m&&m=="none"){$(this)[0].style.textDecoration=""}var i=$(this).attr("style");var k=$(this).attr("id");var n=$(this).attr("dir");if((i&&i.length>0)||(k&&k.length>0)||(n&&n.length>0)){l=false}}$(h).append(l?$(this).contents():$(this).clone());return j})});if(!this.browser.ie){$(g.body).find("a[href]").each(function(){var h=$(this).attr("href");if(h&&h.length){h=decodeURIComponent(h)}var i=$(this).text();if(h==i||i.indexOf(h)>=0||h.indexOf(i)>=0){$(this).addClass("yui-url-sync")}})}}this.nodeChange();this._checkBookmarks()},getEditorHTML:function(){try{var g=this._getDoc().body;if(g===null){return null}var h=this._getDoc().body.innerHTML;if(this.browser.webkit&&navigator.userAgent.indexOf("Chrome")!=-1){var f=h.match(/<\/?(div)[^>]*>/gi);if(f!=null&&f.length>0){h=h.replace(/<\/?(div)[^>]*>/gi,"");this._getDoc().body.innerHTML=h}}return h}catch(i){return""}},show:function(){if(this.browser.gecko){this._setDesignMode("on");this.focus()}if(this.currentWindow){this.closeWindow()}this.get("iframe").setStyle("position","static");this.get("iframe").setStyle("left","")},hide:function(){if(this.currentWindow){this.closeWindow()}if(this._fixNodesTimer){clearTimeout(this._fixNodesTimer);this._fixNodesTimer=null}if(this._nodeChangeTimer){clearTimeout(this._nodeChangeTimer);this._nodeChangeTimer=null}this._lastNodeChange=0;this.get("iframe").setStyle("position","absolute");this.get("iframe").setStyle("left","-9999px")},_cleanIncomingHTML:function(e){e=e.replace(/<td>[ ]<\/td>/gi,"<td></td>");e=e.replace(/{/gi,"RIGHT_BRACKET");e=e.replace(/}/gi,"LEFT_BRACKET");e=e.replace(/<strong([^>]*)>/gi,"<b$1>");e=e.replace(/<\/strong>/gi,"</b>");e=e.replace(/<embed([^>]*)>/gi,"<YUI_EMBED$1>");e=e.replace(/<\/embed>/gi,"</YUI_EMBED>");e=e.replace(/<em([^>]*)>/gi,"<i$1>");e=e.replace(/<\/em>/gi,"</i>");e=e.replace(/_moz_dirty=""/gi,"");e=e.replace(/<YUI_EMBED([^>]*)>/gi,"<embed$1>");e=e.replace(/<\/YUI_EMBED>/gi,"</embed>");if(this.get("plainText")){e=e.replace(/\n/g,"<br>").replace(/\r/g,"<br>");e=e.replace(/  /gi,"&nbsp;&nbsp;");e=e.replace(/\t/gi,"&nbsp;&nbsp;&nbsp;&nbsp;")}e=e.replace(/<script([^>]*)>/gi,"<bad>");e=e.replace(/<\/script([^>]*)>/gi,"</bad>");e=e.replace(/&lt;script([^>]*)&gt;/gi,"<bad>");e=e.replace(/&lt;\/script([^>]*)&gt;/gi,"</bad>");e=e.replace(/\r\n/g,"<YUI_LF>").replace(/\n/g,"<YUI_LF>").replace(/\r/g,"<YUI_LF>");e=e.replace(new RegExp("<bad([^>]*)>(.*?)</bad>","gi"),"");e=e.replace(/<YUI_LF>/g,"\n");return e},cleanHTML:function(i){var h=new RegExp("/","gi");if(!i){i=this.getEditorHTML();if(!i){return""}}var f=this.get("markup");i=this.pre_filter_linebreaks(i,f);i=this.filter_msword(i);i=i.replace(/<td><\/td>/gi,"<td> </td>");i=i.replace(/<img([^>]*)\/>/gi,"<YUI_IMG$1>");i=i.replace(/<img([^>]*)>/gi,"<YUI_IMG$1>");i=i.replace(/<input([^>]*)\/>/gi,"<YUI_INPUT$1>");i=i.replace(/<input([^>]*)>/gi,"<YUI_INPUT$1>");i=i.replace(/<ul([^>]*)>/gi,"<YUI_UL$1>");i=i.replace(/<\/ul>/gi,"</YUI_UL>");i=i.replace(/<blockquote([^>]*)>/gi,"<YUI_BQ$1>");i=i.replace(/<\/blockquote>/gi,"</YUI_BQ>");i=i.replace(/<embed([^>]*)>/gi,"<YUI_EMBED$1>");i=i.replace(/<\/embed>/gi,"</YUI_EMBED>");i=i.replace(/<span[ ]+contentEditable="false"><span[^>]*class="yui-warning-icon"[^>]*><\/span>/gi,"");if((f=="semantic")||(f=="xhtml")){i=i.replace(/<i(\s+[^>]*)?>/gi,"<em$1>");i=i.replace(/<\/i>/gi,"</em>");i=i.replace(/<b(\s+[^>]*)?>/gi,"<strong$1>");i=i.replace(/<\/b>/gi,"</strong>")}i=i.replace(/_moz_dirty=""/gi,"");i=i.replace(/<strike/gi,'<span style="text-decoration: line-through;"');i=i.replace(/\/strike>/gi,"/span>");if(this.browser.ie&&this.browser.ie<11){i=i.replace(/text-decoration/gi,"text-decoration");i=i.replace(/font-weight/gi,"font-weight");i=i.replace(/_width="([^>"]*)"/gi,"");i=i.replace(/_height="([^>"]*)"/gi,"");var g=this._baseHREF.replace(h,"\\/"),j=new RegExp('src="'+g,"gi");i=i.replace(j,'src="')}i=i.replace(/<font/gi,"<font");i=i.replace(/<\/font>/gi,"</font>");i=i.replace(/<span/gi,"<span");i=i.replace(/<\/span>/gi,"</span>");if((f=="semantic")||(f=="xhtml")||(f=="css")){i=i.replace(new RegExp('<font([^>]*)face="([^>]*)">(.*?)</font>',"gi"),'<span $1 style="font-family: $2;">$3</span>');i=i.replace(/<u/gi,'<span style="text-decoration: underline;"');if(this.browser.webkit){i=i.replace(new RegExp('<span class="Apple-style-span" style="font-weight: bold;">([^>]*)</span>',"gi"),"<strong>$1</strong>");i=i.replace(new RegExp('<span class="Apple-style-span" style="font-style: italic;">([^>]*)</span>',"gi"),"<em>$1</em>")}i=i.replace(/\/u>/gi,"/span>");if(f=="css"){i=i.replace(/<em([^>]*)>/gi,"<i$1>");i=i.replace(/<\/em>/gi,"</i>");i=i.replace(/<strong([^>]*)>/gi,"<b$1>");i=i.replace(/<\/strong>/gi,"</b>");i=i.replace(/<b/gi,'<span style="font-weight: bold;"');i=i.replace(/\/b>/gi,"/span>");i=i.replace(/<i/gi,'<span style="font-style: italic;"');i=i.replace(/\/i>/gi,"/span>")}i=i.replace(/  /gi," ")}else{i=i.replace(/<u/gi,"<u");i=i.replace(/\/u>/gi,"/u>")}i=i.replace(/<ol([^>]*)>/gi,"<ol$1>");i=i.replace(/\/ol>/gi,"/ol>");i=i.replace(/<li/gi,"<li");i=i.replace(/\/li>/gi,"/li>");i=this.filter_safari(i);i=this.filter_internals(i);i=this.filter_all_rgb(i);i=this.post_filter_linebreaks(i,f);if(f=="xhtml"){i=i.replace(/<YUI_IMG([^>]*)>/g,"<img $1 />");i=i.replace(/<YUI_INPUT([^>]*)>/g,"<input $1 />")}else{i=i.replace(/<YUI_IMG([^>]*)>/g,"<img $1>");i=i.replace(/<YUI_INPUT([^>]*)>/g,"<input $1>")}i=i.replace(/<YUI_UL([^>]*)>/g,"<ul$1>");i=i.replace(/<\/YUI_UL>/g,"</ul>");i=this.filter_invalid_lists(i);i=i.replace(/<YUI_BQ([^>]*)>/g,"<blockquote$1>");i=i.replace(/<\/YUI_BQ>/g,"</blockquote>");i=i.replace(/<YUI_EMBED([^>]*)>/g,"<embed$1>");i=i.replace(/<\/YUI_EMBED>/g,"</embed>");i=i.replace(/ &amp; /gi," YUI_AMP ");i=i.replace(/ &amp;/gi," YUI_AMP_F ");i=i.replace(/&amp; /gi," YUI_AMP_R ");i=i.replace(/&amp;/gi,"&");i=i.replace(/ YUI_AMP /gi," &amp; ");i=i.replace(/ YUI_AMP_F /gi," &amp;");i=i.replace(/ YUI_AMP_R /gi,"&amp; ");i=YAHOO.lang.trim(i);if(this.get("removeLineBreaks")){i=i.replace(/\n/g,"").replace(/\r/g,"");i=i.replace(/  /gi," ")}for(var e in this.invalidHTML){if(YAHOO.lang.hasOwnProperty(this.invalidHTML,e)){if(d.isObject(e)&&e.keepContents){i=i.replace(new RegExp("<"+e+"([^>]*)>(.*?)</"+e+">","gi"),"$1")}else{i=i.replace(new RegExp("<"+e+"([^>]*)>(.*?)</"+e+">","gi"),"")}}}this.fireEvent("cleanHTML",{type:"cleanHTML",target:this,html:i});i=i.replace(/<marquee([^<>]+)?>(.+?)<\/marquee>/gi," ");i=i.replace(/&lt;marquee[^"\r\n]*marquee&gt;/gi," ");var l=/\s+on(\w+)\s*=+|<script\b[^>]*>([\s\S]*?)<\/script>|<iframe([\s\S]*?)\>/gi;var k=/(\s*eval\s*\()|(\s*alert\s*\()|(\s*prompt\s*\()/gi;i=i.replace(l," ");i=i.replace(k," ( ");return i},filter_msword:function(e){if(!this.get("filterWord")){return e}e=e.replace(/<o:p>\s*<\/o:p>/g,"");e=e.replace(/<o:p>[\s\S]*?<\/o:p>/g,"&nbsp;");e=e.replace(/<w:[^>]*>[\s\S]*?<\/w:[^>]*>/gi,"");e=e.replace(/\s*mso-[^:]+:[^;"]+;?/gi,"");e=e.replace(/\s*MARGIN: 0cm 0cm 0pt\s*;/gi,"");e=e.replace(/\s*MARGIN: 0cm 0cm 0pt\s*"/gi,'"');e=e.replace(/\s*TEXT-INDENT: 0cm\s*;/gi,"");e=e.replace(/\s*TEXT-INDENT: 0cm\s*"/gi,'"');e=e.replace(/\s*PAGE-BREAK-BEFORE: [^\s;]+;?"/gi,'"');e=e.replace(/\s*FONT-VARIANT: [^\s;]+;?"/gi,'"');e=e.replace(/\s*tab-stops:[^;"]*;?/gi,"");e=e.replace(/\s*tab-stops:[^"]*/gi,"");e=e.replace(/<\\?\?xml[^>]*>/gi,"");e=e.replace(/<(\w[^>]*) lang=([^ |>]*)([^>]*)/gi,"<$1$3");e=e.replace(/<(\w[^>]*) language=([^ |>]*)([^>]*)/gi,"<$1$3");e=e.replace(/<(\w[^>]*) onmouseover="([^\"]*)"([^>]*)/gi,"<$1$3");e=e.replace(/<(\w[^>]*) onmouseout="([^\"]*)"([^>]*)/gi,"<$1$3");return e},filter_invalid_lists:function(e){e=e.replace(/<\/li>\n/gi,"</li>");e=e.replace(/<\/ol><\/li>\n/gi,"</ol>");e=e.replace(/<\/ul><\/li>\n?/gi,"</ul>");e=e.replace(/<\/li>/gi,"</li>");e=e.replace(/<\/ol>/gi,"</ol>");e=e.replace(/<ol>/gi,"<ol>");e=e.replace(/<ul>/gi,"<ul>");return e},filter_safari:function(e){if(this.browser.webkit){e=e.replace(/<span class="Apple-tab-span" style="white-space:pre">([^>])<\/span>/gi,"&nbsp;&nbsp;&nbsp;&nbsp;");e=e.replace(/Apple-style-span/gi,"");e=e.replace(/style="line-height: normal;"/gi,"");e=e.replace(/yui-wk-div/gi,"");e=e.replace(/yui-wk-p/gi,"");e=e.replace(/<li><\/li>/gi,"");e=e.replace(/<li> <\/li>/gi,"");e=e.replace(/<li>  <\/li>/gi,"");if(this.get("ptags")){e=e.replace(/<div([^>]*)>/g,"<p$1>");e=e.replace(/<\/div>/gi,"</p>")}else{e=e.replace(/<div([^>]*)>([ tnr]*)<\/div>/gi,"<br>");e=e.replace(/<\/div>/gi,"")}}return e},filter_internals:function(e){e=e.replace(/\r/g,"");e=e.replace(/<\/?(body|head|html)[^>]*>/gi,"");e=e.replace(/<YUI_BR><\/li>/gi,"</li>");e=e.replace(/yui-tag-span/gi,"");e=e.replace(/yui-tag/gi,"");e=e.replace(/yui-non/gi,"");e=e.replace(/yui-img/gi,"");e=e.replace(/yui-anchor/gi,"");e=e.replace(/yui-duplicate-anchor/gi,"");e=e.replace(/yui-missing-anchor/gi,"");if(!this.browser.ie){e=e.replace(/yui-url-sync/gi,"")}e=e.replace(/ tag="span"/gi,"");e=e.replace(/ class=""/gi,"");e=e.replace(/ style=""/gi,"");e=e.replace(/ class=" "/gi,"");e=e.replace(/ class="  "/gi,"");e=e.replace(/ title=""/gi,"");if(this.browser.ie){e=e.replace(/ class= /gi," ");e=e.replace(/ class= >/gi,"")}return e},filter_all_rgb:function(j){var h=new RegExp("rgb\\s*?\\(\\s*?([0-9]+).*?,\\s*?([0-9]+).*?,\\s*?([0-9]+).*?\\)","gi");var e=j.match(h);if(d.isArray(e)){for(var g=0;g<e.length;g++){var f=this.filter_rgb(e[g]);j=j.replace(e[g].toString(),f)}}return j},filter_rgb:function(h){if(h.toLowerCase().indexOf("rgb")!=-1){var k=new RegExp("(.*?)rgb\\s*?\\(\\s*?([0-9]+).*?,\\s*?([0-9]+).*?,\\s*?([0-9]+).*?\\)(.*?)","gi");var f=h.replace(k,"$1,$2,$3,$4,$5").split(",");if(f.length==5){var j=parseInt(f[1],10).toString(16);var i=parseInt(f[2],10).toString(16);var e=parseInt(f[3],10).toString(16);j=j.length==1?"0"+j:j;i=i.length==1?"0"+i:i;e=e.length==1?"0"+e:e;h="#"+j+i+e}}return h},pre_filter_linebreaks:function(f,e){if(this.browser.webkit){f=f.replace(/<br class="khtml-block-placeholder">/gi,"<YUI_BR>");f=f.replace(/<br class="webkit-block-placeholder">/gi,"<YUI_BR>")}f=f.replace(/<br>/gi,"<YUI_BR>");f=f.replace(/<br (.*?)>/gi,"<YUI_BR>");f=f.replace(/<br\/>/gi,"<YUI_BR>");f=f.replace(/<br \/>/gi,"<YUI_BR>");f=f.replace(/<div><YUI_BR><\/div>/gi,"<YUI_BR>");f=f.replace(/<p>(&nbsp;|&#160;)<\/p>/g,"<YUI_BR>");f=f.replace(/<p><br>&nbsp;<\/p>/gi,"<YUI_BR>");f=f.replace(/<p>&nbsp;<\/p>/gi,"<YUI_BR>");f=f.replace(/<YUI_BR>$/,"");f=f.replace(/<YUI_BR><\/p>/g,"</p>");if(this.browser.ie&&this.browser.ie<11){f=f.replace(/&nbsp;&nbsp;&nbsp;&nbsp;/g,"\t")}return f},post_filter_linebreaks:function(f,e){if(e=="xhtml"){f=f.replace(/<YUI_BR>/g,"<br />")}else{f=f.replace(/<YUI_BR>/g,"<br>")}return f},clearEditorDoc:function(){this._getDoc().body.innerHTML="&nbsp;"},openWindow:function(e){},moveWindow:function(){},_closeWindow:function(){},closeWindow:function(){this.toolbar.resetAllButtons();this.focus()},destroy:function(){if(this.resize){this.resize.destroy()}if(this.dd){this.dd.unreg()}if(this.get("panel")){this.get("panel").destroy()}this.saveHTML();this.toolbar.destroy();this.setStyle("visibility","visible");this.setStyle("position","static");this.setStyle("top","");this.setStyle("left","");var e=this.get("element");if(this.get("floatingEditor")){this.get("element_cont").get("parentNode").replaceChild(e,this.get("element_cont").get("element"))}else{this.get("element_parent_cont").get("parentNode").replaceChild(e,this.get("element_parent_cont").get("element"))}this.get("element_cont").get("element").innerHTML="";this.set("handleSubmit",false);return true},toString:function(){var e="SimpleEditor";if(this.get&&this.get("element_cont")){e="SimpleEditor (#"+this.get("element_cont").get("id")+")"+((this.get("disabled")?" Disabled":""))}return e}});YAHOO.widget.EditorInfo={_instances:{},blankImage:"",window:{},panel:null,getEditorById:function(e){if(!YAHOO.lang.isString(e)){e=e.id}if(this._instances[e]){return this._instances[e]}return false},saveAll:function(h){var g,j,f=YAHOO.widget.EditorInfo._instances;if(h){for(g in f){if(d.hasOwnProperty(f,g)){j=f[g];if(j.get("element").form&&(j.get("element").form==h)){j.saveHTML()}}}}else{for(g in f){if(d.hasOwnProperty(f,g)){f[g].saveHTML()}}}},toString:function(){var e=0;for(var f in this._instances){if(d.hasOwnProperty(this._instances,f)){e++}}return"Editor Info ("+e+" registered intance"+((e>1)?"s":"")+")"}}})();(function(){var c=YAHOO.util.Dom,a=YAHOO.util.Event,d=YAHOO.lang,b=YAHOO.widget.Toolbar;YAHOO.widget.Editor=function(f,e){YAHOO.widget.Editor.superclass.constructor.call(this,f,e)};YAHOO.extend(YAHOO.widget.Editor,YAHOO.widget.SimpleEditor,{_undoCache:null,_undoLevel:null,_hasUndoLevel:function(){return((this._undoCache.length>1)&&this._undoLevel>0)},_undoNodeChange:function(){if(this._undo_button==null){this._undo_button=this.toolbar.getButtonByValue("undo")}if(this._redo_button==null){this._redo_button=this.toolbar.getButtonByValue("redo")}if(this._undo_button&&this._redo_button){if(this._hasUndoLevel()){this.toolbar.enableButton(this._undo_button)}if(this._undoLevel<this._undoCache.length){this.toolbar.enableButton(this._redo_button)}}this._lastCommand=null},_checkUndo:function(){var e=this._undoCache.length,g=[];if(e>=this.get("maxUndo")){for(var f=(e-this.get("maxUndo"));f<e;f++){g.push(this._undoCache[f])}this._undoCache=g;this._undoLevel=g.length}},_putUndo:function(f){if(this._undoLevel>0&&this._undoCache.length>(this._undoLevel-1)){var e=this._undoCache[this._undoLevel-1];if(e!=null&&e==f){return}}if(this._undoLevel>=this._undoCache.length||this._undoLevel<0){this._undoCache.push(f);this._undoLevel=this._undoCache.length}else{this._undoCache[this._undoLevel]=f;this._undoLevel=this._undoLevel+1}},_getUndo:function(e){this._undoLevel=e;return this._undoCache[e]},_storeUndo:function(){if(this.get("maxUndo")<=0){return false}if(this._lastCommand==="undo"||this._lastCommand==="redo"){return false}if(!this._undoCache){this._undoCache=[];this._undoLevel=0}this._checkUndo();var e=this.getEditorHTML();this._putUndo(e);this._undoNodeChange()},_clearUndo:function(){this._undoCache=[];this._undoLevel=0;this._undoNodeChange()},_enableInsertImageButton:false,enableInsertImageButton:function(e){this._enableInsertImageButton=e;var f=YAHOO.util.Dom;var g=f.get(this.get("id")+"_insertimage_button");if(g!=null){g.disabled=!e}},_showInsertImageButton:false,showInsertImageButton:function(e){this._insertImageButton=true;this._showInsertImageButton=e;var f=YAHOO.util.Dom;var g=f.get(this.get("id")+"_insertimage_button");if(g!=null){g.style.visibility=(e?"visible":"hidden")}},STR_BEFORE_EDITOR:"This text field can contain stylized text and graphics. To cycle through all formatting options, use the keyboard shortcut Control + Shift + T to place focus on the toolbar and navigate between option heading names. <h4>Common formatting keyboard shortcuts:</h4><ul><li>Control Shift B sets text to bold</li> <li>Control Shift I sets text to italic</li> <li>Control Shift U underlines text</li> <li>Control Shift [ aligns text left</li> <li>Control Shift | centers text</li> <li>Control Shift ] aligns text right</li> <li>Control Shift L adds an HTML link</li> <li>To exit this text editor use the keyboard shortcut Control + Shift + ESC.</li></ul>",STR_CLOSE_WINDOW:"Close Window",STR_CLOSE_WINDOW_NOTE:"To close this window use the Control + Shift + W key",STR_IMAGE_PROP_TITLE:"Image Options",STR_IMAGE_TITLE:"Description",STR_IMAGE_SIZE:"Size",STR_IMAGE_ORIG_SIZE:"Original Size",STR_IMAGE_COPY:'<span class="tip"><span class="icon icon-info"></span><strong>Note:</strong>To move this image just highlight it, cut, and paste where ever you\'d like.</span>',STR_IMAGE_PADDING:"Padding",STR_IMAGE_BORDER:"Border",STR_IMAGE_BORDER_SIZE:"Border Size",STR_IMAGE_BORDER_TYPE:"Border Type",STR_IMAGE_TEXTFLOW:"Text Flow",STR_LOCAL_FILE_WARNING:'<span class="tip"><span class="icon icon-warn"></span><strong>Note:</strong>This image/link points to a file on your computer and will not be accessible to others on the internet.</span>',STR_MISSING_BOOKMARK_WARNING:'<span class="tip"><span class="icon icon-warn"></span><strong>Note:</strong>This link points to a missing bookmark and may do nothing.</span>',STR_DUPLICATE_BOOKMARK_WARNING:'<span class="tip"><span class="icon icon-warn"></span><strong>Note:</strong>A Bookmark with the same name already exists.</span>',STR_LINK_PROP_TITLE:"Link Options",STR_ANCHOR_PROP_TITLE:"Bookmark Options",STR_LINK_PROP_REMOVE:"Remove link from text",STR_LINK_NEW_WINDOW:"Open in a new window.",STR_LINK_TITLE:"Description",STR_NONE:"none",STR_LABEL_SUBSCRIPT:"Subscript",STR_LABEL_SUPERSCRIPT:"Superscript",STR_LABEL_REMOVE_FORMATTING:"Remove Formatting",STR_LABEL_SHOW_HIDE_HIDDEN_ELEMENTS:"Show/Hide Hidden Elements",STR_LABEL_UNDO_REDO:"Undo/Redo",STR_LABEL_UNDO:"Undo",STR_LABEL_REDO:"Redo",STR_LABEL_ALIGNMENT_LEFT:"Align Left",STR_LABEL_ALIGNMENT_CENTER:"Align Center",STR_LABEL_ALIGNMENT_RIGHT:"Align Right",STR_LABEL_ALIGNMENT_JUSTIFY:"Justify",STR_LABEL_PARAGRAPH_STYLE:"Paragraph Style",STR_LABEL_FONT_NAME:"Font Name",STR_LABEL_FONT_SIZE:"Font Size",STR_LABEL_INDENT:"Indent",STR_LABEL_OUTDENT:"Outdent",STR_LABEL_LEFT:"Left",STR_LABEL_INLINE:"Inline",STR_LABEL_BLOCK:"Block",STR_LABEL_RIGHT:"Right",STR_LABEL_BORDER_COLOR:"Border Color",STR_TEXT_SOLID:"Solid",STR_TEXT_DASHED:"Dashed",STR_TEXT_DOTTED:"Dotted",CLASS_LOCAL_FILE:"warning-localfile",CLASS_HIDDEN:"yui-hidden",init:function(f,e){this._windows={};this._defaultToolbar={collapse:true,titlebar:false,draggable:false,buttonType:"advanced",buttons:[{group:"fontstyle",buttons:[{type:"select",title:this.STR_LABEL_FONT_NAME,label:"Arial",value:"fontname",disabled:false,menu:[{text:"Arial",checked:true},{text:"Arial Black"},{text:"Comic Sans MS"},{text:"Courier New"},{text:"Lucida Console"},{text:"Tahoma"},{text:"Times New Roman"},{text:"Trebuchet MS"},{text:"Verdana"}]},{type:"spin",title:this.STR_LABEL_FONT_SIZE,label:"14",value:"fontsize",range:[9,75],disabled:false}]},{type:"separator"},{group:"textstyle",buttons:[{type:"push",label:this.STR_LABEL_BOLD+" (Ctrl + Shift + B)",value:"bold"},{type:"push",label:this.STR_LABEL_ITALIC+" (Ctrl + Shift + I )",value:"italic"},{type:"push",label:this.STR_LABEL_UNDERLINE+" (Ctrl + Shift + U)",value:"underline"},{type:"separator"},{type:"push",label:this.STR_LABEL_SUBSCRIPT,value:"subscript",disabled:false},{type:"push",label:this.STR_LABEL_SUPERSCRIPT,value:"superscript",disabled:false}]},{type:"separator"},{group:"textstyle2",buttons:[{type:"color",label:this.STR_LABEL_FONT_COLOR,value:"forecolor",disabled:false},{type:"color",label:this.STR_LABEL_BACKGROUND_COLOR,value:"backcolor",disabled:false},{type:"separator"},{type:"push",label:this.STR_LABEL_REMOVE_FORMATTING,value:"removeformat",disabled:false},{type:"push",label:this.STR_LABEL_SHOW_HIDE_HIDDEN_ELEMENTS,value:"hiddenelements"}]},{type:"separator"},{group:"alignment",buttons:[{type:"push",label:this.STR_LABEL_ALIGNMENT_LEFT+" (Ctrl + Shift + [ )",value:"justifyleft"},{type:"push",label:this.STR_LABEL_ALIGNMENT_CENTER+" (Ctrl + Shift + | )",value:"justifycenter"},{type:"push",label:this.STR_LABEL_ALIGNMENT_RIGHT+" (Ctrl + Shift + ] )",value:"justifyright"},{type:"push",label:this.STR_LABEL_ALIGNMENT_JUSTIFY,value:"justifyfull"}]},{type:"separator"},{group:"parastyle",label:this.STR_LABEL_PARAGRAPH_STYLE,buttons:[{type:"select",title:this.STR_LABEL_PARAGRAPH_STYLE,label:"Normal",value:"heading",disabled:false,menu:[{text:"Normal",value:"none",checked:true},{text:"Header 1",value:"h1"},{text:"Header 2",value:"h2"},{text:"Header 3",value:"h3"},{text:"Header 4",value:"h4"},{text:"Header 5",value:"h5"},{text:"Header 6",value:"h6"}]}]},{type:"separator"},{group:"indentlist2",label:"&nbsp;",buttons:[{type:"push",label:this.STR_LABEL_INDENT,value:"indent",disabled:false},{type:"push",label:this.STR_LABEL_OUTDENT,value:"outdent",disabled:false},{type:"push",label:this.STR_LABEL_CREATE_UNORDERED_LIST,value:"insertunorderedlist"},{type:"push",label:this.STR_LABEL_CREATE_ORDERED_LIST,value:"insertorderedlist"}]},{type:"separator"},{group:"insertitem",label:this.STR_LABEL_INSERT_ITEM,buttons:[{type:"push",label:this.STR_LABEL_HTML_LINK+" (Crtl + Shift + L)",value:"createlink",disabled:false},{type:"push",label:this.STR_LABEL_ANCHOR_LINK+" (Crtl + Shift + A)",value:"createanchor",disabled:false},{type:"push",label:this.STR_LABEL_INSERT_IMAGE,value:"insertimage"}]},{type:"separator"},{group:"redo_undo",label:"&nbsp;",buttons:[{type:"push",label:this.STR_LABEL_UNDO+" (Crtl + Z)",value:"undo"},{type:"push",label:this.STR_LABEL_REDO+" (Crtl + Y)",value:"redo"}]}]};this._defaultImageToolbarConfig={rtl:false,buttonType:this._defaultToolbar.buttonType,buttons:[{group:"textflow",label:this.STR_IMAGE_TEXTFLOW+":",buttons:[{type:"push",label:this.STR_LABEL_LEFT,value:"left"},{type:"push",label:this.STR_LABEL_INLINE,value:"inline"},{type:"push",label:this.STR_LABEL_BLOCK,value:"block"},{type:"push",label:this.STR_LABEL_RIGHT,value:"right"}]},{type:"separator"},{group:"padding",label:this.STR_IMAGE_PADDING+":",buttons:[{type:"spin",label:"0",value:"padding",range:[0,50]}]},{type:"separator"},{group:"border",label:this.STR_IMAGE_BORDER+":",buttons:[{type:"select",title:this.STR_IMAGE_BORDER_SIZE,label:this.STR_IMAGE_BORDER_SIZE,value:"bordersize",menu:[{text:this.STR_NONE,value:"0",checked:true},{text:"1px",value:"1"},{text:"2px",value:"2"},{text:"3px",value:"3"},{text:"4px",value:"4"},{text:"5px",value:"5"}]},{type:"select",title:this.STR_IMAGE_BORDER_TYPE,label:this.STR_IMAGE_BORDER_TYPE,value:"bordertype",disabled:true,menu:[{text:this.STR_TEXT_SOLID,value:"solid",checked:true},{text:this.STR_TEXT_DASHED,value:"dashed"},{text:this.STR_TEXT_DOTTED,value:"dotted"}]},{type:"color",label:this.STR_LABEL_BORDER_COLOR,value:"bordercolor",disabled:true}]}]};YAHOO.widget.Editor.superclass.init.call(this,f,e)},_render:function(){YAHOO.widget.Editor.superclass._render.apply(this,arguments);var e=this;window.setTimeout(function(){e._renderPanel.call(e)},800)},initAttributes:function(e){YAHOO.widget.Editor.superclass.initAttributes.call(this,e);this.setAttributeConfig("localFileWarning",{value:e.locaFileWarning||true});this.setAttributeConfig("hiddencss",{value:e.hiddencss||".yui-hidden font, .yui-hidden strong, .yui-hidden b, .yui-hidden em, .yui-hidden i, .yui-hidden u, .yui-hidden div,.yui-hidden p,.yui-hidden span,.yui-hidden img, .yui-hidden ul, .yui-hidden ol, .yui-hidden li, .yui-hidden table { border: 1px dotted #ccc; } .yui-hidden .yui-non { border: none; } .yui-hidden img { padding: 2px; }",writeOnce:true})},_windows:null,_defaultImageToolbar:null,_defaultImageToolbarConfig:null,_addWarningSpan:function(f,e){if(f&&e&&!$(f).find("span.yui-warning-icon").length){$(f).addClass(e).append('<span contentEditable="false"><span contentEditable="false" class="yui-warning-icon"></span></span>')}},_removeWarningSpan:function(f,e){if(f){$(f).removeClass(e).find("span.yui-warning-icon").parent().remove();$(f).removeAttr("contenteditable")}},_getWarningImage:function(){return""},_fixNodes:function(){YAHOO.widget.Editor.superclass._fixNodes.call(this);try{var g="";var i=this._getDoc().getElementsByTagName("img");for(var f=0;f<i.length;f++){if(i[f].getAttribute("href",2)){g=i[f].getAttribute("src",2);if(this._isLocalFile(g)){c.addClass(i[f],this.CLASS_LOCAL_FILE)}else{c.removeClass(i[f],this.CLASS_LOCAL_FILE)}}}this._checkBookmarks()}catch(h){}},_checkBookmarks:function(){try{var g="";var f=this;$(this._getDoc()).find("a").each(function(){g=$(this).attr("href");if(g&&g.length>0){g=decodeURIComponent(g);if(f._isLocalFile(g)){f._addWarningSpan($(this)[0],f.CLASS_LOCAL_FILE)}else{if(f._isMissingBookmark(g)){f._addWarningSpan($(this)[0],"yui-missing-anchor")}else{f._removeWarningSpan($(this)[0],f.CLASS_LOCAL_FILE);f._removeWarningSpan($(this)[0],"yui-missing-anchor")}}}else{var e=$(this).attr("name");if(e){if(f._isDuplicateBookmark(e)){f._addWarningSpan($(this)[0],"yui-duplicate-anchor")}else{f._removeWarningSpan($(this)[0],"yui-duplicate-anchor")}$(this).addClass("yui-anchor")}}})}catch(h){}},_disabled:["createlink","superscript","subscript","removeformat","heading","indent","createanchor"],_alwaysDisabled:{},_alwaysEnabled:{hiddenelements:true},_handleKeyDown:function(g){YAHOO.widget.Editor.superclass._handleKeyDown.call(this,g);if(this._isSpecialKey(g)){var f=false,h=null,e=false;switch(g.keyCode){case this._keyMap.JUSTIFY_LEFT.key:if(this._checkKey(this._keyMap.JUSTIFY_LEFT,g)){h="justifyleft";f=true}break;case this._keyMap.JUSTIFY_CENTER.key:if(this._checkKey(this._keyMap.JUSTIFY_CENTER,g)){h="justifycenter";f=true}break;case 221:case this._keyMap.JUSTIFY_RIGHT.key:if(this._checkKey(this._keyMap.JUSTIFY_RIGHT,g)){h="justifyright";f=true}break}}if(f&&h){this.execCommand(h,null);a.stopEvent(g);this.nodeChange()}},_getBookmarks:function(){var e=0;var j={};var g=this.get("bookmarks");if(!g){g=[]}for(e=0;e<g.length;e++){j[g[e]]=0}var i=this._getDoc().body.getElementsByTagName("a");for(e=0;i&&e<i.length;e++){var f=i[e];var h=f.getAttribute("name");if(f&&h!=null&&h.length>0){j[h]=0}}g=[];for(e in j){g.push(e)}g.sort();return g},_renderCreateLinkWindow:function(){var k=this.get("id");var l="";var h=this.get("externalURLFieldID")>0;var i=this.get("externalURLFieldLabel");var f=h?"60%":"75%";l='<label for="'+k+'_createlink_url"><strong>'+this.STR_LINK_URL+':</strong> <input type="text" name="'+k+'_createlink_url" id="'+k+'_createlink_url" value="" style="width:'+f+';">';var m="visibility: "+h?"visible":"hidden;top: -99px";l+='<button style="position: relative; '+m+';" type="button" name="'+k+'_externallinks_button" id="'+k+'_externallinks_button" value="">'+i+"</button>";l+="</label>";l+='<label id="'+k+'_createlink_bookmarks" for="'+k+'_createlink_bookmarks_selection" style="position: relative;top:-15px;left:3px;"><strong></strong>';l+='<select disabled="disabled" style="width:'+f+';" size="5" id="'+k+'_createlink_bookmarks_selection" title="'+this.STR_BOOKMARKS_TOOLTIP+'"><option>'+this.STR_NO_BOOKMARKS+"</option></select>";l+="</label>";l+='<label for="'+k+'_createlink_target"><strong>&nbsp;</strong><input type="checkbox" checked="checked" name="'+k+'_createlink_target" id="'+k+'_createlink_target" value="_blank" class="createlink_target"> '+this.STR_LINK_NEW_WINDOW+"</label>";l+='<label for="'+k+'_createlink_title"><strong>'+this.STR_LINK_TITLE+':</strong> <input type="text" name="'+k+'_createlink_title" id="'+k+'_createlink_title" value=""></label>';var j=document.createElement("div");j.innerHTML=l;var g=document.createElement("div");g.className="removeLink";var e=document.createElement("a");e.href="#";e.innerHTML=this.STR_LINK_PROP_REMOVE;e.title=this.STR_LINK_PROP_REMOVE;a.on(e,"click",function(o){a.stopEvent(o);this.unsubscribeAll("afterExecCommand");var n=this.currentElement[0];if(n&&this._isElement(n,"a")){this._removeWarningSpan(n,"yui-missing-anchor")}this.execCommand("unlink");this.closeWindow()},this,true);g.appendChild(e);j.appendChild(g);a.onAvailable(k+"_externallinks_button",function(){a.on(k+"_externallinks_button","click",function(n){this._handleExternalLinksButton(n)},this,true)},this,true);a.onAvailable(k+"_createlink_bookmarks_selection",function(){a.on(k+"_createlink_bookmarks_selection","click",function(n){this._handleBookmarkSelection()},this,true)},this,true);this._windows.createlink={};this._windows.createlink.body=j;a.on(j,"keyup",function(n){a.stopPropagation(n)});this.get("panel").editor_form.appendChild(j);this.fireEvent("windowCreateLinkRender",{type:"windowCreateLinkRender",panel:this.get("panel"),body:j});return j},_handleCreateLinkClick:function(){var e=this._getSelectedElement();if(this._isElement(e,"img")){this.STOP_EXEC_COMMAND=true;this.currentElement[0]=e;this.toolbar.fireEvent("insertimageClick",{type:"insertimageClick",target:this.toolbar});this.fireEvent("afterExecCommand",{type:"afterExecCommand",target:this});return false}else{if(this._isElement(e,"a")&&e.getAttribute("name")&&e.getAttribute("name").length>0){this.STOP_EXEC_COMMAND=true;this.currentElement[0]=e;this.toolbar.fireEvent("createanchorClick",{type:"createanchorClick",target:this.toolbar});this.fireEvent("afterExecCommand",{type:"afterExecCommand",target:this});return false}}if(this.get("limitCommands")){if(!this.toolbar.getButtonByValue("createlink")){return false}}this.on("afterExecCommand",function(){var A=350+(this.get("externalURLFieldWidth")>0?this.get("externalURLFieldWidth"):0);var n=new YAHOO.widget.EditorWindow("createlink",{width:A+"px"});n.setFooter(" ");var j=this.currentElement[0],p="",D="",C=null,i=false,w=false,o=false;if(j){n.el=j;n.setFooter(" ");if(this._isSpecialURL(j)){w=true;p=this._getElementURLSpecial(j)}else{if(this._isElementURLBookmark(j)){p=this._getElementURLBookmark(j)}else{if(j.getAttribute("href",2)!==null){p=j.getAttribute("href",2);if(this._isLocalFile(p)){n.setFooter(this.STR_LOCAL_FILE_WARNING);i=true}else{if(this._isMissingBookmark(p)){n.setFooter(this.STR_MISSING_BOOKMARK_WARNING)}else{n.setFooter(" ")}}}else{if(j.innerHTML!=null&&this._isURL(j.innerHTML)){p=j.innerHTML}}}}D=j.getAttribute("title");if(D===null){D=""}C=j.getAttribute("target");if(C===null||C.length<=0){C=null}if(this.browser.ie){var h=j.getAttribute("isDialogLink");if(h==null){j.setAttribute("isDialogLink","true")}}}var v=null;if(this._windows.createlink&&this._windows.createlink.body){v=this._windows.createlink.body}else{v=this._renderCreateLinkWindow()}n.setHeader(this.STR_LINK_PROP_TITLE);n.setBody(v);var B=this.get("id");a.purgeElement(B+"_createlink_url");var q=this.get("externalURLFieldID")>0;var g=c.get(B+"_createlink_url");g.value=p;g.style.width=q?"60%":"75%";c.get(B+"_createlink_title").value=D;var z=c.get(B+"_createlink_target");o=this._isElementURLJavascript(j);if(o){z.checked=false}else{z.checked=((C)?true:false)}var k=c.get(B+"_externallinks_button");k.style.visibility=q?"visible":"hidden";k.style.top=q?"0px":"-99px";g.parentNode.style.overflow="hidden";var y=this._getBookmarks();var r=c.get(B+"_createlink_bookmarks_selection");var f=c.get(B+"_createlink_bookmarks");var t=this._isElementURLBookmark(j);var m="";if(t){m=this._getElementURLBookmark(j).substr(1)}if(r&&f){r.length=0;var l=false;if(y&&y.length>0){for(var u=0;u<y.length;u++){var s=y[u];if(s&&s.length>0){l=false;r.options[u]=new Option(s,s);if(t&&m===s){r.options[u].selected=true;z.setAttribute("disabled","disabled");z.parentNode.setAttribute("disabled","disabled")}}}}else{l=true;r.options[0]=new Option(this.STR_NO_BOOKMARKS,this.STR_NO_BOOKMARKS)}if(w||o){l=true}if(l){r.setAttribute("disabled","disabled");f.setAttribute("disabled","disabled")}else{r.removeAttribute("disabled");f.removeAttribute("disabled")}}a.onAvailable(B+"_createlink_url",function(){if(o){z.setAttribute("disabled","disabled");z.parentNode.setAttribute("disabled","disabled")}else{z.removeAttribute("disabled");z.parentNode.removeAttribute("disabled")}var x=B;if(g&&g.parentNode){g.parentNode.style.height=(g.offsetHeight+10)+"px"}window.setTimeout(function(){try{YAHOO.util.Dom.get(x+"_createlink_url").focus()}catch(E){}},50);if(this._isLocalFile(p)){c.addClass(B+"_createlink_url","warning");this.get("panel").setFooter(this.STR_LOCAL_FILE_WARNING)}else{if(this._isMissingBookmark(p)){c.addClass(B+"_createlink_url","warning");this.get("panel").setFooter(this.STR_MISSING_BOOKMARK_WARNING)}else{c.removeClass(B+"_createlink_url","warning");this.get("panel").setFooter(" ")}}a.on(B+"_createlink_url","blur",function(){var E=c.get(B+"_createlink_url");if(this._isLocalFile(E.value)){c.addClass(E,"warning");this.get("panel").setFooter(this.STR_LOCAL_FILE_WARNING)}else{if(this._isMissingBookmark(E.value)){c.addClass(E,"warning");this.get("panel").setFooter(this.STR_MISSING_BOOKMARK_WARNING)}else{c.removeClass(E,"warning");this.get("panel").setFooter(" ")}}},this,true);a.on(B+"_createlink_url","keypress",function(){var E=this;setTimeout(function(){E._handleURLChange()},0)},this,true);if(w||o){g.setAttribute("disabled","disabled")}else{g.removeAttribute("disabled");g.parentNode.removeAttribute("disabled")}},this,true);this.openWindow(n)})},_handleCreateLinkWindowClose:function(){var e=c.get(this.get("id")+"_createlink_url"),i=c.get(this.get("id")+"_createlink_target"),k=c.get(this.get("id")+"_createlink_title"),f=arguments[0].win.el,l=f;if(e&&e.value){var g=e.value;if(g.indexOf("#")==0){f.setAttribute("href",encodeURIComponent(g));f.removeAttribute("target","");f.removeAttribute("title")}else{if((g.indexOf("://")==-1)&&(g.substring(0,1)!="/")&&(g.substring(0,6).toLowerCase()!="mailto")&&(g.substring(0,10).toLowerCase()!="javascript")){if((g.indexOf("@")!=-1)&&(g.substring(0,6).toLowerCase()!="mailto")){g="mailto:"+g}else{if((g.indexOf("\\\\")!=-1)){g="file://"+g}else{if(g.substring(0,1)!="#"){g="http://"+g}}}f.setAttribute("href",g);if(i.checked){f.setAttribute("target",i.value)}else{f.setAttribute("target","")}}else{f.setAttribute("href",g);if(i.checked){f.setAttribute("target",i.value)}else{f.setAttribute("target","")}}}f.setAttribute("title",((k.value)?k.value:""))}else{var j=f.getAttribute("href");if((j==null||j=="")||(j!=null&&(e==null||e.value==null||e.value==""))){var h=this._getDoc().createElement("span");h.innerHTML=f.innerHTML;c.addClass(h,"yui-non");f.parentNode.replaceChild(h,f)}}c.removeClass(e,"warning");c.removeClass(e,"yui-url-sync");if(!this.browser.ie){var n=$(f).text();if(g==n||n.indexOf(g)>=0||g.indexOf(n)>=0){$(f).addClass("yui-url-sync")}}c.get(this.get("id")+"_createlink_url").value="";var m=c.get(this.get("id")+"_createlink_bookmarks_selection");m.length=0;m.options[0]=new Option(this.STR_NO_BOOKMARKS,this.STR_NO_BOOKMARKS);c.get(this.get("id")+"_createlink_title").value="";c.get(this.get("id")+"_createlink_target").checked=false;this.nodeChange();this.currentElement=[];this._checkBookmarks()},_renderCreateAnchorWindow:function(){var g=this.get("id");var j="";var k=this.get("externalURLFieldID")>0;var i=k?"60%":"75%";j='<label for="'+g+'_createanchor_url"><strong>'+this.STR_ANCHOR_URL+':</strong> <input type="text" name="'+g+'_createanchor_url" id="'+g+'_createanchor_url" value="" style="width:'+i+';">';j+="</label>";var e=document.createElement("div");e.innerHTML=j;var h=document.createElement("div");h.className="removeLink";var f=document.createElement("a");f.href="#";f.innerHTML=this.STR_LINK_PROP_REMOVE;f.title=this.STR_LINK_PROP_REMOVE;a.on(f,"click",function(m){a.stopEvent(m);this.unsubscribeAll("afterExecCommand");var l=this.currentElement[0];if(l&&this._isElement(l,"a")){this._removeWarningSpan(l,"yui-duplicate-anchor")}this.execCommand("unlink");this.closeWindow()},this,true);h.appendChild(f);e.appendChild(h);this._windows.createanchor={};this._windows.createanchor.body=e;a.on(e,"keyup",function(l){a.stopPropagation(l)});this.get("panel").editor_form.appendChild(e);this.fireEvent("windowCreateAnchorRender",{type:"windowCreateAnchorRender",panel:this.get("panel"),body:e});return e},_handleCreateAnchorClick:function(){var e=this._getSelectedElement();if(this._isElement(e,"img")){this.STOP_EXEC_COMMAND=true;this.currentElement[0]=e;this.toolbar.fireEvent("insertimageClick",{type:"insertimageClick",target:this.toolbar});this.fireEvent("afterExecCommand",{type:"afterExecCommand",target:this});return false}else{if(this._isElement(e,"a")&&(!e.getAttribute("name")||e.getAttribute("name").length==0)){this.STOP_EXEC_COMMAND=true;this.currentElement[0]=e;this.toolbar.fireEvent("createlinkClick",{type:"createlinkClick",target:this.toolbar});this.fireEvent("afterExecCommand",{type:"afterExecCommand",target:this});return false}}if(this.get("limitCommands")){if(!this.toolbar.getButtonByValue("createanchor")){return false}}this.on("afterExecCommand",function(){var j=new YAHOO.widget.EditorWindow("createanchor",{width:"350px"});j.setFooter(" ");var i=this.currentElement[0],g="";if(i){j.el=i;if(i.getAttribute("name")!==null){g=i.getAttribute("name");if(this._isDuplicateBookmark(g)){c.addClass(h+"_createanchor_url","warning");j.setFooter(this.STR_DUPLICATE_BOOKMARK_WARNING)}else{c.removeClass(h+"_createanchor_url","warning");j.setFooter(" ")}}}var f=null;if(this._windows.createanchor&&this._windows.createanchor.body){f=this._windows.createanchor.body}else{f=this._renderCreateAnchorWindow()}j.setHeader(this.STR_ANCHOR_PROP_TITLE);j.setBody(f);var h=this.get("id");a.purgeElement(h+"_createanchor_url");c.get(h+"_createanchor_url").value=g;c.get(h+"_createanchor_url").style.width="75%";a.onAvailable(h+"_createanchor_url",function(){var k=h;window.setTimeout(function(){try{YAHOO.util.Dom.get(k+"_createanchor_url").focus()}catch(l){}},50);if(this._isDuplicateBookmark(i.getAttribute("name"))){c.addClass(h+"_createanchor_url","warning");this.get("panel").setFooter(this.STR_DUPLICATE_BOOKMARK_WARNING)}else{c.removeClass(h+"_createanchor_url","warning");this.get("panel").setFooter(" ")}a.on(h+"_createanchor_url","blur",function(){var l=c.get(h+"_createanchor_url").value;if(this._isDuplicateBookmark(l)){c.addClass(h+"_createanchor_url","warning");this.get("panel").setFooter(this.STR_DUPLICATE_BOOKMARK_WARNING)}else{c.removeClass(h+"_createanchor_url","warning");this.get("panel").setFooter(" ")}},this,true)},this,true);this.openWindow(j)})},_handleCreateAnchorWindowClose:function(){var h=c.get(this.get("id")+"_createanchor_url"),i=arguments[0].win.el,f=i;if(h&&h.value){var j=h.value;i.setAttribute("name",j);c.addClass(i,"yui-anchor");i.removeAttribute("href");i.removeAttribute("target");i.removeAttribute("title")}else{var e=i.getAttribute("name");if((e==null||e=="")||(e!=null&&(h==null||h.value==null||h.value==""))){var g=this._getDoc().createElement("span");g.innerHTML=i.innerHTML;c.addClass(g,"yui-non");i.parentNode.replaceChild(g,i)}}c.removeClass(h,"warning");c.get(this.get("id")+"_createanchor_url").value="";this.nodeChange();this.currentElement=[];this._checkBookmarks()},_handleInsertImageButton:function(e){return true},_handleImageURLChange:function(){var h=this.get("id");var i=this.currentElement[0];var g=c.get(h+"_insertimage_url");var f=this;i=f.currentElement[0];if(g.value&&i){if(g.value==i.getAttribute("src",2)){return false}}if(f._isLocalFile(g.value)){c.addClass(g,"warning");f.get("panel").setFooter(f.STR_LOCAL_FILE_WARNING)}else{if(f.currentElement[0]){c.removeClass(g,"warning");f.get("panel").setFooter(" ");if((f.browser.webkit&&!f.browser.webkit3||f.browser.air)||f.browser.opera){f.get("panel").setFooter(f.STR_IMAGE_COPY)}if(g&&g.value&&(g.value!=f.STR_IMAGE_HERE)){f.currentElement[0].setAttribute("src",g.value);var e=new Image();e.onerror=function(){g.value=f.STR_IMAGE_HERE;e.setAttribute("src",f.get("blankimage"));f.currentElement[0].setAttribute("src",f.get("blankimage"));YAHOO.util.Dom.get(f.get("id")+"_insertimage_height").value=e.height;YAHOO.util.Dom.get(f.get("id")+"_insertimage_width").value=e.width};var j=h;window.setTimeout(function(){YAHOO.util.Dom.get(j+"_insertimage_height").value=e.height;YAHOO.util.Dom.get(j+"_insertimage_width").value=e.width;if(f.currentElement&&f.currentElement[0]){if(!f.currentElement[0]._height){f.currentElement[0]._height=e.height}if(!f.currentElement[0]._width){f.currentElement[0]._width=e.width}}},800);if(g.value!=f.STR_IMAGE_HERE){e.src=g.value}}}}},_renderInsertImageWindow:function(){var m=this.get("id");var g=this.currentElement[0];var n="";n='<label for="'+m+'_insertimage_url"><strong>'+this.STR_IMAGE_URL+':</strong> <input type="text" id="'+m+'_insertimage_url" value="" size="40">';if(this._insertImageButton){var p=(this._enableInsertImageButton?"":'disabled="disabled"');var r="visibility: "+(this._showInsertImageButton?"visible":"hidden");n+='<button style="position: relative; '+r+'" type="button" name="'+m+'_insertimage_button" id="'+m+'_insertimage_button" value="" '+p+">...</button>"}n+="</label>";var k=document.createElement("div");k.innerHTML=n;var j=document.createElement("div");j.id=m+"_img_toolbar";k.appendChild(j);var i="";i='<label for="'+m+'_insertimage_title"><strong>'+this.STR_IMAGE_TITLE+':</strong> <input type="text" id="'+m+'_insertimage_title" value="" size="40"></label>';i+='<label for="'+m+'_insertimage_link"><strong>'+this.STR_LINK_URL+':</strong> <input type="text" name="'+m+'_insertimage_link" id="'+m+'_insertimage_link" value=""></label>';i+='<label for="'+m+'_insertimage_target"><strong>&nbsp;</strong><input type="checkbox" name="'+m+'_insertimage_target_" id="'+m+'_insertimage_target" value="_blank" class="insertimage_target"> '+this.STR_LINK_NEW_WINDOW+"</label>";var e=document.createElement("div");e.innerHTML=i;k.appendChild(e);var f={};this._defaultImageToolbarConfig.rtl=this.get("rtl");d.augmentObject(f,this._defaultImageToolbarConfig);var h=new YAHOO.widget.Toolbar(j,f);h.editor_el=g;this._defaultImageToolbar=h;var q=h.get("cont");var l=document.createElement("div");l.className="yui-toolbar-group yui-toolbar-group-height-width height-width";l.innerHTML="<h3>"+this.STR_IMAGE_SIZE+":</h3>";l.innerHTML+='<span tabIndex="-1"><input type="text" size="3" value="" id="'+m+'_insertimage_width"> x <input type="text" size="3" value="" id="'+m+'_insertimage_height"></span>';q.insertBefore(l,q.firstChild);if(this._insertImageButton){a.onAvailable(m+"_insertimage_button",function(){a.on(m+"_insertimage_button","click",function(){this._handleInsertImageButton()},this,true)},this,true)}a.onAvailable(m+"_insertimage_width",function(){a.on(m+"_insertimage_width","blur",function(){var o=parseInt(c.get(m+"_insertimage_width").value,10);if(o>5){this._defaultImageToolbar.editor_el.style.width=o+"px"}},this,true)},this,true);a.onAvailable(m+"_insertimage_height",function(){a.on(m+"_insertimage_height","blur",function(){var o=parseInt(c.get(m+"_insertimage_height").value,10);if(o>5){this._defaultImageToolbar.editor_el.style.height=o+"px"}},this,true)},this,true);h.on("colorPickerClicked",function(x){var t="1",w="solid",s="black",v=this._defaultImageToolbar.editor_el;if(v.style.borderLeftWidth){t=parseInt(v.style.borderLeftWidth,10)}if(v.style.borderLeftStyle){w=v.style.borderLeftStyle}if(v.style.borderLeftColor){s=v.style.borderLeftColor}var u=t+"px "+w+" #"+x.color;v.style.border=u},this,true);h.on("buttonClick",function(z){var x=z.button.value,w=this._defaultImageToolbar.editor_el,v="";if(z.button.menucmd){x=z.button.menucmd}var t="1",u="solid",s="black";if(w.style.borderLeftWidth){t=parseInt(w.style.borderLeftWidth,10)}if(w.style.borderLeftStyle){u=w.style.borderLeftStyle}if(w.style.borderLeftColor){s=w.style.borderLeftColor}switch(x){case"bordersize":if(this.browser.webkit&&this._lastImage){c.removeClass(this._lastImage,"selected");this._lastImage=null}v=parseInt(z.button.value,10)+"px "+u+" "+s;w.style.border=v;if(parseInt(z.button.value,10)>0){h.enableButton("bordertype");h.enableButton("bordercolor")}else{h.disableButton("bordertype");h.disableButton("bordercolor")}this._updateMenuChecked("bordersize",x,h);break;case"bordertype":if(this.browser.webkit&&this._lastImage){c.removeClass(this._lastImage,"selected");this._lastImage=null}v=t+"px "+z.button.value+" "+s;w.style.border=v;this._updateMenuChecked("bordertype",x,h);break;case"right":case"left":h.deselectAllButtons();w.style.display="";w.align=z.button.value;break;case"inline":h.deselectAllButtons();w.style.display="";w.align="";break;case"block":h.deselectAllButtons();w.style.display="block";w.align="center";break;case"padding":var y=h.getButtonById(z.button.id);w.style.margin=y.get("label")+"px";break}h.selectButton(z.button.value);if(x!=="padding"){this.moveWindow()}},this,true);if(this.get("localFileWarning")){a.on(m+"_insertimage_link","blur",function(){var o=c.get(m+"_insertimage_link");if(this._isLocalFile(o.value)){c.addClass(o,"warning");this.get("panel").setFooter(this.STR_LOCAL_FILE_WARNING)}else{c.removeClass(o,"warning");this.get("panel").setFooter(" ");if((this.browser.webkit&&!this.browser.webkit3||this.browser.air)||this.browser.opera){this.get("panel").setFooter(this.STR_IMAGE_COPY)}}},this,true)}a.on(m+"_insertimage_url","blur",function(){this._handleImageURLChange()},this,true);this._windows.insertimage={};this._windows.insertimage.body=k;this.get("panel").editor_form.appendChild(k);this.fireEvent("windowInsertImageRender",{type:"windowInsertImageRender",panel:this.get("panel"),body:k,toolbar:h});return k},_handleExternalLinksButton:function(e){if(this.get("externalURLFieldID")>0){this.fireEvent("externalLinkClick",{type:"externalLinkClick",target:e})}},_handleBookmarkSelection:function(){var f=this.get("id");var e=c.get(f+"_createlink_bookmarks_selection").value;var g=c.get(f+"_createlink_target");if(e&&e.length>0&&e!==this.STR_NO_BOOKMARKS){c.get(f+"_createlink_url").value="#"+e;g.setAttribute("disabled","disabled");g.parentNode.setAttribute("disabled","disabled")}else{g.removeAttribute("disabled");g.parentNode.removeAttribute("disabled")}},_handleURLChange:function(){var h=this.get("id");var f=c.get(h+"_createlink_url");var g=c.get(h+"_createlink_bookmarks_selection");var i=c.get(h+"_createlink_target");i.removeAttribute("disabled");i.parentNode.removeAttribute("disabled");g.selectedIndex=-1;if(f.value&&f.value.length>2&&f.value.indexOf("#")==0&&g.length>0){i.setAttribute("disabled","disabled");i.parentNode.setAttribute("disabled","disabled");for(var e=0;e<g.length;e++){if(g.options[e].value===f.value.substr(1)){g.options[e].selected=true;return}}}},_handleInsertImageClick:function(){if(this.get("limitCommands")){if(!this.toolbar.getButtonByValue("insertimage")){return false}}this.on("afterExecCommand",function(){var g=this.currentElement[0],o=null,l="",y="",f=null,z="",k="",w="",q=75,u=75,p=0,m=0,j=0,r=false,i=new YAHOO.widget.EditorWindow("insertimage",{width:"415px"});i.setFooter(" ");if(!g){g=this._getSelectedElement()}if(g){i.el=g;if(g.getAttribute("src")){k=g.getAttribute("src",2);if(k.indexOf(this.get("blankimage"))!=-1){k=this.STR_IMAGE_HERE;r=true}}if(g.getAttribute("alt",2)){z=g.getAttribute("alt",2)}if(g.getAttribute("title",2)){z=g.getAttribute("title",2)}if(g.parentNode&&this._isElement(g.parentNode,"a")){l=g.parentNode.getAttribute("href",2);if(g.parentNode.getAttribute("target")!==null){y=g.parentNode.getAttribute("target")}}q=parseInt(g.height,10);u=parseInt(g.width,10);if(g.style.height){q=parseInt(g.style.height,10)}if(g.style.width){u=parseInt(g.style.width,10)}if(g.style.margin){p=parseInt(g.style.margin,10)}if(!r){if(!g._height){g._height=q}if(!g._width){g._width=u}m=g._height;j=g._width}}if(this._windows.insertimage&&this._windows.insertimage.body){o=this._windows.insertimage.body;this._defaultImageToolbar.resetAllButtons()}else{o=this._renderInsertImageWindow()}f=this._defaultImageToolbar;f.editor_el=g;var e="0",t="solid";if(g.style.borderLeftWidth){e=parseInt(g.style.borderLeftWidth,10)}if(g.style.borderLeftStyle){t=g.style.borderLeftStyle}var x=f.getButtonByValue("bordersize"),v=((parseInt(e,10)>0)?"":this.STR_NONE);x.set("label",'<span class="yui-toolbar-bordersize-'+e+'">'+v+"</span>");this._updateMenuChecked("bordersize",e,f);var n=f.getButtonByValue("bordertype");n.set("label",'<span class="yui-toolbar-bordertype-'+t+'">asdfa</span>');this._updateMenuChecked("bordertype",t,f);if(parseInt(e,10)>0){f.enableButton(n);f.enableButton(x);f.enableButton("bordercolor")}if((g.align=="right")||(g.align=="left")){f.selectButton(g.align)}else{if(g.style.display=="block"){f.selectButton("block")}else{f.selectButton("inline")}}if(parseInt(g.style.marginLeft,10)>0){f.getButtonByValue("padding").set("label",""+parseInt(g.style.marginLeft,10))}if(g.style.borderSize){f.selectButton("bordersize");f.selectButton(parseInt(g.style.borderSize,10))}f.getButtonByValue("padding").set("label",""+p);i.setHeader(this.STR_IMAGE_PROP_TITLE);i.setBody(o);if((this.browser.webkit&&!this.browser.webkit3||this.browser.air)||this.browser.opera){i.setFooter(this.STR_IMAGE_COPY)}this.openWindow(i);c.get(this.get("id")+"_insertimage_url").value=k;c.get(this.get("id")+"_insertimage_title").value=z;c.get(this.get("id")+"_insertimage_link").value=l;c.get(this.get("id")+"_insertimage_target").checked=((y)?true:false);c.get(this.get("id")+"_insertimage_width").value=u;c.get(this.get("id")+"_insertimage_height").value=q;var h="";this.toolbar.selectButton("insertimage");var s=this.get("id");window.setTimeout(function(){try{YAHOO.util.Dom.get(s+"_insertimage_url").focus();if(r){YAHOO.util.Dom.get(s+"_insertimage_url").select()}}catch(A){}},50)})},_handleInsertImageWindowClose:function(){var e=c.get(this.get("id")+"_insertimage_url"),m=c.get(this.get("id")+"_insertimage_title"),k=c.get(this.get("id")+"_insertimage_link"),i=c.get(this.get("id")+"_insertimage_target"),f=arguments[0].win.el;if(e&&e.value&&(e.value!=this.STR_IMAGE_HERE)){f.setAttribute("src",e.value);f.setAttribute("title",m.value);f.setAttribute("alt",m.value);var j=f.parentNode;if(k.value){var h=k.value;if((h.indexOf("://")==-1)&&(h.substring(0,1)!="/")&&(h.substring(0,6).toLowerCase()!="mailto")){if((h.indexOf("@")!=-1)&&(h.substring(0,6).toLowerCase()!="mailto")){h="mailto:"+h}else{h="http://"+h}}if(j&&this._isElement(j,"a")){j.setAttribute("href",h);if(i.checked){j.setAttribute("target",i.value)}else{j.setAttribute("target","")}}else{var l=this._getDoc().createElement("a");l.setAttribute("href",h);if(i.checked){l.setAttribute("target",i.value)}else{l.setAttribute("target","")}f.parentNode.replaceChild(l,f);l.appendChild(f)}}else{if(j&&this._isElement(j,"a")){j.parentNode.replaceChild(f,j)}}}else{var g="";if(f.getAttribute("src")){g=f.getAttribute("src",2)}if(g.indexOf(this.get("blankimage"))!=-1||e==null||e.value==null||e.value==this.STR_IMAGE_HERE){f.parentNode.removeChild(f)}}c.get(this.get("id")+"_insertimage_url").value="";c.get(this.get("id")+"_insertimage_title").value="";c.get(this.get("id")+"_insertimage_link").value="";c.get(this.get("id")+"_insertimage_target").checked=false;c.get(this.get("id")+"_insertimage_width").value=0;c.get(this.get("id")+"_insertimage_height").value=0;this._defaultImageToolbar.resetAllButtons();this.currentElement=[];this.nodeChange()},_renderPropertyWindows:function(){this._renderInsertImageWindow();this._renderCreateLinkWindow();this._renderCreateAnchorWindow()},EDITOR_PANEL_ID:"-panel",_renderPanel:function(){var h=document.createElement("div");c.addClass(h,"yui-editor-panel");h.id=this.get("id")+this.EDITOR_PANEL_ID;h.style.position="absolute";h.style.top="-9999px";h.style.left="-9999px";document.body.appendChild(h);this.get("element_cont").insertBefore(h,this.get("element_cont").get("firstChild"));var e=new YAHOO.widget.Overlay(this.get("id")+this.EDITOR_PANEL_ID,{width:"300px",iframe:true,visible:false,underlay:"none",draggable:false,close:false});this.set("panel",e);e.setBody("---");e.setHeader(" ");e.setFooter(" ");var k=document.createElement("div");k.className=this.CLASS_PREFIX+"-body-cont";for(var l in this.browser){if(this.browser[l]){c.addClass(k,l);break}}c.addClass(k,((YAHOO.widget.Button&&(this._defaultToolbar.buttonType=="advanced"))?"good-button":"no-button"));var i=document.createElement("h3");i.className="yui-editor-skipheader";i.innerHTML=this.STR_CLOSE_WINDOW_NOTE;k.appendChild(i);var f=document.createElement("fieldset");e.editor_form=f;k.appendChild(f);var g=document.createElement("span");g.innerHTML="X";g.title=this.STR_CLOSE_WINDOW;g.className="close";a.on(g,"click",this.closeWindow,this,true);var m=document.createElement("span");m.innerHTML="^";m.className="knob";e.editor_knob=m;var n=document.createElement("h3");e.editor_header=n;n.innerHTML="<span></span>";if(this.get("rtl")){n.style.textAlign="right"}e.setHeader(" ");e.appendToHeader(n);n.appendChild(g);n.appendChild(m);e.setBody(" ");e.setFooter(" ");e.appendToBody(k);a.on(e.element,"click",function(o){a.stopPropagation(o)});var j=function(){e.bringToTop();YAHOO.util.Dom.setStyle(this.element,"display","block");this._handleWindowInputs(false)};e.showEvent.subscribe(j,this,true);e.hideEvent.subscribe(function(){this._handleWindowInputs(true)},this,true);e.renderEvent.subscribe(function(){this._renderPropertyWindows();this.fireEvent("windowRender",{type:"windowRender",panel:e});this._handleWindowInputs(true)},this,true);if(this.DOMReady){this.get("panel").render()}else{a.onDOMReady(function(){this.get("panel").render()},this,true)}return this.get("panel")},_handleWindowInputs:function(g){if(!d.isBoolean(g)){g=false}var f=this.get("panel").element.getElementsByTagName("input");for(var h=0;h<f.length;h++){try{f[h].disabled=g}catch(j){}}},currentInsertEL:null,openWindow:function(k){currentInsertEL=this.currentElement[0];var p=this;window.setTimeout(function(){p.toolbar.set("disabled",true)},10);a.on(document,"keydown",this._closeWindow,this,true);if(this.currentWindow){this.closeWindow()}var n=c.getXY(this.get("iframe").get("element"));if(this.get("rtl")&&this.browser.ie){n[0]=n[0]-c.getDocumentScrollLeft(document)}var q=c.getXY(this.currentElement[0]),e=this.get("panel"),h=[(q[0]+n[0]-20),(q[1]+n[1]+10)],g=(parseInt(k.attrs.width,10)/2),l="center",j=null;this.fireEvent("beforeOpenWindow",{type:"beforeOpenWindow",win:k,panel:e});var f=e.editor_form;var i=this._windows;for(var o in i){if(d.hasOwnProperty(i,o)){if(i[o]&&i[o].body){if(o==k.name){c.setStyle(i[o].body,"display","block")}else{c.setStyle(i[o].body,"display","none")}}}}if(this._windows[k.name].body){c.setStyle(this._windows[k.name].body,"display","block");f.appendChild(this._windows[k.name].body)}else{if(d.isObject(k.body)){f.appendChild(k.body)}else{var m=document.createElement("div");m.innerHTML=k.body;f.appendChild(m)}}e.editor_header.firstChild.innerHTML=k.header;if(k.footer!==null){e.setFooter(k.footer)}e.cfg.setProperty("width",k.attrs.width);this.currentWindow=k;this.moveWindow(true);e.show();this.fireEvent("afterOpenWindow",{type:"afterOpenWindow",win:k,panel:e})},moveWindow:function(i){if(!this.currentWindow){return false}var I=c.getXY(this.get("iframe").get("element"));if(this.get("rtl")&&this.browser.ie){I[0]=I[0]-c.getDocumentScrollLeft(document)}var l=this.currentWindow,m=c.getXY(this.currentElement[0]),t=this.get("panel"),F=[(m[0]+I[0]),(m[1]+I[1])],x=(parseInt(l.attrs.width,10)/2),B="center",u=t.cfg.getProperty("xy")||[0,0],j=t.editor_knob,E=0,q=0,A=false;F[0]=((F[0]-x)+20);F[0]=F[0]-c.getDocumentScrollLeft(this._getDoc());F[1]=F[1]-c.getDocumentScrollTop(this._getDoc());if(this._isElement(this.currentElement[0],"img")){if(F[1]<0){F[1]=m[1]+I[1]}if(this.currentElement[0].src.indexOf(this.get("blankimage"))!=-1){F[0]=(F[0]+(75/2));F[1]=(F[1]+75)}else{var s=parseInt(this.currentElement[0].width,10);var D=parseInt(this.currentElement[0].height,10);F[0]=(F[0]+(s/2));F[1]=(F[1]+D)}F[1]=F[1]+15}else{var n=c.getStyle(this.currentElement[0],"fontSize");if(n&&n.indexOf&&n.indexOf("px")!=-1){F[1]=F[1]+parseInt(c.getStyle(this.currentElement[0],"fontSize"),10)+5}else{F[1]=F[1]+20}}if(F[0]<I[0]){F[0]=I[0]+5;B="left"}if((F[0]+(x*2))>(I[0]+parseInt(this.get("iframe").get("element").clientWidth,10))){F[0]=((I[0]+parseInt(this.get("iframe").get("element").clientWidth,10))-(x*2)-5);B="right"}var v=I[1]+parseInt(this.get("height"),10);var k=I[0]+parseInt(this.get("width"),10);if(F[1]>v){F[1]=v}var t=this.get("panel");var J=parseInt(document.documentElement?document.documentElement.clientHeight:document.body.clientHeight,10);var o=parseInt(document.documentElement?document.documentElement.clientWidth:document.body.clientWidth,10);var f=parseInt(t.element.clientHeight,10);var z=parseInt(l.attrs.width,10);var p=false;if(F[1]+f>J){F[1]-=f;p=true}if(F[0]+z>o){F[0]-=z;p=true}try{E=(F[0]-u[0]);q=(F[1]-u[1])}catch(H){}E=((E<0)?(E*-1):E);q=((q<0)?(q*-1):q);if(((E>10)||(q>10))||i){var y=0,C=0;if(this.currentElement[0].width){C=(parseInt(this.currentElement[0].width,10)/2)}var r=m[0]+I[0]+C;y=r-F[0];if(y>(parseInt(l.attrs.width,10)-1)){y=((parseInt(l.attrs.width,10)-30)-1)}else{if(y<40){y=1}}if(isNaN(y)){y=1}j.style.visibility=p?"hidden":"visible";if(i){if(j){j.style.left=y+"px"}t.cfg.setProperty("xy",F)}else{if(this.get("animate")){A=new YAHOO.util.Anim(t.element,{},0.5,YAHOO.util.Easing.easeOut);A.attributes={top:{to:F[1]},left:{to:F[0]}};A.onComplete.subscribe(function(){t.cfg.setProperty("xy",F)});var G=new YAHOO.util.Anim(t.iframe,A.attributes,0.5,YAHOO.util.Easing.easeOut);var g=new YAHOO.util.Anim(j,{left:{to:y}},0.6,YAHOO.util.Easing.easeOut);A.animate();G.animate();g.animate()}else{j.style.left=y+"px";t.cfg.setProperty("xy",F)}}}},_closeWindow:function(e){if(this._checkKey(this._keyMap.CLOSE_WINDOW,e)){if(this.currentWindow){this.closeWindow()}}},closeWindow:function(e){if(this.currentWindow){this.fireEvent("window"+this.currentWindow.name+"Close",{type:"window"+this.currentWindow.name+"Close",win:this.currentWindow,el:this.currentElement[0]});this.fireEvent("closeWindow",{type:"closeWindow",win:this.currentWindow});this.currentWindow=null;this.get("panel").hide();this.get("panel").cfg.setProperty("xy",[-900,-900]);this.get("panel").syncIframe();this.unsubscribeAll("afterExecCommand");this.toolbar.set("disabled",false);this.toolbar.resetAllButtons();if(this.browser.ie){this._selectNode(currentInsertEL,true)}else{this.focus()}a.removeListener(document,"keydown",this._closeWindow)}},cmd_undo:function(g){if(this._undoCache&&this._hasUndoLevel()){var f=this.getEditorHTML(),e;if(!this._undoLevel){this._undoLevel=this._undoCache.length}this._undoLevel=(this._undoLevel-1);if(this._undoLevel>=0&&this._undoLevel<this._undoCache.length&&this._undoCache[this._undoLevel]){e=this._getUndo(this._undoLevel);if(e!=f){this.setEditorHTML(e)}else{while(e==f&&this._undoLevel>0){this._undoLevel=(this._undoLevel-1);e=this._getUndo(this._undoLevel);if(e!=f){this.setEditorHTML(e)}}}if(this._undoLevel==0){this.toolbar.disableButton("undo")}}else{this._undoLevel=0;this.toolbar.disableButton("undo")}}else{this.toolbar.disableButton("undo")}return[false]},cmd_redo:function(g){if(this._undoCache&&this._undoLevel>=0&&this._undoLevel<(this._undoCache.length-1)){var f=this.getEditorHTML(),e;this._undoLevel=(this._undoLevel+1);if(this._undoLevel>=0&&this._undoLevel<this._undoCache.length&&this._undoCache[this._undoLevel]){e=this._getUndo(this._undoLevel);if(e!=f){this.setEditorHTML(e)}else{while(e==f&&this._undoLevel<(this._undoCache.length-1)){this._undoLevel=(this._undoLevel+1);e=this._getUndo(this._undoLevel);if(e!=f){this.setEditorHTML(e)}}}if(this._undoLevel==this._undoCache.length){this.toolbar.disableButton("redo")}}else{this._undoLevel=this._undoCache.length;this.toolbar.disableButton("redo")}}else{this.toolbar.disableButton("redo")}return[false]},cmd_heading:function(l){var f=true,h=null,k="heading",m=this._getSelection(),e=this._getSelectedElement();if(e){m=e}var j;if(this.browser.ie&&this.browser.ie<11){k="formatblock";j=m}else{j=m.parentNode.parentNode}if(l==this.STR_NONE){if((j&&j.tagName&&(j.tagName.toLowerCase()=="ul"||j.tagName.toLowerCase()=="ol"))){for(var g=0;g<j.childNodes.length;g++){e=j.childNodes[g].firstChild;h=this._swapEl(e,"span",function(i){i.className="yui-non"})}this._selectNode(j);this.currentElement[0]=j}else{if((m&&m.tagName&&(m.tagName.toLowerCase().substring(0,1)=="h"))||(m&&m.parentNode&&m.parentNode.tagName&&(m.parentNode.tagName.toLowerCase().substring(0,1)=="h"))){if(m.parentNode.tagName.toLowerCase().substring(0,1)=="h"){m=m.parentNode}if(this._isElement(m,"html")){return[false]}h=this._swapEl(e,"span",function(i){i.className="yui-non"});this._selectNode(h);this.currentElement[0]=h}}f=false}else{if(j&&j.tagName&&(j.tagName.toLowerCase()=="ul"||j.tagName.toLowerCase()=="ol"||j.tagName.toLowerCase()=="li")&&j.childNodes[0].firstChild&&j.childNodes[0].firstChild.tagName){if(j.tagName.toLowerCase()=="li"){j=j.parentNode}for(var g=0;g<j.childNodes.length;g++){m=j.childNodes[g].firstChild;h=this._swapEl(m,l)}this._selectNode(j);this.currentElement[0]=j}else{if(this._isElement(e,"h1")||this._isElement(e,"h2")||this._isElement(e,"h3")||this._isElement(e,"h4")||this._isElement(e,"h5")||this._isElement(e,"h6")){h=this._swapEl(e,l);this._selectNode(h);this.currentElement[0]=h}else{this._createCurrentElement(l);this._selectNode(this.currentElement[0])}}f=false}return[f,k]},cmd_hiddenelements:function(e){if(this._showingHiddenElements){this._lastButton=null;this._showingHiddenElements=false;this.toolbar.deselectButton("hiddenelements");c.removeClass(this._getDoc().body,this.CLASS_HIDDEN)}else{this._showingHiddenElements=true;c.addClass(this._getDoc().body,this.CLASS_HIDDEN);this.toolbar.selectButton("hiddenelements")}return[false]},cmd_removeformat:function(h){var f=true;if(this.browser.webkit&&!this._getDoc().queryCommandEnabled("removeformat")){var e=this._getSelection()+"";this._createCurrentElement("span");this.currentElement[0].className="yui-non";this.currentElement[0].innerHTML=e;for(var g=1;g<this.currentElement.length;g++){this.currentElement[g].parentNode.removeChild(this.currentElement[g])}f=false}return[f]},cmd_script:function(k,j){var g=true,e=k.toLowerCase().substring(0,3),h=null,f=this._getSelectedElement();if(this.browser.webkit){if(this._isElement(f,e)){h=this._swapEl(this.currentElement[0],"span",function(l){l.className="yui-non"});this._selectNode(h)}else{this._createCurrentElement(e);var i=this._swapEl(this.currentElement[0],e);this._selectNode(i);this.currentElement[0]=i}g=false}return g},cmd_superscript:function(e){return[this.cmd_script("superscript",e)]},cmd_subscript:function(e){return[this.cmd_script("subscript",e)]},cmd_indent:function(t){var g=true,j=this._getSelectedElement(),q=null;if(this.browser.ie>=11&&this._isElement(j,"font")){j=j.parentNode}if(this.browser.ie){if(this._isElement(j,"blockquote")||((this._isElement(j,"span")&&j.className=="yui-non"))||this._isElement(j,"p")){q=this._getDoc().createElement("blockquote");q.innerHTML=j.innerHTML;j.innerHTML="";j.appendChild(q);this._selectNode(q)}else{q=this._getDoc().createElement("blockquote");if(this.browser.ie>=11){if(this._isElement(j,"span")){if(YAHOO.lang.trim(j.innerText)==""){j=j.parentNode}q.innerHTML=j.innerHTML;j.innerHTML=""}else{var m=this._getRange();var e=m.startContainer;var h=m.endContainer;var k="";var f;var l=0;var s=m.startOffset;var n=m.endOffset;if(e!=null&&e.data!=undefined){l=e.data.length;k=e.data.substring(s,n);var i=e.data.substring(0,s);var p=h.data.substring(n,l)}q.innerHTML=k}}else{var r=this._getRange().htmlText;q.innerHTML=r}this._createCurrentElement("blockquote");this.currentElement[0].parentNode.replaceChild(q,this.currentElement[0]);this.currentElement[0]=q;var o=this;setTimeout(function(){o._selectNode(o.currentElement[0])},1)}g=false}else{t="blockquote"}return[g,"formatblock",t]},cmd_outdent:function(i){var e=true,h=this._getSelectedElement(),j=null,f=null;if(this.browser.webkit||(this.browser.ie&&this.browser.ie<11)){h=this._getSelectedElement();if(this._isElement(h,"blockquote")){var g=h.parentNode;if(this._isElement(h.parentNode,"blockquote")){g.innerHTML=h.innerHTML;this._selectNode(g)}else{if(this.browser.webkit&&navigator.userAgent.indexOf("Chrome")!=-1){h.innerHTML=h.innerHTML+"<br>";h.outerHTML=h.outerHTML.replace(/<\/?(blockquote)[^>]*>/gi,"");this._selectNode(h)}else{f=this._getDoc().createElement("span");f.innerHTML=h.innerHTML;YAHOO.util.Dom.addClass(f,"yui-non");g.replaceChild(f,h);this._selectNode(f)}}}e=false}else{if(this.browser.ie>=11){h=this._getSelectedElement();if(this._isElement(h.parentNode,"blockquote")){h=h.parentNode}h.outerHTML=h.outerHTML.replace(/<\/?(blockquote)[^>]*>/gi,"");e=false}else{i=false}}return[e,"outdent",i]},cmd_justify:function(t){var g=this._getSelectedElement();if(g&&!this._hasSelection()&&this._hasParent(g,"table")&&this._hasParent(g,"td")){var l=this._hasParent(g,"td");if(l){l.setAttribute("align",t);return false}}if(this.browser.ie){if(this._isElement(g,"img")){g.style.textAlign=t}else{try{var r=this._getRange();if(!this._hasSelection()){var j=this._autoSelectCurrentLine(r);if(!j){return false}}var o="";var h=document.createElement("TEMP");h.appendChild(document.createElement("DIV"));h.firstChild.innerHTML=r.htmlText.replace(/[\n]|[\r]/g,"");var s=this;var p=function(z){if(z&&z.hasChildNodes()){if(s._isElement(z,"div")||s._isElement(z,"yui_remove_me")){var e=[];for(var y=0;y<z.childNodes.length;y++){if(s._isElement(z.childNodes[y],"div")){e.push(z.childNodes[y])}}for(var y=0;y<e.length;y++){s._swapEl(e[y],"yui_remove_me")}}for(var y=0;y<z.childNodes.length;y++){p(z.childNodes[y])}}};p(h.firstChild);var q=h.getElementsByTagName("DIV");if(q&&q.length>0){for(var u=0;u<q.length;u++){q[u].style.textAlign=t;q[u].setAttribute("align","")}}var x=h.getElementsByTagName("IMG");if(x&&x.length>0){for(var u=0;u<x.length;u++){x[u].style.textAlign=t}}var n=h.getElementsByTagName("TABLE");if(n&&n.length>0){for(var u=0;u<n.length;u++){n[u].setAttribute("align",t)}}var m=h.getElementsByTagName("OL");if(m&&m.length>0){for(var u=0;u<m.length;u++){m[u].style.textAlign=t}}var v=h.getElementsByTagName("UL");if(v&&v.length>0){for(var u=0;u<v.length;u++){v[u].style.textAlign=t}}if(h.firstChild&&this._isElement(h.firstChild.firstChild,"div")){h.firstChild.firstChild.id="new_div_item";o=h.firstChild.innerHTML}else{h.firstChild.id="new_div_item";o=h.innerHTML}r.pasteHTML(o.replace(/(<\/?)yui_remove_me([^>]*)($|>)/g,""));var f=this._getDoc().getElementById("new_div_item");if(f){while(this._isElement(f.parentNode,"div")&&f.parentNode.childNodes.length==1){var k=f.parentNode;k.style.textAlign=t;k.innerHTML=f.innerHTML;f=k}var r=this._getDoc().body.createTextRange();r.moveToElementText(f);r.collapse(false);r.select();f.id="";f.style.textAlign=t;return false}}catch(w){}}}return[true,"justify"+t,""]},cmd_justifycenter:function(){return[this.cmd_justify("center")]},cmd_justifyleft:function(){return[this.cmd_justify("left")]},cmd_justifyright:function(){return[this.cmd_justify("right")]},toString:function(){var e="Editor";if(this.get&&this.get("element_cont")){e="Editor (#"+this.get("element_cont").get("id")+")"+((this.get("disabled")?" Disabled":""))}return e}});YAHOO.widget.EditorWindow=function(f,e){this.name=f.replace(" ","_");this.attrs=e};YAHOO.widget.EditorWindow.prototype={header:null,body:null,footer:null,setHeader:function(e){this.header=e},setBody:function(e){this.body=e},setFooter:function(e){this.footer=e},toString:function(){return"Editor Window ("+this.name+")"}}})();YAHOO.register("editor",YAHOO.widget.Editor,{version:"2.7.0",build:"1799"});